2022-04-25 08:20:17.356 +02:00 [DBG] Hosting starting
2022-04-25 08:22:34.330 +02:00 [DBG] Hosting starting
2022-04-25 08:22:35.317 +02:00 [DBG] Using development certificate: CN=localhost (Thumbprint: A40C6697D0C21C2C32B35E9E8F9AD3269C88392E)
2022-04-25 08:22:35.932 +02:00 [INF] Now listening on: https://localhost:5001
2022-04-25 08:22:35.951 +02:00 [INF] Now listening on: http://localhost:5000
2022-04-25 08:22:35.953 +02:00 [DBG] Loaded hosting startup assembly CityInfo.API
2022-04-25 08:22:35.956 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2022-04-25 08:22:35.957 +02:00 [INF] Hosting environment: Development
2022-04-25 08:22:35.959 +02:00 [INF] Content root path: C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API
2022-04-25 08:22:35.960 +02:00 [DBG] Hosting started
2022-04-25 08:22:36.037 +02:00 [DBG] Connection id "0HMH6GFUMC7AI" accepted.
2022-04-25 08:22:36.041 +02:00 [DBG] Connection id "0HMH6GFUMC7AI" started.
2022-04-25 08:22:36.069 +02:00 [DBG] Connection id "0HMH6GFUMC7AI" received FIN.
2022-04-25 08:22:36.093 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|182_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-04-25 08:22:36.203 +02:00 [DBG] Connection id "0HMH6GFUMC7AI" stopped.
2022-04-25 08:22:36.324 +02:00 [DBG] Connection id "0HMH6GFUMC7AI" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-04-25 08:22:38.632 +02:00 [DBG] Connection id "0HMH6GFUMC7AJ" accepted.
2022-04-25 08:22:38.649 +02:00 [DBG] Connection id "0HMH6GFUMC7AJ" started.
2022-04-25 08:22:38.692 +02:00 [DBG] Connection id "0HMH6GFUMC7AK" accepted.
2022-04-25 08:22:38.703 +02:00 [DBG] Connection id "0HMH6GFUMC7AJ" received FIN.
2022-04-25 08:22:38.710 +02:00 [DBG] Connection id "0HMH6GFUMC7AK" started.
2022-04-25 08:22:38.775 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-04-25 08:22:38.791 +02:00 [DBG] Connection id "0HMH6GFUMC7AJ" stopped.
2022-04-25 08:22:38.802 +02:00 [DBG] Connection id "0HMH6GFUMC7AJ" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-04-25 08:22:38.841 +02:00 [DBG] Connection "0HMH6GFUMC7AK" established using the following protocol: "Tls12"
2022-04-25 08:22:39.016 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - -
2022-04-25 08:22:39.022 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-04-25 08:22:39.229 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - - - 200 - text/html;charset=utf-8 217.8874ms
2022-04-25 08:22:39.518 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/swagger-ui.css - -
2022-04-25 08:22:39.753 +02:00 [DBG] The file transmission was cancelled
System.OperationCanceledException: The operation was canceled.
   at System.Threading.CancellationToken.ThrowOperationCanceledException()
   at System.Threading.CancellationToken.ThrowIfCancellationRequested()
   at Microsoft.AspNetCore.Http.SendFileResponseExtensions.SendFileAsyncCore(HttpResponse response, IFileInfo file, Int64 offset, Nullable`1 count, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.StaticFiles.StaticFileContext.SendAsync()
2022-04-25 08:22:39.765 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/favicon-16x16.png - -
2022-04-25 08:22:39.778 +02:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2022-04-25 08:22:39.782 +02:00 [DBG] The file transmission was cancelled
System.OperationCanceledException: The operation was canceled.
   at System.Threading.CancellationToken.ThrowOperationCanceledException()
   at System.Threading.CancellationToken.ThrowIfCancellationRequested()
   at Microsoft.AspNetCore.Http.SendFileResponseExtensions.SendFileAsyncCore(HttpResponse response, IFileInfo file, Int64 offset, Nullable`1 count, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.StaticFiles.StaticFileContext.SendAsync()
2022-04-25 08:22:39.784 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/swagger-ui.css - - - 0 142933 text/css 265.6687ms
2022-04-25 08:22:39.796 +02:00 [INF] Sending file. Request path: '/favicon-16x16.png'. Physical path: 'N/A'
2022-04-25 08:22:39.802 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/favicon-16x16.png - - - 0 665 image/png 37.0011ms
2022-04-25 08:22:39.927 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - -
2022-04-25 08:22:40.218 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 290.5008ms
2022-04-25 08:23:12.031 +02:00 [DBG] Connection id "0HMH6GFUMC7AL" accepted.
2022-04-25 08:23:12.041 +02:00 [DBG] Connection id "0HMH6GFUMC7AL" received FIN.
2022-04-25 08:23:12.043 +02:00 [DBG] Connection id "0HMH6GFUMC7AL" started.
2022-04-25 08:23:12.051 +02:00 [DBG] Connection id "0HMH6GFUMC7AM" accepted.
2022-04-25 08:23:12.055 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-04-25 08:23:12.067 +02:00 [DBG] Connection id "0HMH6GFUMC7AL" stopped.
2022-04-25 08:23:12.056 +02:00 [DBG] Connection id "0HMH6GFUMC7AM" started.
2022-04-25 08:23:12.069 +02:00 [DBG] Connection id "0HMH6GFUMC7AL" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-04-25 08:23:12.088 +02:00 [DBG] Connection "0HMH6GFUMC7AM" established using the following protocol: "Tls12"
2022-04-25 08:23:12.103 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/cities?name=Cape%20Town - -
2022-04-25 08:23:12.105 +02:00 [DBG] The request path  does not match the path filter
2022-04-25 08:23:12.154 +02:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2022-04-25 08:23:12.164 +02:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetAllCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2022-04-25 08:23:12.168 +02:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetAllCities (CityInfo.API)'
2022-04-25 08:23:12.174 +02:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetAllCities (CityInfo.API)'
2022-04-25 08:23:12.189 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-04-25 08:23:12.298 +02:00 [INF] Route matched with {action = "GetAllCities", controller = "Cities"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.Application.Dto.CityDto]] GetAllCities(System.String) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2022-04-25 08:23:12.305 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-04-25 08:23:12.309 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-04-25 08:23:12.323 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-04-25 08:23:12.333 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-04-25 08:23:12.339 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-04-25 08:23:12.355 +02:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2022-04-25 08:23:13.154 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2022-04-25 08:23:13.197 +02:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2022-04-25 08:23:13.250 +02:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2022-04-25 08:23:13.256 +02:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name 'name' in request data ...
2022-04-25 08:23:13.260 +02:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2022-04-25 08:23:13.262 +02:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2022-04-25 08:23:13.265 +02:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2022-04-25 08:23:13.270 +02:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2022-04-25 08:23:14.358 +02:00 [INF] Entity Framework Core 5.0.15 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: None
2022-04-25 08:23:14.410 +02:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Where(c => c.Name == __name_0)
    .OrderBy(c => c.Name)'
2022-04-25 08:23:14.693 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<City>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2], }
        SELECT c.Id, c.Description, c.Name
        FROM Cities AS c
        WHERE c.Name == @__name_0
        ORDER BY c.Name ASC), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
    CityInfo.Infrastructure.DbContexts.CityInfoContext, 
    False, 
    False
)'
2022-04-25 08:23:14.783 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-04-25 08:23:15.281 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (490ms).
2022-04-25 08:23:15.296 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-04-25 08:23:15.326 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API\CityInfo.db'.
2022-04-25 08:23:15.350 +02:00 [DBG] Executing DbCommand [Parameters=[@__name_0='?' (Size = 9)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Name" = @__name_0
ORDER BY "c"."Name"
2022-04-25 08:23:15.408 +02:00 [INF] Executed DbCommand (58ms) [Parameters=[@__name_0='?' (Size = 9)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Name" = @__name_0
ORDER BY "c"."Name"
2022-04-25 08:23:15.437 +02:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-04-25 08:23:15.497 +02:00 [DBG] A data reader was disposed.
2022-04-25 08:23:15.508 +02:00 [DBG] Closing connection to database 'main' on server 'C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API\CityInfo.db'.
2022-04-25 08:23:15.523 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-04-25 08:23:15.559 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2022-04-25 08:23:15.570 +02:00 [DBG] No information found on request to perform content negotiation.
2022-04-25 08:23:15.571 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-04-25 08:23:15.577 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-04-25 08:23:15.580 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-04-25 08:23:15.583 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.Application.Dto.CityDto, CityInfo.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-04-25 08:23:15.785 +02:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetAllCities (CityInfo.API) in 3427.1785ms
2022-04-25 08:23:15.788 +02:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetAllCities (CityInfo.API)'
2022-04-25 08:23:15.789 +02:00 [DBG] Connection id "0HMH6GFUMC7AM" completed keep alive response.
2022-04-25 08:23:15.795 +02:00 [DBG] 'CityInfoContext' disposed.
2022-04-25 08:23:15.800 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/cities?name=Cape%20Town - - - 200 77 application/json;+charset=utf-8 3697.0650ms
2022-04-25 08:24:52.666 +02:00 [DBG] Hosting starting
2022-04-25 08:24:53.620 +02:00 [DBG] Using development certificate: CN=localhost (Thumbprint: A40C6697D0C21C2C32B35E9E8F9AD3269C88392E)
2022-04-25 08:24:53.699 +02:00 [INF] Now listening on: https://localhost:5001
2022-04-25 08:24:53.706 +02:00 [INF] Now listening on: http://localhost:5000
2022-04-25 08:24:53.707 +02:00 [DBG] Loaded hosting startup assembly CityInfo.API
2022-04-25 08:24:53.709 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2022-04-25 08:24:53.711 +02:00 [INF] Hosting environment: Development
2022-04-25 08:24:53.712 +02:00 [INF] Content root path: C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API
2022-04-25 08:24:53.713 +02:00 [DBG] Hosting started
2022-04-25 08:24:54.108 +02:00 [DBG] Connection id "0HMH6GH7R5EJU" received FIN.
2022-04-25 08:24:54.108 +02:00 [DBG] Connection id "0HMH6GH7R5EJT" received FIN.
2022-04-25 08:24:54.111 +02:00 [DBG] Connection id "0HMH6GH7R5EJU" accepted.
2022-04-25 08:24:54.111 +02:00 [DBG] Connection id "0HMH6GH7R5EJT" accepted.
2022-04-25 08:24:54.114 +02:00 [DBG] Connection id "0HMH6GH7R5EJU" started.
2022-04-25 08:24:54.114 +02:00 [DBG] Connection id "0HMH6GH7R5EJT" started.
2022-04-25 08:24:54.152 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-04-25 08:24:54.152 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-04-25 08:24:54.296 +02:00 [DBG] Connection id "0HMH6GH7R5EJT" stopped.
2022-04-25 08:24:54.296 +02:00 [DBG] Connection id "0HMH6GH7R5EJU" stopped.
2022-04-25 08:24:54.301 +02:00 [DBG] Connection id "0HMH6GH7R5EJT" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-04-25 08:24:54.301 +02:00 [DBG] Connection id "0HMH6GH7R5EJU" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-04-25 08:24:54.664 +02:00 [DBG] Connection id "0HMH6GH7R5EJV" accepted.
2022-04-25 08:24:54.692 +02:00 [DBG] Connection id "0HMH6GH7R5EJV" started.
2022-04-25 08:24:54.812 +02:00 [DBG] Connection "0HMH6GH7R5EJV" established using the following protocol: "Tls12"
2022-04-25 08:24:54.918 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - -
2022-04-25 08:24:54.923 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-04-25 08:24:55.084 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - - - 200 - text/html;charset=utf-8 167.8396ms
2022-04-25 08:24:55.444 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - -
2022-04-25 08:24:55.763 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 318.6196ms
2022-04-25 08:24:58.413 +02:00 [DBG] Connection id "0HMH6GH7R5EK0" received FIN.
2022-04-25 08:24:58.413 +02:00 [DBG] Connection id "0HMH6GH7R5EK0" accepted.
2022-04-25 08:24:58.418 +02:00 [DBG] Connection id "0HMH6GH7R5EK0" started.
2022-04-25 08:24:58.419 +02:00 [DBG] Connection id "0HMH6GH7R5EK1" accepted.
2022-04-25 08:24:58.421 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-04-25 08:24:58.422 +02:00 [DBG] Connection id "0HMH6GH7R5EK1" started.
2022-04-25 08:24:58.427 +02:00 [DBG] Connection id "0HMH6GH7R5EK0" stopped.
2022-04-25 08:24:58.441 +02:00 [DBG] Connection id "0HMH6GH7R5EK0" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-04-25 08:24:58.458 +02:00 [DBG] Connection "0HMH6GH7R5EK1" established using the following protocol: "Tls12"
2022-04-25 08:24:58.471 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/cities?name=Cape%20Town - -
2022-04-25 08:24:58.484 +02:00 [DBG] The request path  does not match the path filter
2022-04-25 08:24:58.545 +02:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2022-04-25 08:24:58.556 +02:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetAllCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2022-04-25 08:24:58.563 +02:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetAllCities (CityInfo.API)'
2022-04-25 08:24:58.568 +02:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetAllCities (CityInfo.API)'
2022-04-25 08:24:58.589 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-04-25 08:24:58.658 +02:00 [INF] Route matched with {action = "GetAllCities", controller = "Cities"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.Application.Dto.CityDto]] GetAllCities(System.String) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2022-04-25 08:24:58.662 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-04-25 08:24:58.664 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-04-25 08:24:58.671 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-04-25 08:24:58.676 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-04-25 08:24:58.678 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-04-25 08:24:58.687 +02:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2022-04-25 08:24:58.953 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2022-04-25 08:24:58.989 +02:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2022-04-25 08:24:59.011 +02:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2022-04-25 08:24:59.017 +02:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name 'name' in request data ...
2022-04-25 08:24:59.019 +02:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2022-04-25 08:24:59.021 +02:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2022-04-25 08:24:59.023 +02:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2022-04-25 08:24:59.026 +02:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2022-04-25 08:25:00.043 +02:00 [INF] Entity Framework Core 5.0.15 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: None
2022-04-25 08:25:00.101 +02:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Where(c => c.Name == __name_0)
    .OrderBy(c => c.Name)'
2022-04-25 08:25:00.403 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<City>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2], }
        SELECT c.Id, c.Description, c.Name
        FROM Cities AS c
        WHERE c.Name == @__name_0
        ORDER BY c.Name ASC), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
    CityInfo.Infrastructure.DbContexts.CityInfoContext, 
    False, 
    False
)'
2022-04-25 08:25:00.463 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-04-25 08:25:00.658 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (183ms).
2022-04-25 08:25:00.671 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-04-25 08:25:00.708 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API\CityInfo.db'.
2022-04-25 08:25:00.726 +02:00 [DBG] Executing DbCommand [Parameters=[@__name_0='?' (Size = 9)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Name" = @__name_0
ORDER BY "c"."Name"
2022-04-25 08:25:00.778 +02:00 [INF] Executed DbCommand (46ms) [Parameters=[@__name_0='?' (Size = 9)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Name" = @__name_0
ORDER BY "c"."Name"
2022-04-25 08:25:00.815 +02:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-04-25 08:25:00.905 +02:00 [DBG] A data reader was disposed.
2022-04-25 08:25:00.921 +02:00 [DBG] Closing connection to database 'main' on server 'C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API\CityInfo.db'.
2022-04-25 08:25:00.932 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-04-25 08:25:00.970 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2022-04-25 08:25:00.977 +02:00 [DBG] No information found on request to perform content negotiation.
2022-04-25 08:25:00.978 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-04-25 08:25:00.981 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-04-25 08:25:00.985 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-04-25 08:25:00.988 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.Application.Dto.CityDto, CityInfo.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-04-25 08:25:01.185 +02:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetAllCities (CityInfo.API) in 2491.3745ms
2022-04-25 08:25:01.188 +02:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetAllCities (CityInfo.API)'
2022-04-25 08:25:01.189 +02:00 [DBG] Connection id "0HMH6GH7R5EK1" completed keep alive response.
2022-04-25 08:25:01.192 +02:00 [DBG] 'CityInfoContext' disposed.
2022-04-25 08:25:01.195 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/cities?name=Cape%20Town - - - 200 77 application/json;+charset=utf-8 2723.8220ms
2022-04-25 08:35:47.970 +02:00 [DBG] Hosting starting
2022-04-25 08:35:48.734 +02:00 [DBG] Using development certificate: CN=localhost (Thumbprint: A40C6697D0C21C2C32B35E9E8F9AD3269C88392E)
2022-04-25 08:35:48.832 +02:00 [INF] Now listening on: https://localhost:5001
2022-04-25 08:35:48.834 +02:00 [INF] Now listening on: http://localhost:5000
2022-04-25 08:35:48.835 +02:00 [DBG] Loaded hosting startup assembly CityInfo.API
2022-04-25 08:35:48.836 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2022-04-25 08:35:48.837 +02:00 [INF] Hosting environment: Development
2022-04-25 08:35:48.839 +02:00 [INF] Content root path: C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API
2022-04-25 08:35:48.840 +02:00 [DBG] Hosting started
2022-04-25 08:35:48.884 +02:00 [DBG] Connection id "0HMH6GNAVIF5P" accepted.
2022-04-25 08:35:48.886 +02:00 [DBG] Connection id "0HMH6GNAVIF5P" started.
2022-04-25 08:35:48.899 +02:00 [DBG] Connection id "0HMH6GNAVIF5P" received FIN.
2022-04-25 08:35:48.927 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-04-25 08:35:49.098 +02:00 [DBG] Connection id "0HMH6GNAVIF5P" stopped.
2022-04-25 08:35:49.102 +02:00 [DBG] Connection id "0HMH6GNAVIF5P" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-04-25 08:35:50.071 +02:00 [DBG] Connection id "0HMH6GNAVIF5Q" accepted.
2022-04-25 08:35:50.080 +02:00 [DBG] Connection id "0HMH6GNAVIF5Q" started.
2022-04-25 08:35:50.213 +02:00 [DBG] Connection "0HMH6GNAVIF5Q" established using the following protocol: "Tls12"
2022-04-25 08:35:50.292 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - -
2022-04-25 08:35:50.297 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-04-25 08:35:50.466 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - - - 200 - text/html;charset=utf-8 172.1446ms
2022-04-25 08:35:50.893 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - -
2022-04-25 08:35:51.183 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 289.9140ms
2022-04-25 08:36:00.535 +02:00 [DBG] Connection id "0HMH6GNAVIF5R" accepted.
2022-04-25 08:36:00.538 +02:00 [DBG] Connection id "0HMH6GNAVIF5S" accepted.
2022-04-25 08:36:00.539 +02:00 [DBG] Connection id "0HMH6GNAVIF5R" received FIN.
2022-04-25 08:36:00.539 +02:00 [DBG] Connection id "0HMH6GNAVIF5R" started.
2022-04-25 08:36:00.541 +02:00 [DBG] Connection id "0HMH6GNAVIF5S" started.
2022-04-25 08:36:00.546 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-04-25 08:36:00.552 +02:00 [DBG] Connection id "0HMH6GNAVIF5R" stopped.
2022-04-25 08:36:00.559 +02:00 [DBG] Connection id "0HMH6GNAVIF5R" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-04-25 08:36:00.562 +02:00 [DBG] Connection "0HMH6GNAVIF5S" established using the following protocol: "Tls12"
2022-04-25 08:36:00.574 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/cities - -
2022-04-25 08:36:00.580 +02:00 [DBG] The request path  does not match the path filter
2022-04-25 08:36:00.638 +02:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2022-04-25 08:36:00.648 +02:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetAllCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2022-04-25 08:36:00.653 +02:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetAllCities (CityInfo.API)'
2022-04-25 08:36:00.658 +02:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetAllCities (CityInfo.API)'
2022-04-25 08:36:00.672 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-04-25 08:36:00.736 +02:00 [INF] Route matched with {action = "GetAllCities", controller = "Cities"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.Application.Dto.CityDto]] GetAllCities(System.String, System.String) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2022-04-25 08:36:00.742 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-04-25 08:36:00.745 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-04-25 08:36:00.747 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-04-25 08:36:00.751 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-04-25 08:36:00.755 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-04-25 08:36:00.767 +02:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2022-04-25 08:36:01.146 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2022-04-25 08:36:01.191 +02:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2022-04-25 08:36:01.228 +02:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2022-04-25 08:36:01.235 +02:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2022-04-25 08:36:01.238 +02:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2022-04-25 08:36:01.241 +02:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2022-04-25 08:36:01.244 +02:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2022-04-25 08:36:01.246 +02:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2022-04-25 08:36:01.249 +02:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2022-04-25 08:36:01.254 +02:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2022-04-25 08:36:01.258 +02:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name '' in request data ...
2022-04-25 08:36:01.261 +02:00 [DBG] Could not find a value in the request with name '' for binding parameter 'searchQuery' of type 'System.String'.
2022-04-25 08:36:01.263 +02:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2022-04-25 08:36:01.265 +02:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2022-04-25 08:36:01.267 +02:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2022-04-25 08:36:01.271 +02:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2022-04-25 08:36:02.328 +02:00 [INF] Entity Framework Core 5.0.15 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: None
2022-04-25 08:36:02.379 +02:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .OrderBy(c => c.Name)'
2022-04-25 08:36:02.649 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<City>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2], }
        SELECT c.Id, c.Description, c.Name
        FROM Cities AS c
        ORDER BY c.Name ASC), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
    CityInfo.Infrastructure.DbContexts.CityInfoContext, 
    False, 
    False
)'
2022-04-25 08:36:02.709 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-04-25 08:36:02.883 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (171ms).
2022-04-25 08:36:02.893 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-04-25 08:36:02.919 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API\CityInfo.db'.
2022-04-25 08:36:02.935 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
2022-04-25 08:36:02.981 +02:00 [INF] Executed DbCommand (42ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
2022-04-25 08:36:03.023 +02:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-04-25 08:36:03.080 +02:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-04-25 08:36:03.084 +02:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-04-25 08:36:03.091 +02:00 [DBG] A data reader was disposed.
2022-04-25 08:36:03.101 +02:00 [DBG] Closing connection to database 'main' on server 'C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API\CityInfo.db'.
2022-04-25 08:36:03.113 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-04-25 08:36:03.145 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2022-04-25 08:36:03.150 +02:00 [DBG] No information found on request to perform content negotiation.
2022-04-25 08:36:03.151 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-04-25 08:36:03.153 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-04-25 08:36:03.158 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-04-25 08:36:03.163 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.Application.Dto.CityDto, CityInfo.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-04-25 08:36:03.361 +02:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetAllCities (CityInfo.API) in 2585.8288ms
2022-04-25 08:36:03.364 +02:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetAllCities (CityInfo.API)'
2022-04-25 08:36:03.365 +02:00 [DBG] Connection id "0HMH6GNAVIF5S" completed keep alive response.
2022-04-25 08:36:03.369 +02:00 [DBG] 'CityInfoContext' disposed.
2022-04-25 08:36:03.373 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/cities - - - 200 221 application/json;+charset=utf-8 2799.2352ms
2022-04-25 08:36:36.447 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/cities?name=Cape%20Town - -
2022-04-25 08:36:36.450 +02:00 [DBG] The request path  does not match the path filter
2022-04-25 08:36:36.455 +02:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2022-04-25 08:36:36.460 +02:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetAllCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2022-04-25 08:36:36.462 +02:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetAllCities (CityInfo.API)'
2022-04-25 08:36:36.464 +02:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetAllCities (CityInfo.API)'
2022-04-25 08:36:36.466 +02:00 [INF] Route matched with {action = "GetAllCities", controller = "Cities"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.Application.Dto.CityDto]] GetAllCities(System.String, System.String) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2022-04-25 08:36:36.474 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-04-25 08:36:36.476 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-04-25 08:36:36.479 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-04-25 08:36:36.485 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-04-25 08:36:36.489 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-04-25 08:36:36.492 +02:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2022-04-25 08:36:36.495 +02:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2022-04-25 08:36:36.498 +02:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2022-04-25 08:36:36.504 +02:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name 'name' in request data ...
2022-04-25 08:36:36.507 +02:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2022-04-25 08:36:36.509 +02:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2022-04-25 08:36:36.512 +02:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2022-04-25 08:36:36.515 +02:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2022-04-25 08:36:36.518 +02:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2022-04-25 08:36:36.521 +02:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name '' in request data ...
2022-04-25 08:36:36.523 +02:00 [DBG] Could not find a value in the request with name '' for binding parameter 'searchQuery' of type 'System.String'.
2022-04-25 08:36:36.525 +02:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2022-04-25 08:36:36.527 +02:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2022-04-25 08:36:36.529 +02:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2022-04-25 08:36:36.530 +02:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2022-04-25 08:36:36.566 +02:00 [INF] Entity Framework Core 5.0.15 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: None
2022-04-25 08:36:36.573 +02:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Where(c => c.Name == __name_0)
    .OrderBy(c => c.Name)'
2022-04-25 08:36:36.597 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<City>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2], }
        SELECT c.Id, c.Description, c.Name
        FROM Cities AS c
        WHERE c.Name == @__name_0
        ORDER BY c.Name ASC), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
    CityInfo.Infrastructure.DbContexts.CityInfoContext, 
    False, 
    False
)'
2022-04-25 08:36:36.606 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-04-25 08:36:36.607 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-04-25 08:36:36.612 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-04-25 08:36:36.615 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API\CityInfo.db'.
2022-04-25 08:36:36.619 +02:00 [DBG] Executing DbCommand [Parameters=[@__name_0='?' (Size = 9)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Name" = @__name_0
ORDER BY "c"."Name"
2022-04-25 08:36:36.653 +02:00 [INF] Executed DbCommand (36ms) [Parameters=[@__name_0='?' (Size = 9)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Name" = @__name_0
ORDER BY "c"."Name"
2022-04-25 08:36:36.663 +02:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-04-25 08:36:36.667 +02:00 [DBG] A data reader was disposed.
2022-04-25 08:36:36.670 +02:00 [DBG] Closing connection to database 'main' on server 'C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API\CityInfo.db'.
2022-04-25 08:36:36.686 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-04-25 08:36:36.688 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2022-04-25 08:36:36.697 +02:00 [DBG] No information found on request to perform content negotiation.
2022-04-25 08:36:36.698 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-04-25 08:36:36.700 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-04-25 08:36:36.701 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-04-25 08:36:36.704 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.Application.Dto.CityDto, CityInfo.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-04-25 08:36:36.716 +02:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetAllCities (CityInfo.API) in 223.542ms
2022-04-25 08:36:36.730 +02:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetAllCities (CityInfo.API)'
2022-04-25 08:36:36.736 +02:00 [DBG] Connection id "0HMH6GNAVIF5S" completed keep alive response.
2022-04-25 08:36:36.740 +02:00 [DBG] 'CityInfoContext' disposed.
2022-04-25 08:36:36.742 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/cities?name=Cape%20Town - - - 200 77 application/json;+charset=utf-8 294.5772ms
2022-04-25 08:37:04.870 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/cities?name=Cape%20Town - -
2022-04-25 08:37:04.872 +02:00 [DBG] The request path  does not match the path filter
2022-04-25 08:37:04.874 +02:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2022-04-25 08:37:04.875 +02:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetAllCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2022-04-25 08:37:04.878 +02:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetAllCities (CityInfo.API)'
2022-04-25 08:37:04.879 +02:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetAllCities (CityInfo.API)'
2022-04-25 08:37:04.882 +02:00 [INF] Route matched with {action = "GetAllCities", controller = "Cities"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.Application.Dto.CityDto]] GetAllCities(System.String, System.String) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2022-04-25 08:37:04.885 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-04-25 08:37:04.886 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-04-25 08:37:04.888 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-04-25 08:37:04.895 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-04-25 08:37:04.896 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-04-25 08:37:04.898 +02:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2022-04-25 08:37:04.903 +02:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2022-04-25 08:37:04.904 +02:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2022-04-25 08:37:04.910 +02:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name 'name' in request data ...
2022-04-25 08:37:04.912 +02:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2022-04-25 08:37:04.913 +02:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2022-04-25 08:37:04.915 +02:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2022-04-25 08:37:04.916 +02:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2022-04-25 08:37:04.918 +02:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2022-04-25 08:37:04.919 +02:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name '' in request data ...
2022-04-25 08:37:04.923 +02:00 [DBG] Could not find a value in the request with name '' for binding parameter 'searchQuery' of type 'System.String'.
2022-04-25 08:37:04.926 +02:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2022-04-25 08:37:04.927 +02:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2022-04-25 08:37:04.929 +02:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2022-04-25 08:37:04.930 +02:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2022-04-25 08:37:04.943 +02:00 [INF] Entity Framework Core 5.0.15 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: None
2022-04-25 08:37:04.950 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-04-25 08:37:04.951 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-04-25 08:37:04.953 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-04-25 08:37:04.962 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API\CityInfo.db'.
2022-04-25 08:37:04.963 +02:00 [DBG] Executing DbCommand [Parameters=[@__name_0='?' (Size = 9)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Name" = @__name_0
ORDER BY "c"."Name"
2022-04-25 08:37:04.977 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[@__name_0='?' (Size = 9)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Name" = @__name_0
ORDER BY "c"."Name"
2022-04-25 08:37:04.983 +02:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-04-25 08:37:04.990 +02:00 [DBG] A data reader was disposed.
2022-04-25 08:37:04.992 +02:00 [DBG] Closing connection to database 'main' on server 'C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API\CityInfo.db'.
2022-04-25 08:37:04.995 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-04-25 08:37:04.997 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2022-04-25 08:37:05.004 +02:00 [DBG] No information found on request to perform content negotiation.
2022-04-25 08:37:05.006 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-04-25 08:37:05.009 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-04-25 08:37:05.010 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-04-25 08:37:05.013 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.Application.Dto.CityDto, CityInfo.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-04-25 08:37:05.016 +02:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetAllCities (CityInfo.API) in 117.7096ms
2022-04-25 08:37:05.024 +02:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetAllCities (CityInfo.API)'
2022-04-25 08:37:05.026 +02:00 [DBG] Connection id "0HMH6GNAVIF5S" completed keep alive response.
2022-04-25 08:37:05.028 +02:00 [DBG] 'CityInfoContext' disposed.
2022-04-25 08:37:05.029 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/cities?name=Cape%20Town - - - 200 77 application/json;+charset=utf-8 159.1926ms
2022-04-25 08:37:28.562 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/cities?searchQuery=the - -
2022-04-25 08:37:28.564 +02:00 [DBG] The request path  does not match the path filter
2022-04-25 08:37:28.566 +02:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2022-04-25 08:37:28.568 +02:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetAllCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2022-04-25 08:37:28.572 +02:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetAllCities (CityInfo.API)'
2022-04-25 08:37:28.573 +02:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetAllCities (CityInfo.API)'
2022-04-25 08:37:28.576 +02:00 [INF] Route matched with {action = "GetAllCities", controller = "Cities"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.Application.Dto.CityDto]] GetAllCities(System.String, System.String) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2022-04-25 08:37:28.580 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-04-25 08:37:28.582 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-04-25 08:37:28.584 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-04-25 08:37:28.592 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-04-25 08:37:28.594 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-04-25 08:37:28.596 +02:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2022-04-25 08:37:28.598 +02:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2022-04-25 08:37:28.600 +02:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2022-04-25 08:37:28.605 +02:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2022-04-25 08:37:28.607 +02:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2022-04-25 08:37:28.608 +02:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2022-04-25 08:37:28.610 +02:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2022-04-25 08:37:28.611 +02:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2022-04-25 08:37:28.612 +02:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2022-04-25 08:37:28.614 +02:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2022-04-25 08:37:28.615 +02:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name 'searchQuery' in request data ...
2022-04-25 08:37:28.619 +02:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2022-04-25 08:37:28.622 +02:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2022-04-25 08:37:28.624 +02:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2022-04-25 08:37:28.626 +02:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2022-04-25 08:37:28.628 +02:00 [INF] Entity Framework Core 5.0.15 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: None
2022-04-25 08:37:28.633 +02:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Where(a => a.Name.Contains(__searchQuery_0) || a.Description != null && a.Description.Contains(__searchQuery_0))
    .OrderBy(c => c.Name)'
2022-04-25 08:37:28.676 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<City>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2], }
        SELECT c.Id, c.Description, c.Name
        FROM Cities AS c
        WHERE ((@__searchQuery_0 == '') || (instr(c.Name, @__searchQuery_0) > 0)) || ((c.Description != NULL) && ((@__searchQuery_0 == '') || (instr(c.Description, @__searchQuery_0) > 0)))
        ORDER BY c.Name ASC), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
    CityInfo.Infrastructure.DbContexts.CityInfoContext, 
    False, 
    False
)'
2022-04-25 08:37:28.690 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-04-25 08:37:28.692 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-04-25 08:37:28.693 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-04-25 08:37:28.698 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API\CityInfo.db'.
2022-04-25 08:37:28.700 +02:00 [DBG] Executing DbCommand [Parameters=[@__searchQuery_0='?' (Size = 3)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE ((@__searchQuery_0 = '') OR (instr("c"."Name", @__searchQuery_0) > 0)) OR ("c"."Description" IS NOT NULL AND ((@__searchQuery_0 = '') OR (instr("c"."Description", @__searchQuery_0) > 0)))
ORDER BY "c"."Name"
2022-04-25 08:37:28.716 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[@__searchQuery_0='?' (Size = 3)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE ((@__searchQuery_0 = '') OR (instr("c"."Name", @__searchQuery_0) > 0)) OR ("c"."Description" IS NOT NULL AND ((@__searchQuery_0 = '') OR (instr("c"."Description", @__searchQuery_0) > 0)))
ORDER BY "c"."Name"
2022-04-25 08:37:28.724 +02:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-04-25 08:37:28.730 +02:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-04-25 08:37:28.732 +02:00 [DBG] A data reader was disposed.
2022-04-25 08:37:28.734 +02:00 [DBG] Closing connection to database 'main' on server 'C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API\CityInfo.db'.
2022-04-25 08:37:28.752 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-04-25 08:37:28.754 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2022-04-25 08:37:28.761 +02:00 [DBG] No information found on request to perform content negotiation.
2022-04-25 08:37:28.763 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-04-25 08:37:28.765 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-04-25 08:37:28.766 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-04-25 08:37:28.769 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.Application.Dto.CityDto, CityInfo.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-04-25 08:37:28.778 +02:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetAllCities (CityInfo.API) in 181.6823ms
2022-04-25 08:37:28.780 +02:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetAllCities (CityInfo.API)'
2022-04-25 08:37:28.782 +02:00 [DBG] Connection id "0HMH6GNAVIF5S" completed keep alive response.
2022-04-25 08:37:28.783 +02:00 [DBG] 'CityInfoContext' disposed.
2022-04-25 08:37:28.785 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/cities?searchQuery=the - - - 200 152 application/json;+charset=utf-8 223.3351ms
2022-04-25 08:37:44.917 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/cities?searchQuery=The - -
2022-04-25 08:37:44.922 +02:00 [DBG] The request path  does not match the path filter
2022-04-25 08:37:44.923 +02:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2022-04-25 08:37:44.925 +02:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetAllCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2022-04-25 08:37:44.928 +02:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetAllCities (CityInfo.API)'
2022-04-25 08:37:44.931 +02:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetAllCities (CityInfo.API)'
2022-04-25 08:37:44.935 +02:00 [INF] Route matched with {action = "GetAllCities", controller = "Cities"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.Application.Dto.CityDto]] GetAllCities(System.String, System.String) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2022-04-25 08:37:44.941 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-04-25 08:37:44.944 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-04-25 08:37:44.948 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-04-25 08:37:44.952 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-04-25 08:37:44.954 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-04-25 08:37:44.957 +02:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2022-04-25 08:37:44.960 +02:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2022-04-25 08:37:44.975 +02:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2022-04-25 08:37:44.977 +02:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2022-04-25 08:37:44.981 +02:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2022-04-25 08:37:44.984 +02:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2022-04-25 08:37:44.986 +02:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2022-04-25 08:37:44.988 +02:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2022-04-25 08:37:44.991 +02:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2022-04-25 08:37:44.992 +02:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2022-04-25 08:37:44.997 +02:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name 'searchQuery' in request data ...
2022-04-25 08:37:45.000 +02:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2022-04-25 08:37:45.002 +02:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2022-04-25 08:37:45.003 +02:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2022-04-25 08:37:45.005 +02:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2022-04-25 08:37:45.007 +02:00 [INF] Entity Framework Core 5.0.15 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: None
2022-04-25 08:37:45.011 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-04-25 08:37:45.019 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (8ms).
2022-04-25 08:37:45.021 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-04-25 08:37:45.023 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API\CityInfo.db'.
2022-04-25 08:37:45.027 +02:00 [DBG] Executing DbCommand [Parameters=[@__searchQuery_0='?' (Size = 3)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE ((@__searchQuery_0 = '') OR (instr("c"."Name", @__searchQuery_0) > 0)) OR ("c"."Description" IS NOT NULL AND ((@__searchQuery_0 = '') OR (instr("c"."Description", @__searchQuery_0) > 0)))
ORDER BY "c"."Name"
2022-04-25 08:37:45.050 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[@__searchQuery_0='?' (Size = 3)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE ((@__searchQuery_0 = '') OR (instr("c"."Name", @__searchQuery_0) > 0)) OR ("c"."Description" IS NOT NULL AND ((@__searchQuery_0 = '') OR (instr("c"."Description", @__searchQuery_0) > 0)))
ORDER BY "c"."Name"
2022-04-25 08:37:45.063 +02:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-04-25 08:37:45.072 +02:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-04-25 08:37:45.078 +02:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-04-25 08:37:45.081 +02:00 [DBG] A data reader was disposed.
2022-04-25 08:37:45.083 +02:00 [DBG] Closing connection to database 'main' on server 'C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API\CityInfo.db'.
2022-04-25 08:37:45.098 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-04-25 08:37:45.099 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2022-04-25 08:37:45.106 +02:00 [DBG] No information found on request to perform content negotiation.
2022-04-25 08:37:45.108 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-04-25 08:37:45.111 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-04-25 08:37:45.112 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-04-25 08:37:45.115 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.Application.Dto.CityDto, CityInfo.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-04-25 08:37:45.118 +02:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetAllCities (CityInfo.API) in 160.9928ms
2022-04-25 08:37:45.123 +02:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetAllCities (CityInfo.API)'
2022-04-25 08:37:45.125 +02:00 [DBG] Connection id "0HMH6GNAVIF5S" completed keep alive response.
2022-04-25 08:37:45.127 +02:00 [DBG] 'CityInfoContext' disposed.
2022-04-25 08:37:45.129 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/cities?searchQuery=The - - - 200 221 application/json;+charset=utf-8 211.5298ms
2022-04-25 08:38:03.256 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/cities?name=Cape%20Town&searchQuery=the - -
2022-04-25 08:38:03.259 +02:00 [DBG] The request path  does not match the path filter
2022-04-25 08:38:03.260 +02:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2022-04-25 08:38:03.262 +02:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetAllCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2022-04-25 08:38:03.265 +02:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetAllCities (CityInfo.API)'
2022-04-25 08:38:03.266 +02:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetAllCities (CityInfo.API)'
2022-04-25 08:38:03.268 +02:00 [INF] Route matched with {action = "GetAllCities", controller = "Cities"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.Application.Dto.CityDto]] GetAllCities(System.String, System.String) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2022-04-25 08:38:03.271 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-04-25 08:38:03.275 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-04-25 08:38:03.278 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-04-25 08:38:03.282 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-04-25 08:38:03.283 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-04-25 08:38:03.285 +02:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2022-04-25 08:38:03.287 +02:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2022-04-25 08:38:03.288 +02:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2022-04-25 08:38:03.292 +02:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name 'name' in request data ...
2022-04-25 08:38:03.294 +02:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2022-04-25 08:38:03.296 +02:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2022-04-25 08:38:03.297 +02:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2022-04-25 08:38:03.299 +02:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2022-04-25 08:38:03.300 +02:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2022-04-25 08:38:03.302 +02:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name 'searchQuery' in request data ...
2022-04-25 08:38:03.304 +02:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2022-04-25 08:38:03.309 +02:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2022-04-25 08:38:03.311 +02:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2022-04-25 08:38:03.313 +02:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2022-04-25 08:38:03.315 +02:00 [INF] Entity Framework Core 5.0.15 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: None
2022-04-25 08:38:03.318 +02:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Where(c => c.Name == __name_0)
    .Where(a => a.Name.Contains(__searchQuery_1) || a.Description != null && a.Description.Contains(__searchQuery_1))
    .OrderBy(c => c.Name)'
2022-04-25 08:38:03.325 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<City>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2], }
        SELECT c.Id, c.Description, c.Name
        FROM Cities AS c
        WHERE (c.Name == @__name_0) && (((@__searchQuery_1 == '') || (instr(c.Name, @__searchQuery_1) > 0)) || ((c.Description != NULL) && ((@__searchQuery_1 == '') || (instr(c.Description, @__searchQuery_1) > 0))))
        ORDER BY c.Name ASC), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
    CityInfo.Infrastructure.DbContexts.CityInfoContext, 
    False, 
    False
)'
2022-04-25 08:38:03.332 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-04-25 08:38:03.334 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-04-25 08:38:03.335 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-04-25 08:38:03.342 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API\CityInfo.db'.
2022-04-25 08:38:03.344 +02:00 [DBG] Executing DbCommand [Parameters=[@__name_0='?' (Size = 9), @__searchQuery_1='?' (Size = 3)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE ("c"."Name" = @__name_0) AND (((@__searchQuery_1 = '') OR (instr("c"."Name", @__searchQuery_1) > 0)) OR ("c"."Description" IS NOT NULL AND ((@__searchQuery_1 = '') OR (instr("c"."Description", @__searchQuery_1) > 0))))
ORDER BY "c"."Name"
2022-04-25 08:38:03.359 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__name_0='?' (Size = 9), @__searchQuery_1='?' (Size = 3)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE ("c"."Name" = @__name_0) AND (((@__searchQuery_1 = '') OR (instr("c"."Name", @__searchQuery_1) > 0)) OR ("c"."Description" IS NOT NULL AND ((@__searchQuery_1 = '') OR (instr("c"."Description", @__searchQuery_1) > 0))))
ORDER BY "c"."Name"
2022-04-25 08:38:03.365 +02:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-04-25 08:38:03.368 +02:00 [DBG] A data reader was disposed.
2022-04-25 08:38:03.372 +02:00 [DBG] Closing connection to database 'main' on server 'C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API\CityInfo.db'.
2022-04-25 08:38:03.377 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-04-25 08:38:03.381 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2022-04-25 08:38:03.390 +02:00 [DBG] No information found on request to perform content negotiation.
2022-04-25 08:38:03.392 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-04-25 08:38:03.394 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-04-25 08:38:03.395 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-04-25 08:38:03.398 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.Application.Dto.CityDto, CityInfo.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-04-25 08:38:03.407 +02:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetAllCities (CityInfo.API) in 121.6611ms
2022-04-25 08:38:03.412 +02:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetAllCities (CityInfo.API)'
2022-04-25 08:38:03.419 +02:00 [DBG] Connection id "0HMH6GNAVIF5S" completed keep alive response.
2022-04-25 08:38:03.422 +02:00 [DBG] 'CityInfoContext' disposed.
2022-04-25 08:38:03.424 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/cities?name=Cape%20Town&searchQuery=the - - - 200 77 application/json;+charset=utf-8 167.1923ms
2022-04-25 09:07:12.486 +02:00 [DBG] Hosting starting
2022-04-25 09:07:13.625 +02:00 [DBG] Using development certificate: CN=localhost (Thumbprint: A40C6697D0C21C2C32B35E9E8F9AD3269C88392E)
2022-04-25 09:07:13.729 +02:00 [INF] Now listening on: https://localhost:5001
2022-04-25 09:07:13.731 +02:00 [INF] Now listening on: http://localhost:5000
2022-04-25 09:07:13.732 +02:00 [DBG] Loaded hosting startup assembly CityInfo.API
2022-04-25 09:07:13.734 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2022-04-25 09:07:13.735 +02:00 [INF] Hosting environment: Development
2022-04-25 09:07:13.736 +02:00 [INF] Content root path: C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API
2022-04-25 09:07:13.737 +02:00 [DBG] Hosting started
2022-04-25 09:07:14.109 +02:00 [DBG] Connection id "0HMH6H8SQARD8" received FIN.
2022-04-25 09:07:14.109 +02:00 [DBG] Connection id "0HMH6H8SQARD8" accepted.
2022-04-25 09:07:14.109 +02:00 [DBG] Connection id "0HMH6H8SQARD7" accepted.
2022-04-25 09:07:14.109 +02:00 [DBG] Connection id "0HMH6H8SQARD7" received FIN.
2022-04-25 09:07:14.113 +02:00 [DBG] Connection id "0HMH6H8SQARD8" started.
2022-04-25 09:07:14.113 +02:00 [DBG] Connection id "0HMH6H8SQARD7" started.
2022-04-25 09:07:14.157 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-04-25 09:07:14.157 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-04-25 09:07:14.313 +02:00 [DBG] Connection id "0HMH6H8SQARD7" stopped.
2022-04-25 09:07:14.313 +02:00 [DBG] Connection id "0HMH6H8SQARD8" stopped.
2022-04-25 09:07:14.322 +02:00 [DBG] Connection id "0HMH6H8SQARD8" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-04-25 09:07:14.323 +02:00 [DBG] Connection id "0HMH6H8SQARD7" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-04-25 09:07:15.492 +02:00 [DBG] Connection id "0HMH6H8SQARD9" accepted.
2022-04-25 09:07:15.514 +02:00 [DBG] Connection id "0HMH6H8SQARD9" started.
2022-04-25 09:07:15.678 +02:00 [DBG] Connection "0HMH6H8SQARD9" established using the following protocol: "Tls12"
2022-04-25 09:07:15.782 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - -
2022-04-25 09:07:15.787 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-04-25 09:07:16.042 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - - - 200 - text/html;charset=utf-8 246.0790ms
2022-04-25 09:07:16.803 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - -
2022-04-25 09:07:17.057 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 253.5514ms
2022-04-25 09:07:24.826 +02:00 [DBG] Connection id "0HMH6H8SQARDA" accepted.
2022-04-25 09:07:24.829 +02:00 [DBG] Connection id "0HMH6H8SQARDB" accepted.
2022-04-25 09:07:24.829 +02:00 [DBG] Connection id "0HMH6H8SQARDA" started.
2022-04-25 09:07:24.829 +02:00 [DBG] Connection id "0HMH6H8SQARDA" received FIN.
2022-04-25 09:07:24.830 +02:00 [DBG] Connection id "0HMH6H8SQARDB" started.
2022-04-25 09:07:24.836 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|182_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-04-25 09:07:24.845 +02:00 [DBG] Connection id "0HMH6H8SQARDA" stopped.
2022-04-25 09:07:24.849 +02:00 [DBG] Connection "0HMH6H8SQARDB" established using the following protocol: "Tls12"
2022-04-25 09:07:24.850 +02:00 [DBG] Connection id "0HMH6H8SQARDA" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-04-25 09:07:24.863 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/cities - -
2022-04-25 09:07:24.870 +02:00 [DBG] The request path  does not match the path filter
2022-04-25 09:07:24.925 +02:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2022-04-25 09:07:24.936 +02:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetAllCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2022-04-25 09:07:24.943 +02:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetAllCities (CityInfo.API)'
2022-04-25 09:07:24.947 +02:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetAllCities (CityInfo.API)'
2022-04-25 09:07:24.961 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-04-25 09:07:25.034 +02:00 [INF] Route matched with {action = "GetAllCities", controller = "Cities"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.Application.Dto.CityDto]] GetAllCities(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2022-04-25 09:07:25.039 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-04-25 09:07:25.042 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-04-25 09:07:25.044 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-04-25 09:07:25.051 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-04-25 09:07:25.053 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-04-25 09:07:25.058 +02:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2022-04-25 09:07:26.072 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2022-04-25 09:07:26.112 +02:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2022-04-25 09:07:26.160 +02:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2022-04-25 09:07:26.163 +02:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2022-04-25 09:07:26.165 +02:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2022-04-25 09:07:26.167 +02:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2022-04-25 09:07:26.169 +02:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2022-04-25 09:07:26.170 +02:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2022-04-25 09:07:26.174 +02:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2022-04-25 09:07:26.179 +02:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2022-04-25 09:07:26.181 +02:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name '' in request data ...
2022-04-25 09:07:26.183 +02:00 [DBG] Could not find a value in the request with name '' for binding parameter 'searchQuery' of type 'System.String'.
2022-04-25 09:07:26.185 +02:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2022-04-25 09:07:26.187 +02:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2022-04-25 09:07:26.193 +02:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2022-04-25 09:07:26.195 +02:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2022-04-25 09:07:26.197 +02:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2022-04-25 09:07:26.199 +02:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name '' in request data ...
2022-04-25 09:07:26.201 +02:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageNumber' of type 'System.Int32'.
2022-04-25 09:07:26.204 +02:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2022-04-25 09:07:26.209 +02:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2022-04-25 09:07:26.211 +02:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2022-04-25 09:07:26.215 +02:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2022-04-25 09:07:26.217 +02:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2022-04-25 09:07:26.219 +02:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name '' in request data ...
2022-04-25 09:07:26.223 +02:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageSize' of type 'System.Int32'.
2022-04-25 09:07:26.226 +02:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2022-04-25 09:07:26.228 +02:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2022-04-25 09:07:26.230 +02:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2022-04-25 09:07:26.232 +02:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2022-04-25 09:07:27.187 +02:00 [INF] Entity Framework Core 5.0.15 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: None
2022-04-25 09:07:27.253 +02:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .OrderBy(c => c.Name)
    .Skip(__p_0)
    .Take(__p_1)'
2022-04-25 09:07:27.503 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<City>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2], }
        SELECT c.Id, c.Description, c.Name
        FROM Cities AS c
        ORDER BY c.Name ASC
        OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
    CityInfo.Infrastructure.DbContexts.CityInfoContext, 
    False, 
    False
)'
2022-04-25 09:07:27.549 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-04-25 09:07:28.038 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (484ms).
2022-04-25 09:07:28.052 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-04-25 09:07:28.078 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API\CityInfo.db'.
2022-04-25 09:07:28.097 +02:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?', @__p_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
LIMIT @__p_1 OFFSET @__p_0
2022-04-25 09:07:28.138 +02:00 [INF] Executed DbCommand (39ms) [Parameters=[@__p_1='?', @__p_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
LIMIT @__p_1 OFFSET @__p_0
2022-04-25 09:07:28.163 +02:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-04-25 09:07:28.213 +02:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-04-25 09:07:28.216 +02:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-04-25 09:07:28.223 +02:00 [DBG] A data reader was disposed.
2022-04-25 09:07:28.228 +02:00 [DBG] Closing connection to database 'main' on server 'C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API\CityInfo.db'.
2022-04-25 09:07:28.246 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-04-25 09:07:28.275 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2022-04-25 09:07:28.285 +02:00 [DBG] No information found on request to perform content negotiation.
2022-04-25 09:07:28.286 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-04-25 09:07:28.288 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-04-25 09:07:28.291 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-04-25 09:07:28.295 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.Application.Dto.CityDto, CityInfo.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-04-25 09:07:28.621 +02:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetAllCities (CityInfo.API) in 3557.4444ms
2022-04-25 09:07:28.624 +02:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetAllCities (CityInfo.API)'
2022-04-25 09:07:28.626 +02:00 [DBG] Connection id "0HMH6H8SQARDB" completed keep alive response.
2022-04-25 09:07:28.629 +02:00 [DBG] 'CityInfoContext' disposed.
2022-04-25 09:07:28.633 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/cities - - - 200 221 application/json;+charset=utf-8 3769.0359ms
2022-04-25 09:07:56.330 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/cities?pageSize=1&pageNumber=1 - -
2022-04-25 09:07:56.334 +02:00 [DBG] The request path  does not match the path filter
2022-04-25 09:07:56.336 +02:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2022-04-25 09:07:56.337 +02:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetAllCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2022-04-25 09:07:56.339 +02:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetAllCities (CityInfo.API)'
2022-04-25 09:07:56.343 +02:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetAllCities (CityInfo.API)'
2022-04-25 09:07:56.345 +02:00 [INF] Route matched with {action = "GetAllCities", controller = "Cities"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.Application.Dto.CityDto]] GetAllCities(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2022-04-25 09:07:56.348 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-04-25 09:07:56.350 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-04-25 09:07:56.351 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-04-25 09:07:56.354 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-04-25 09:07:56.356 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-04-25 09:07:56.363 +02:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2022-04-25 09:07:56.370 +02:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2022-04-25 09:07:56.372 +02:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2022-04-25 09:07:56.378 +02:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2022-04-25 09:07:56.380 +02:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2022-04-25 09:07:56.381 +02:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2022-04-25 09:07:56.383 +02:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2022-04-25 09:07:56.384 +02:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2022-04-25 09:07:56.386 +02:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2022-04-25 09:07:56.387 +02:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2022-04-25 09:07:56.393 +02:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name '' in request data ...
2022-04-25 09:07:56.395 +02:00 [DBG] Could not find a value in the request with name '' for binding parameter 'searchQuery' of type 'System.String'.
2022-04-25 09:07:56.398 +02:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2022-04-25 09:07:56.400 +02:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2022-04-25 09:07:56.402 +02:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2022-04-25 09:07:56.406 +02:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2022-04-25 09:07:56.408 +02:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2022-04-25 09:07:56.410 +02:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name 'pageNumber' in request data ...
2022-04-25 09:07:56.414 +02:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2022-04-25 09:07:56.415 +02:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2022-04-25 09:07:56.418 +02:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2022-04-25 09:07:56.423 +02:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2022-04-25 09:07:56.425 +02:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2022-04-25 09:07:56.427 +02:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2022-04-25 09:07:56.429 +02:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2022-04-25 09:07:56.431 +02:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2022-04-25 09:07:56.433 +02:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2022-04-25 09:07:56.435 +02:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2022-04-25 09:07:56.487 +02:00 [INF] Entity Framework Core 5.0.15 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: None
2022-04-25 09:07:56.494 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-04-25 09:07:56.496 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-04-25 09:07:56.498 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-04-25 09:07:56.504 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API\CityInfo.db'.
2022-04-25 09:07:56.506 +02:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?', @__p_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
LIMIT @__p_1 OFFSET @__p_0
2022-04-25 09:07:56.519 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[@__p_1='?', @__p_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
LIMIT @__p_1 OFFSET @__p_0
2022-04-25 09:07:56.524 +02:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-04-25 09:07:56.526 +02:00 [DBG] A data reader was disposed.
2022-04-25 09:07:56.527 +02:00 [DBG] Closing connection to database 'main' on server 'C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API\CityInfo.db'.
2022-04-25 09:07:56.531 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-04-25 09:07:56.550 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2022-04-25 09:07:56.561 +02:00 [DBG] No information found on request to perform content negotiation.
2022-04-25 09:07:56.562 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-04-25 09:07:56.566 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-04-25 09:07:56.569 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-04-25 09:07:56.571 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.Application.Dto.CityDto, CityInfo.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-04-25 09:07:56.575 +02:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetAllCities (CityInfo.API) in 211.8876ms
2022-04-25 09:07:56.576 +02:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetAllCities (CityInfo.API)'
2022-04-25 09:07:56.578 +02:00 [DBG] Connection id "0HMH6H8SQARDB" completed keep alive response.
2022-04-25 09:07:56.585 +02:00 [DBG] 'CityInfoContext' disposed.
2022-04-25 09:07:56.588 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/cities?pageSize=1&pageNumber=1 - - - 200 77 application/json;+charset=utf-8 257.8041ms
2022-04-25 09:08:08.740 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/cities?pageSize=1&pageNumber=2 - -
2022-04-25 09:08:08.742 +02:00 [DBG] The request path  does not match the path filter
2022-04-25 09:08:08.744 +02:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2022-04-25 09:08:08.756 +02:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetAllCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2022-04-25 09:08:08.758 +02:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetAllCities (CityInfo.API)'
2022-04-25 09:08:08.760 +02:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetAllCities (CityInfo.API)'
2022-04-25 09:08:08.765 +02:00 [INF] Route matched with {action = "GetAllCities", controller = "Cities"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.Application.Dto.CityDto]] GetAllCities(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2022-04-25 09:08:08.770 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-04-25 09:08:08.772 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-04-25 09:08:08.774 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-04-25 09:08:08.781 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-04-25 09:08:08.785 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-04-25 09:08:08.788 +02:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2022-04-25 09:08:08.793 +02:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2022-04-25 09:08:08.795 +02:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2022-04-25 09:08:08.798 +02:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2022-04-25 09:08:08.800 +02:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2022-04-25 09:08:08.803 +02:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2022-04-25 09:08:08.805 +02:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2022-04-25 09:08:08.807 +02:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2022-04-25 09:08:08.811 +02:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2022-04-25 09:08:08.814 +02:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2022-04-25 09:08:08.816 +02:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name '' in request data ...
2022-04-25 09:08:08.818 +02:00 [DBG] Could not find a value in the request with name '' for binding parameter 'searchQuery' of type 'System.String'.
2022-04-25 09:08:08.821 +02:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2022-04-25 09:08:08.822 +02:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2022-04-25 09:08:08.829 +02:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2022-04-25 09:08:08.831 +02:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2022-04-25 09:08:08.833 +02:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2022-04-25 09:08:08.835 +02:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name 'pageNumber' in request data ...
2022-04-25 09:08:08.838 +02:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2022-04-25 09:08:08.842 +02:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2022-04-25 09:08:08.844 +02:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2022-04-25 09:08:08.846 +02:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2022-04-25 09:08:08.848 +02:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2022-04-25 09:08:08.850 +02:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2022-04-25 09:08:08.854 +02:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2022-04-25 09:08:08.857 +02:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2022-04-25 09:08:08.859 +02:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2022-04-25 09:08:08.861 +02:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2022-04-25 09:08:08.871 +02:00 [INF] Entity Framework Core 5.0.15 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: None
2022-04-25 09:08:08.878 +02:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .OrderBy(c => c.Name)
    .Skip(__p_0)
    .Take(__p_0)'
2022-04-25 09:08:08.884 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<City>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2], }
        SELECT c.Id, c.Description, c.Name
        FROM Cities AS c
        ORDER BY c.Name ASC
        OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
    CityInfo.Infrastructure.DbContexts.CityInfoContext, 
    False, 
    False
)'
2022-04-25 09:08:08.890 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-04-25 09:08:08.891 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-04-25 09:08:08.892 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-04-25 09:08:08.895 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API\CityInfo.db'.
2022-04-25 09:08:08.896 +02:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
LIMIT @__p_0 OFFSET @__p_0
2022-04-25 09:08:08.902 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
LIMIT @__p_0 OFFSET @__p_0
2022-04-25 09:08:08.910 +02:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-04-25 09:08:08.913 +02:00 [DBG] A data reader was disposed.
2022-04-25 09:08:08.914 +02:00 [DBG] Closing connection to database 'main' on server 'C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API\CityInfo.db'.
2022-04-25 09:08:08.918 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-04-25 09:08:08.923 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2022-04-25 09:08:08.929 +02:00 [DBG] No information found on request to perform content negotiation.
2022-04-25 09:08:08.931 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-04-25 09:08:08.934 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-04-25 09:08:08.939 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-04-25 09:08:08.942 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.Application.Dto.CityDto, CityInfo.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-04-25 09:08:08.946 +02:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetAllCities (CityInfo.API) in 157.6768ms
2022-04-25 09:08:08.947 +02:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetAllCities (CityInfo.API)'
2022-04-25 09:08:08.950 +02:00 [DBG] Connection id "0HMH6H8SQARDB" completed keep alive response.
2022-04-25 09:08:08.956 +02:00 [DBG] 'CityInfoContext' disposed.
2022-04-25 09:08:08.961 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/cities?pageSize=1&pageNumber=2 - - - 200 76 application/json;+charset=utf-8 220.7824ms
2022-04-25 09:10:07.682 +02:00 [DBG] Connection id "0HMH6H8SQARD9" received FIN.
2022-04-25 09:10:07.708 +02:00 [DBG] Connection id "0HMH6H8SQARD9" is closed. The last processed stream ID was 17.
2022-04-25 09:10:07.713 +02:00 [DBG] Connection id "0HMH6H8SQARD9" sending FIN because: "The client closed the connection."
2022-04-25 09:10:07.732 +02:00 [DBG] Connection id "0HMH6H8SQARD9" stopped.
2022-04-25 09:29:12.022 +02:00 [DBG] Hosting starting
2022-04-25 09:29:12.816 +02:00 [DBG] Using development certificate: CN=localhost (Thumbprint: A40C6697D0C21C2C32B35E9E8F9AD3269C88392E)
2022-04-25 09:29:12.906 +02:00 [INF] Now listening on: https://localhost:5001
2022-04-25 09:29:12.908 +02:00 [INF] Now listening on: http://localhost:5000
2022-04-25 09:29:12.910 +02:00 [DBG] Loaded hosting startup assembly CityInfo.API
2022-04-25 09:29:12.912 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2022-04-25 09:29:12.913 +02:00 [INF] Hosting environment: Development
2022-04-25 09:29:12.914 +02:00 [INF] Content root path: C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API
2022-04-25 09:29:12.915 +02:00 [DBG] Hosting started
2022-04-25 09:29:13.028 +02:00 [DBG] Connection id "0HMH6HL5SMTNC" received FIN.
2022-04-25 09:29:13.045 +02:00 [DBG] Connection id "0HMH6HL5SMTNC" accepted.
2022-04-25 09:29:13.048 +02:00 [DBG] Connection id "0HMH6HL5SMTNC" started.
2022-04-25 09:29:13.102 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-04-25 09:29:13.245 +02:00 [DBG] Connection id "0HMH6HL5SMTNC" stopped.
2022-04-25 09:29:13.260 +02:00 [DBG] Connection id "0HMH6HL5SMTNC" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-04-25 09:29:14.431 +02:00 [DBG] Connection id "0HMH6HL5SMTND" accepted.
2022-04-25 09:29:14.434 +02:00 [DBG] Connection id "0HMH6HL5SMTND" started.
2022-04-25 09:29:14.564 +02:00 [DBG] Connection "0HMH6HL5SMTND" established using the following protocol: "Tls12"
2022-04-25 09:29:14.653 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - -
2022-04-25 09:29:14.658 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-04-25 09:29:14.905 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - - - 200 - text/html;charset=utf-8 244.6817ms
2022-04-25 09:29:15.334 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - -
2022-04-25 09:29:15.641 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 306.3545ms
2022-04-25 09:29:31.564 +02:00 [DBG] Connection id "0HMH6HL5SMTNE" accepted.
2022-04-25 09:29:31.573 +02:00 [DBG] Connection id "0HMH6HL5SMTNE" received FIN.
2022-04-25 09:29:31.573 +02:00 [DBG] Connection id "0HMH6HL5SMTNE" started.
2022-04-25 09:29:31.574 +02:00 [DBG] Connection id "0HMH6HL5SMTNF" accepted.
2022-04-25 09:29:31.577 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-04-25 09:29:31.579 +02:00 [DBG] Connection id "0HMH6HL5SMTNF" started.
2022-04-25 09:29:31.585 +02:00 [DBG] Connection id "0HMH6HL5SMTNE" stopped.
2022-04-25 09:29:31.593 +02:00 [DBG] Connection id "0HMH6HL5SMTNE" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-04-25 09:29:31.599 +02:00 [DBG] Connection "0HMH6HL5SMTNF" established using the following protocol: "Tls12"
2022-04-25 09:29:31.610 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/cities?pageSize=1&pageNumber=2 - -
2022-04-25 09:29:31.619 +02:00 [DBG] The request path  does not match the path filter
2022-04-25 09:29:31.682 +02:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2022-04-25 09:29:31.691 +02:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetAllCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2022-04-25 09:29:31.694 +02:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetAllCities (CityInfo.API)'
2022-04-25 09:29:31.698 +02:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetAllCities (CityInfo.API)'
2022-04-25 09:29:31.711 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-04-25 09:29:31.769 +02:00 [INF] Route matched with {action = "GetAllCities", controller = "Cities"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.Application.Dto.CityDto]] GetAllCities(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2022-04-25 09:29:31.773 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-04-25 09:29:31.774 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-04-25 09:29:31.776 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-04-25 09:29:31.779 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-04-25 09:29:31.781 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-04-25 09:29:31.787 +02:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2022-04-25 09:29:31.990 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2022-04-25 09:29:32.026 +02:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2022-04-25 09:29:32.050 +02:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2022-04-25 09:29:32.059 +02:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2022-04-25 09:29:32.062 +02:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2022-04-25 09:29:32.066 +02:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2022-04-25 09:29:32.068 +02:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2022-04-25 09:29:32.070 +02:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2022-04-25 09:29:32.073 +02:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2022-04-25 09:29:32.076 +02:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2022-04-25 09:29:32.078 +02:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name '' in request data ...
2022-04-25 09:29:32.083 +02:00 [DBG] Could not find a value in the request with name '' for binding parameter 'searchQuery' of type 'System.String'.
2022-04-25 09:29:32.086 +02:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2022-04-25 09:29:32.088 +02:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2022-04-25 09:29:32.090 +02:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2022-04-25 09:29:32.092 +02:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2022-04-25 09:29:32.093 +02:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2022-04-25 09:29:32.098 +02:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name 'pageNumber' in request data ...
2022-04-25 09:29:32.102 +02:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2022-04-25 09:29:32.103 +02:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2022-04-25 09:29:32.105 +02:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2022-04-25 09:29:32.107 +02:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2022-04-25 09:29:32.109 +02:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2022-04-25 09:29:32.112 +02:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2022-04-25 09:29:32.115 +02:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2022-04-25 09:29:32.117 +02:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2022-04-25 09:29:32.119 +02:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2022-04-25 09:29:32.120 +02:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2022-04-25 09:29:33.066 +02:00 [INF] Entity Framework Core 5.0.15 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: None
2022-04-25 09:29:33.106 +02:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Count()'
2022-04-25 09:29:33.284 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<int>(
    asyncEnumerable: new SingleQueryingEnumerable<int>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT COUNT(*)
            FROM Cities AS c), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, int>, 
        CityInfo.Infrastructure.DbContexts.CityInfoContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2022-04-25 09:29:33.344 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-04-25 09:29:33.514 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (166ms).
2022-04-25 09:29:33.523 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-04-25 09:29:33.550 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API\CityInfo.db'.
2022-04-25 09:29:33.567 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2022-04-25 09:29:33.610 +02:00 [INF] Executed DbCommand (44ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2022-04-25 09:29:33.629 +02:00 [DBG] A data reader was disposed.
2022-04-25 09:29:33.636 +02:00 [DBG] Closing connection to database 'main' on server 'C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API\CityInfo.db'.
2022-04-25 09:29:33.649 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-04-25 09:29:33.670 +02:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .OrderBy(c => c.Name)
    .Skip(__p_0)
    .Take(__p_0)'
2022-04-25 09:29:33.738 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<City>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2], }
        SELECT c.Id, c.Description, c.Name
        FROM Cities AS c
        ORDER BY c.Name ASC
        OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
    CityInfo.Infrastructure.DbContexts.CityInfoContext, 
    False, 
    False
)'
2022-04-25 09:29:33.750 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-04-25 09:29:33.751 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-04-25 09:29:33.755 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-04-25 09:29:33.758 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API\CityInfo.db'.
2022-04-25 09:29:33.764 +02:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
LIMIT @__p_0 OFFSET @__p_0
2022-04-25 09:29:33.774 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__p_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
LIMIT @__p_0 OFFSET @__p_0
2022-04-25 09:29:33.793 +02:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-04-25 09:29:33.831 +02:00 [DBG] A data reader was disposed.
2022-04-25 09:29:33.832 +02:00 [DBG] Closing connection to database 'main' on server 'C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API\CityInfo.db'.
2022-04-25 09:29:33.835 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-04-25 09:29:33.867 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2022-04-25 09:29:33.873 +02:00 [DBG] No information found on request to perform content negotiation.
2022-04-25 09:29:33.874 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-04-25 09:29:33.875 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-04-25 09:29:33.877 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-04-25 09:29:33.879 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.ValueTuple`2[[System.Collections.Generic.IEnumerable`1[[CityInfo.Application.Dto.CityDto, CityInfo.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[CityInfo.Infrastructure.Services.PaginationMetadata, CityInfo.Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-04-25 09:29:34.088 +02:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetAllCities (CityInfo.API) in 2294.0803ms
2022-04-25 09:29:34.096 +02:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetAllCities (CityInfo.API)'
2022-04-25 09:29:34.097 +02:00 [DBG] Connection id "0HMH6HL5SMTNF" completed keep alive response.
2022-04-25 09:29:34.102 +02:00 [DBG] 'CityInfoContext' disposed.
2022-04-25 09:29:34.110 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/cities?pageSize=1&pageNumber=2 - - - 200 163 application/json;+charset=utf-8 2499.2908ms
2022-04-25 09:30:54.954 +02:00 [DBG] Hosting starting
2022-04-25 09:30:55.687 +02:00 [DBG] Using development certificate: CN=localhost (Thumbprint: A40C6697D0C21C2C32B35E9E8F9AD3269C88392E)
2022-04-25 09:30:55.774 +02:00 [INF] Now listening on: https://localhost:5001
2022-04-25 09:30:55.781 +02:00 [INF] Now listening on: http://localhost:5000
2022-04-25 09:30:55.782 +02:00 [DBG] Loaded hosting startup assembly CityInfo.API
2022-04-25 09:30:55.784 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2022-04-25 09:30:55.785 +02:00 [INF] Hosting environment: Development
2022-04-25 09:30:55.786 +02:00 [INF] Content root path: C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API
2022-04-25 09:30:55.788 +02:00 [DBG] Hosting started
2022-04-25 09:30:56.021 +02:00 [DBG] Connection id "0HMH6HM4ISAPM" received FIN.
2022-04-25 09:30:56.042 +02:00 [DBG] Connection id "0HMH6HM4ISAPM" accepted.
2022-04-25 09:30:56.045 +02:00 [DBG] Connection id "0HMH6HM4ISAPM" started.
2022-04-25 09:30:56.109 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-04-25 09:30:56.314 +02:00 [DBG] Connection id "0HMH6HM4ISAPM" stopped.
2022-04-25 09:30:56.333 +02:00 [DBG] Connection id "0HMH6HM4ISAPM" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-04-25 09:30:56.659 +02:00 [DBG] Connection id "0HMH6HM4ISAPN" accepted.
2022-04-25 09:30:56.729 +02:00 [DBG] Connection id "0HMH6HM4ISAPN" started.
2022-04-25 09:30:56.959 +02:00 [DBG] Connection "0HMH6HM4ISAPN" established using the following protocol: "Tls12"
2022-04-25 09:30:57.219 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - -
2022-04-25 09:30:57.223 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-04-25 09:30:57.386 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - - - 200 - text/html;charset=utf-8 167.5207ms
2022-04-25 09:30:57.690 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - -
2022-04-25 09:30:58.427 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 736.7851ms
2022-04-25 09:31:11.448 +02:00 [DBG] Connection id "0HMH6HM4ISAPO" accepted.
2022-04-25 09:31:11.451 +02:00 [DBG] Connection id "0HMH6HM4ISAPO" received FIN.
2022-04-25 09:31:11.454 +02:00 [DBG] Connection id "0HMH6HM4ISAPP" accepted.
2022-04-25 09:31:11.454 +02:00 [DBG] Connection id "0HMH6HM4ISAPO" started.
2022-04-25 09:31:11.457 +02:00 [DBG] Connection id "0HMH6HM4ISAPP" started.
2022-04-25 09:31:11.460 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-04-25 09:31:11.480 +02:00 [DBG] Connection id "0HMH6HM4ISAPO" stopped.
2022-04-25 09:31:11.483 +02:00 [DBG] Connection id "0HMH6HM4ISAPO" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-04-25 09:31:11.485 +02:00 [DBG] Connection "0HMH6HM4ISAPP" established using the following protocol: "Tls12"
2022-04-25 09:31:11.503 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/cities?pageSize=1&pageNumber=2 - -
2022-04-25 09:31:11.508 +02:00 [DBG] The request path  does not match the path filter
2022-04-25 09:31:11.568 +02:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2022-04-25 09:31:11.580 +02:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetAllCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2022-04-25 09:31:11.583 +02:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetAllCities (CityInfo.API)'
2022-04-25 09:31:11.588 +02:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetAllCities (CityInfo.API)'
2022-04-25 09:31:11.611 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-04-25 09:31:11.683 +02:00 [INF] Route matched with {action = "GetAllCities", controller = "Cities"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.Application.Dto.CityDto]] GetAllCities(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2022-04-25 09:31:11.689 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-04-25 09:31:11.691 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-04-25 09:31:11.693 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-04-25 09:31:11.697 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-04-25 09:31:11.699 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-04-25 09:31:11.707 +02:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2022-04-25 09:31:11.915 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2022-04-25 09:31:11.949 +02:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2022-04-25 09:31:11.972 +02:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2022-04-25 09:31:11.981 +02:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2022-04-25 09:31:11.983 +02:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2022-04-25 09:31:11.986 +02:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2022-04-25 09:31:11.987 +02:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2022-04-25 09:31:11.988 +02:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2022-04-25 09:31:11.991 +02:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2022-04-25 09:31:11.994 +02:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2022-04-25 09:31:11.998 +02:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name '' in request data ...
2022-04-25 09:31:12.002 +02:00 [DBG] Could not find a value in the request with name '' for binding parameter 'searchQuery' of type 'System.String'.
2022-04-25 09:31:12.005 +02:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2022-04-25 09:31:12.007 +02:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2022-04-25 09:31:12.009 +02:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2022-04-25 09:31:12.013 +02:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2022-04-25 09:31:12.015 +02:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2022-04-25 09:31:12.017 +02:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name 'pageNumber' in request data ...
2022-04-25 09:31:12.021 +02:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2022-04-25 09:31:12.023 +02:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2022-04-25 09:31:12.025 +02:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2022-04-25 09:31:12.033 +02:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2022-04-25 09:31:12.034 +02:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2022-04-25 09:31:12.037 +02:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2022-04-25 09:31:12.040 +02:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2022-04-25 09:31:12.044 +02:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2022-04-25 09:31:12.047 +02:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2022-04-25 09:31:12.052 +02:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2022-04-25 09:31:13.030 +02:00 [INF] Entity Framework Core 5.0.15 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: None
2022-04-25 09:31:13.072 +02:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Count()'
2022-04-25 09:31:13.259 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<int>(
    asyncEnumerable: new SingleQueryingEnumerable<int>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT COUNT(*)
            FROM Cities AS c), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, int>, 
        CityInfo.Infrastructure.DbContexts.CityInfoContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2022-04-25 09:31:13.304 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-04-25 09:31:13.458 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (149ms).
2022-04-25 09:31:13.467 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-04-25 09:31:13.501 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API\CityInfo.db'.
2022-04-25 09:31:13.517 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2022-04-25 09:31:13.555 +02:00 [INF] Executed DbCommand (34ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2022-04-25 09:31:13.583 +02:00 [DBG] A data reader was disposed.
2022-04-25 09:31:13.593 +02:00 [DBG] Closing connection to database 'main' on server 'C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API\CityInfo.db'.
2022-04-25 09:31:13.606 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-04-25 09:31:13.649 +02:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .OrderBy(c => c.Name)
    .Skip(__p_0)
    .Take(__p_0)'
2022-04-25 09:31:13.726 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<City>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2], }
        SELECT c.Id, c.Description, c.Name
        FROM Cities AS c
        ORDER BY c.Name ASC
        OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
    CityInfo.Infrastructure.DbContexts.CityInfoContext, 
    False, 
    False
)'
2022-04-25 09:31:13.740 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-04-25 09:31:13.741 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-04-25 09:31:13.746 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-04-25 09:31:13.750 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API\CityInfo.db'.
2022-04-25 09:31:13.756 +02:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
LIMIT @__p_0 OFFSET @__p_0
2022-04-25 09:31:13.766 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[@__p_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
LIMIT @__p_0 OFFSET @__p_0
2022-04-25 09:31:13.784 +02:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-04-25 09:31:13.823 +02:00 [DBG] A data reader was disposed.
2022-04-25 09:31:13.824 +02:00 [DBG] Closing connection to database 'main' on server 'C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API\CityInfo.db'.
2022-04-25 09:31:13.828 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-04-25 09:31:13.857 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2022-04-25 09:31:13.862 +02:00 [DBG] No information found on request to perform content negotiation.
2022-04-25 09:31:13.863 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-04-25 09:31:13.864 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-04-25 09:31:13.866 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-04-25 09:31:13.868 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.Application.Dto.CityDto, CityInfo.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-04-25 09:31:14.062 +02:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetAllCities (CityInfo.API) in 2348.4235ms
2022-04-25 09:31:14.065 +02:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetAllCities (CityInfo.API)'
2022-04-25 09:31:14.067 +02:00 [DBG] Connection id "0HMH6HM4ISAPP" completed keep alive response.
2022-04-25 09:31:14.071 +02:00 [DBG] 'CityInfoContext' disposed.
2022-04-25 09:31:14.075 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/cities?pageSize=1&pageNumber=2 - - - 200 76 application/json;+charset=utf-8 2571.5425ms
2022-04-25 11:43:21.677 +02:00 [DBG] Hosting starting
2022-04-25 11:43:22.560 +02:00 [DBG] Using development certificate: CN=localhost (Thumbprint: A40C6697D0C21C2C32B35E9E8F9AD3269C88392E)
2022-04-25 11:43:22.657 +02:00 [INF] Now listening on: https://localhost:5001
2022-04-25 11:43:22.666 +02:00 [INF] Now listening on: http://localhost:5000
2022-04-25 11:43:22.667 +02:00 [DBG] Loaded hosting startup assembly CityInfo.API
2022-04-25 11:43:22.669 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2022-04-25 11:43:22.670 +02:00 [INF] Hosting environment: Development
2022-04-25 11:43:22.672 +02:00 [INF] Content root path: C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API
2022-04-25 11:43:22.673 +02:00 [DBG] Hosting started
2022-04-25 11:43:22.789 +02:00 [DBG] Connection id "0HMH6K04T1JUM" accepted.
2022-04-25 11:43:22.789 +02:00 [DBG] Connection id "0HMH6K04T1JUM" received FIN.
2022-04-25 11:43:22.789 +02:00 [DBG] Connection id "0HMH6K04T1JUN" accepted.
2022-04-25 11:43:22.789 +02:00 [DBG] Connection id "0HMH6K04T1JUN" received FIN.
2022-04-25 11:43:22.794 +02:00 [DBG] Connection id "0HMH6K04T1JUN" started.
2022-04-25 11:43:22.794 +02:00 [DBG] Connection id "0HMH6K04T1JUM" started.
2022-04-25 11:43:22.834 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-04-25 11:43:22.834 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-04-25 11:43:22.994 +02:00 [DBG] Connection id "0HMH6K04T1JUN" stopped.
2022-04-25 11:43:22.994 +02:00 [DBG] Connection id "0HMH6K04T1JUM" stopped.
2022-04-25 11:43:22.998 +02:00 [DBG] Connection id "0HMH6K04T1JUN" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-04-25 11:43:22.998 +02:00 [DBG] Connection id "0HMH6K04T1JUM" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-04-25 11:43:24.002 +02:00 [DBG] Connection id "0HMH6K04T1JUO" accepted.
2022-04-25 11:43:24.006 +02:00 [DBG] Connection id "0HMH6K04T1JUO" started.
2022-04-25 11:43:24.133 +02:00 [DBG] Connection "0HMH6K04T1JUO" established using the following protocol: "Tls12"
2022-04-25 11:43:24.309 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - -
2022-04-25 11:43:24.313 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-04-25 11:43:24.611 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - - - 200 - text/html;charset=utf-8 304.7780ms
2022-04-25 11:43:25.001 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - -
2022-04-25 11:43:25.245 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 244.2896ms
2022-04-25 11:45:14.632 +02:00 [DBG] Connection id "0HMH6K04T1JUP" received FIN.
2022-04-25 11:45:14.635 +02:00 [DBG] Connection id "0HMH6K04T1JUP" accepted.
2022-04-25 11:45:14.646 +02:00 [DBG] Connection id "0HMH6K04T1JUP" started.
2022-04-25 11:45:14.646 +02:00 [DBG] Connection id "0HMH6K04T1JUQ" accepted.
2022-04-25 11:45:14.652 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-04-25 11:45:14.653 +02:00 [DBG] Connection id "0HMH6K04T1JUQ" started.
2022-04-25 11:45:14.661 +02:00 [DBG] Connection id "0HMH6K04T1JUP" stopped.
2022-04-25 11:45:14.668 +02:00 [DBG] Connection id "0HMH6K04T1JUP" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-04-25 11:45:14.682 +02:00 [DBG] Connection "0HMH6K04T1JUQ" established using the following protocol: "Tls12"
2022-04-25 11:45:14.706 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:5001/api/authentication/authenticate application/json 117
2022-04-25 11:45:14.710 +02:00 [DBG] POST requests are not supported
2022-04-25 11:45:14.761 +02:00 [DBG] 1 candidate(s) found for the request path '/api/authentication/authenticate'
2022-04-25 11:45:14.770 +02:00 [DBG] Endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)' with route pattern 'api/authentication/authenticate' is valid for the request path '/api/authentication/authenticate'
2022-04-25 11:45:14.774 +02:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2022-04-25 11:45:14.778 +02:00 [INF] Executing endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2022-04-25 11:45:14.801 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-04-25 11:45:14.861 +02:00 [INF] Route matched with {action = "Authenticate", controller = "Authentication"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.String] Authenticate(CityInfo.Application.Authentication.AuthenticationRequestBody) on controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API).
2022-04-25 11:45:14.865 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-04-25 11:45:14.867 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-04-25 11:45:14.868 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-04-25 11:45:14.872 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-04-25 11:45:14.873 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-04-25 11:45:14.880 +02:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API)
2022-04-25 11:45:14.890 +02:00 [INF] Executed action CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API) in 6.6917ms
2022-04-25 11:45:14.897 +02:00 [INF] Executed endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2022-04-25 11:45:14.900 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Unable to resolve service for type 'CityInfo.Application.Contract.IAuthenticationContract' while attempting to activate 'CityInfo.API.Controllers.AuthenticationController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetService(IServiceProvider sp, Type type, Type requiredBy, Boolean isDefaultParameterRequired)
   at lambda_method3(Closure , IServiceProvider , Object[] )
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerActivatorProvider.<>c__DisplayClass4_0.<CreateActivator>b__0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass5_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2022-04-25 11:45:15.172 +02:00 [DBG] Connection id "0HMH6K04T1JUQ" completed keep alive response.
2022-04-25 11:45:15.173 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:5001/api/authentication/authenticate application/json 117 - 500 - text/plain 467.9097ms
2022-04-25 11:45:15.175 +02:00 [DBG] Connection id "0HMH6K04T1JUQ", Request id "0HMH6K04T1JUQ:00000002": started reading request body.
2022-04-25 11:45:15.178 +02:00 [DBG] Connection id "0HMH6K04T1JUQ", Request id "0HMH6K04T1JUQ:00000002": done reading request body.
2022-04-25 11:45:27.471 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:5001/api/authentication/authenticate application/json 114
2022-04-25 11:45:27.474 +02:00 [DBG] POST requests are not supported
2022-04-25 11:45:27.477 +02:00 [DBG] 1 candidate(s) found for the request path '/api/authentication/authenticate'
2022-04-25 11:45:27.478 +02:00 [DBG] Endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)' with route pattern 'api/authentication/authenticate' is valid for the request path '/api/authentication/authenticate'
2022-04-25 11:45:27.482 +02:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2022-04-25 11:45:27.484 +02:00 [INF] Executing endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2022-04-25 11:45:27.486 +02:00 [INF] Route matched with {action = "Authenticate", controller = "Authentication"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.String] Authenticate(CityInfo.Application.Authentication.AuthenticationRequestBody) on controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API).
2022-04-25 11:45:27.493 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-04-25 11:45:27.494 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-04-25 11:45:27.496 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-04-25 11:45:27.498 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-04-25 11:45:27.500 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-04-25 11:45:27.502 +02:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API)
2022-04-25 11:45:27.508 +02:00 [INF] Executed action CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API) in 6.313ms
2022-04-25 11:45:27.510 +02:00 [INF] Executed endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2022-04-25 11:45:27.511 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Unable to resolve service for type 'CityInfo.Application.Contract.IAuthenticationContract' while attempting to activate 'CityInfo.API.Controllers.AuthenticationController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetService(IServiceProvider sp, Type type, Type requiredBy, Boolean isDefaultParameterRequired)
   at lambda_method3(Closure , IServiceProvider , Object[] )
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerActivatorProvider.<>c__DisplayClass4_0.<CreateActivator>b__0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass5_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2022-04-25 11:45:27.526 +02:00 [DBG] Connection id "0HMH6K04T1JUQ" completed keep alive response.
2022-04-25 11:45:27.527 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:5001/api/authentication/authenticate application/json 114 - 500 - text/plain 55.8258ms
2022-04-25 11:45:27.529 +02:00 [DBG] Connection id "0HMH6K04T1JUQ", Request id "0HMH6K04T1JUQ:00000003": started reading request body.
2022-04-25 11:45:27.532 +02:00 [DBG] Connection id "0HMH6K04T1JUQ", Request id "0HMH6K04T1JUQ:00000003": done reading request body.
2022-04-25 11:46:48.913 +02:00 [DBG] Hosting starting
2022-04-25 11:46:49.770 +02:00 [DBG] Using development certificate: CN=localhost (Thumbprint: A40C6697D0C21C2C32B35E9E8F9AD3269C88392E)
2022-04-25 11:46:49.873 +02:00 [INF] Now listening on: https://localhost:5001
2022-04-25 11:46:49.875 +02:00 [INF] Now listening on: http://localhost:5000
2022-04-25 11:46:49.880 +02:00 [DBG] Loaded hosting startup assembly CityInfo.API
2022-04-25 11:46:49.881 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2022-04-25 11:46:49.882 +02:00 [INF] Hosting environment: Development
2022-04-25 11:46:49.883 +02:00 [INF] Content root path: C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API
2022-04-25 11:46:49.884 +02:00 [DBG] Hosting started
2022-04-25 11:46:50.406 +02:00 [DBG] Connection id "0HMH6K22P5AUB" received FIN.
2022-04-25 11:46:50.406 +02:00 [DBG] Connection id "0HMH6K22P5AUC" received FIN.
2022-04-25 11:46:50.427 +02:00 [DBG] Connection id "0HMH6K22P5AUC" accepted.
2022-04-25 11:46:50.427 +02:00 [DBG] Connection id "0HMH6K22P5AUB" accepted.
2022-04-25 11:46:50.431 +02:00 [DBG] Connection id "0HMH6K22P5AUB" started.
2022-04-25 11:46:50.431 +02:00 [DBG] Connection id "0HMH6K22P5AUC" started.
2022-04-25 11:46:50.477 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-04-25 11:46:50.477 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-04-25 11:46:50.592 +02:00 [DBG] Connection id "0HMH6K22P5AUB" stopped.
2022-04-25 11:46:50.592 +02:00 [DBG] Connection id "0HMH6K22P5AUC" stopped.
2022-04-25 11:46:50.598 +02:00 [DBG] Connection id "0HMH6K22P5AUC" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-04-25 11:46:50.598 +02:00 [DBG] Connection id "0HMH6K22P5AUB" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-04-25 11:46:51.034 +02:00 [DBG] Connection id "0HMH6K22P5AUD" accepted.
2022-04-25 11:46:51.074 +02:00 [DBG] Connection id "0HMH6K22P5AUD" started.
2022-04-25 11:46:51.193 +02:00 [DBG] Connection "0HMH6K22P5AUD" established using the following protocol: "Tls12"
2022-04-25 11:46:51.266 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - -
2022-04-25 11:46:51.269 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-04-25 11:46:51.442 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - - - 200 - text/html;charset=utf-8 177.2435ms
2022-04-25 11:46:51.738 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - -
2022-04-25 11:46:52.518 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 780.8412ms
2022-04-25 11:46:56.435 +02:00 [DBG] Connection id "0HMH6K22P5AUE" accepted.
2022-04-25 11:46:56.435 +02:00 [DBG] Connection id "0HMH6K22P5AUE" received FIN.
2022-04-25 11:46:56.441 +02:00 [DBG] Connection id "0HMH6K22P5AUE" started.
2022-04-25 11:46:56.443 +02:00 [DBG] Connection id "0HMH6K22P5AUF" accepted.
2022-04-25 11:46:56.446 +02:00 [DBG] Connection id "0HMH6K22P5AUF" started.
2022-04-25 11:46:56.449 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-04-25 11:46:56.462 +02:00 [DBG] Connection id "0HMH6K22P5AUE" stopped.
2022-04-25 11:46:56.465 +02:00 [DBG] Connection id "0HMH6K22P5AUE" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-04-25 11:46:56.471 +02:00 [DBG] Connection "0HMH6K22P5AUF" established using the following protocol: "Tls12"
2022-04-25 11:46:56.494 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:5001/api/authentication/authenticate application/json 114
2022-04-25 11:46:56.501 +02:00 [DBG] POST requests are not supported
2022-04-25 11:46:56.578 +02:00 [DBG] 1 candidate(s) found for the request path '/api/authentication/authenticate'
2022-04-25 11:46:56.589 +02:00 [DBG] Endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)' with route pattern 'api/authentication/authenticate' is valid for the request path '/api/authentication/authenticate'
2022-04-25 11:46:56.593 +02:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2022-04-25 11:46:56.596 +02:00 [INF] Executing endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2022-04-25 11:46:56.618 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-04-25 11:46:56.689 +02:00 [INF] Route matched with {action = "Authenticate", controller = "Authentication"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.String] Authenticate(CityInfo.Application.Authentication.AuthenticationRequestBody) on controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API).
2022-04-25 11:46:56.694 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-04-25 11:46:56.696 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-04-25 11:46:56.698 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-04-25 11:46:56.701 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-04-25 11:46:56.703 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-04-25 11:46:56.711 +02:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API)
2022-04-25 11:46:56.720 +02:00 [INF] Executed action CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API) in 6.1463ms
2022-04-25 11:46:56.723 +02:00 [INF] Executed endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2022-04-25 11:46:56.728 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Unable to resolve service for type 'CityInfo.Application.Contract.IAuthenticationContract' while attempting to activate 'CityInfo.API.Controllers.AuthenticationController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetService(IServiceProvider sp, Type type, Type requiredBy, Boolean isDefaultParameterRequired)
   at lambda_method3(Closure , IServiceProvider , Object[] )
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerActivatorProvider.<>c__DisplayClass4_0.<CreateActivator>b__0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass5_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2022-04-25 11:46:56.808 +02:00 [DBG] Connection id "0HMH6K22P5AUF" completed keep alive response.
2022-04-25 11:46:56.812 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:5001/api/authentication/authenticate application/json 114 - 500 - text/plain 317.5059ms
2022-04-25 11:46:56.814 +02:00 [DBG] Connection id "0HMH6K22P5AUF", Request id "0HMH6K22P5AUF:00000002": started reading request body.
2022-04-25 11:46:56.816 +02:00 [DBG] Connection id "0HMH6K22P5AUF", Request id "0HMH6K22P5AUF:00000002": done reading request body.
2022-04-25 11:47:21.247 +02:00 [DBG] Hosting starting
2022-04-25 11:47:21.846 +02:00 [DBG] Using development certificate: CN=localhost (Thumbprint: A40C6697D0C21C2C32B35E9E8F9AD3269C88392E)
2022-04-25 11:47:21.920 +02:00 [INF] Now listening on: https://localhost:5001
2022-04-25 11:47:21.922 +02:00 [INF] Now listening on: http://localhost:5000
2022-04-25 11:47:21.923 +02:00 [DBG] Loaded hosting startup assembly CityInfo.API
2022-04-25 11:47:21.925 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2022-04-25 11:47:21.926 +02:00 [INF] Hosting environment: Development
2022-04-25 11:47:21.927 +02:00 [INF] Content root path: C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API
2022-04-25 11:47:21.928 +02:00 [DBG] Hosting started
2022-04-25 11:47:22.421 +02:00 [DBG] Connection id "0HMH6K2CAEJMF" accepted.
2022-04-25 11:47:22.421 +02:00 [DBG] Connection id "0HMH6K2CAEJMG" accepted.
2022-04-25 11:47:22.424 +02:00 [DBG] Connection id "0HMH6K2CAEJMF" started.
2022-04-25 11:47:22.424 +02:00 [DBG] Connection id "0HMH6K2CAEJMG" started.
2022-04-25 11:47:22.443 +02:00 [DBG] Connection id "0HMH6K2CAEJMG" received FIN.
2022-04-25 11:47:22.443 +02:00 [DBG] Connection id "0HMH6K2CAEJMF" received FIN.
2022-04-25 11:47:22.466 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-04-25 11:47:22.472 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|182_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-04-25 11:47:22.580 +02:00 [DBG] Connection id "0HMH6K2CAEJMF" stopped.
2022-04-25 11:47:22.580 +02:00 [DBG] Connection id "0HMH6K2CAEJMG" stopped.
2022-04-25 11:47:22.585 +02:00 [DBG] Connection id "0HMH6K2CAEJMG" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-04-25 11:47:22.585 +02:00 [DBG] Connection id "0HMH6K2CAEJMF" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-04-25 11:47:22.888 +02:00 [DBG] Connection id "0HMH6K2CAEJMH" accepted.
2022-04-25 11:47:22.893 +02:00 [DBG] Connection id "0HMH6K2CAEJMH" started.
2022-04-25 11:47:23.023 +02:00 [DBG] Connection "0HMH6K2CAEJMH" established using the following protocol: "Tls12"
2022-04-25 11:47:23.142 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - -
2022-04-25 11:47:23.145 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-04-25 11:47:23.292 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - - - 200 - text/html;charset=utf-8 151.2643ms
2022-04-25 11:47:23.595 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - -
2022-04-25 11:47:23.937 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 342.1926ms
2022-04-25 11:47:29.210 +02:00 [DBG] Connection id "0HMH6K2CAEJMI" accepted.
2022-04-25 11:47:29.210 +02:00 [DBG] Connection id "0HMH6K2CAEJMI" received FIN.
2022-04-25 11:47:29.212 +02:00 [DBG] Connection id "0HMH6K2CAEJMI" started.
2022-04-25 11:47:29.213 +02:00 [DBG] Connection id "0HMH6K2CAEJMJ" accepted.
2022-04-25 11:47:29.216 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-04-25 11:47:29.217 +02:00 [DBG] Connection id "0HMH6K2CAEJMJ" started.
2022-04-25 11:47:29.223 +02:00 [DBG] Connection id "0HMH6K2CAEJMI" stopped.
2022-04-25 11:47:29.226 +02:00 [DBG] Connection id "0HMH6K2CAEJMI" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-04-25 11:47:29.235 +02:00 [DBG] Connection "0HMH6K2CAEJMJ" established using the following protocol: "Tls12"
2022-04-25 11:47:29.249 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:5001/api/authentication/authenticate application/json 114
2022-04-25 11:47:29.257 +02:00 [DBG] POST requests are not supported
2022-04-25 11:47:29.321 +02:00 [DBG] 1 candidate(s) found for the request path '/api/authentication/authenticate'
2022-04-25 11:47:29.330 +02:00 [DBG] Endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)' with route pattern 'api/authentication/authenticate' is valid for the request path '/api/authentication/authenticate'
2022-04-25 11:47:29.333 +02:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2022-04-25 11:47:29.337 +02:00 [INF] Executing endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2022-04-25 11:47:29.348 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-04-25 11:47:29.401 +02:00 [INF] Route matched with {action = "Authenticate", controller = "Authentication"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.String] Authenticate(CityInfo.Application.Authentication.AuthenticationRequestBody) on controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API).
2022-04-25 11:47:29.405 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-04-25 11:47:29.407 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-04-25 11:47:29.409 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-04-25 11:47:29.412 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-04-25 11:47:29.413 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-04-25 11:47:29.416 +02:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API)
2022-04-25 11:47:29.427 +02:00 [INF] Executed action CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API) in 7.0838ms
2022-04-25 11:47:29.430 +02:00 [INF] Executed endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2022-04-25 11:47:29.433 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Unable to resolve service for type 'CityInfo.Application.Contract.IAuthenticationContract' while attempting to activate 'CityInfo.API.Controllers.AuthenticationController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetService(IServiceProvider sp, Type type, Type requiredBy, Boolean isDefaultParameterRequired)
   at lambda_method3(Closure , IServiceProvider , Object[] )
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerActivatorProvider.<>c__DisplayClass4_0.<CreateActivator>b__0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass5_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2022-04-25 11:47:29.501 +02:00 [DBG] Connection id "0HMH6K2CAEJMJ" completed keep alive response.
2022-04-25 11:47:29.507 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:5001/api/authentication/authenticate application/json 114 - 500 - text/plain 257.1024ms
2022-04-25 11:47:29.509 +02:00 [DBG] Connection id "0HMH6K2CAEJMJ", Request id "0HMH6K2CAEJMJ:00000002": started reading request body.
2022-04-25 11:47:29.511 +02:00 [DBG] Connection id "0HMH6K2CAEJMJ", Request id "0HMH6K2CAEJMJ:00000002": done reading request body.
2022-04-25 11:50:14.083 +02:00 [DBG] Connection id "0HMH6K2CAEJMH" received FIN.
2022-04-25 11:50:14.102 +02:00 [DBG] Connection id "0HMH6K2CAEJMH" is closing.
2022-04-25 11:50:14.112 +02:00 [DBG] Connection id "0HMH6K2CAEJMH" is closed. The last processed stream ID was 17.
2022-04-25 11:50:14.115 +02:00 [DBG] Connection id "0HMH6K2CAEJMH" sending FIN because: "The client closed the connection."
2022-04-25 11:50:14.121 +02:00 [DBG] Connection id "0HMH6K2CAEJMH" stopped.
2022-04-25 11:52:20.661 +02:00 [DBG] Hosting starting
2022-04-25 11:52:21.390 +02:00 [DBG] Using development certificate: CN=localhost (Thumbprint: A40C6697D0C21C2C32B35E9E8F9AD3269C88392E)
2022-04-25 11:52:21.495 +02:00 [INF] Now listening on: https://localhost:5001
2022-04-25 11:52:21.496 +02:00 [INF] Now listening on: http://localhost:5000
2022-04-25 11:52:21.499 +02:00 [DBG] Loaded hosting startup assembly CityInfo.API
2022-04-25 11:52:21.510 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2022-04-25 11:52:21.511 +02:00 [INF] Hosting environment: Development
2022-04-25 11:52:21.513 +02:00 [INF] Content root path: C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API
2022-04-25 11:52:21.514 +02:00 [DBG] Hosting started
2022-04-25 11:52:22.028 +02:00 [DBG] Connection id "0HMH6K55JPC14" received FIN.
2022-04-25 11:52:22.028 +02:00 [DBG] Connection id "0HMH6K55JPC13" received FIN.
2022-04-25 11:52:22.033 +02:00 [DBG] Connection id "0HMH6K55JPC13" accepted.
2022-04-25 11:52:22.033 +02:00 [DBG] Connection id "0HMH6K55JPC14" accepted.
2022-04-25 11:52:22.036 +02:00 [DBG] Connection id "0HMH6K55JPC14" started.
2022-04-25 11:52:22.036 +02:00 [DBG] Connection id "0HMH6K55JPC13" started.
2022-04-25 11:52:22.079 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-04-25 11:52:22.078 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-04-25 11:52:22.264 +02:00 [DBG] Connection id "0HMH6K55JPC14" stopped.
2022-04-25 11:52:22.264 +02:00 [DBG] Connection id "0HMH6K55JPC13" stopped.
2022-04-25 11:52:22.294 +02:00 [DBG] Connection id "0HMH6K55JPC14" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-04-25 11:52:22.294 +02:00 [DBG] Connection id "0HMH6K55JPC13" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-04-25 11:52:22.782 +02:00 [DBG] Connection id "0HMH6K55JPC15" accepted.
2022-04-25 11:52:22.811 +02:00 [DBG] Connection id "0HMH6K55JPC15" started.
2022-04-25 11:52:22.962 +02:00 [DBG] Connection "0HMH6K55JPC15" established using the following protocol: "Tls12"
2022-04-25 11:52:23.088 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - -
2022-04-25 11:52:23.096 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-04-25 11:52:23.409 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - - - 200 - text/html;charset=utf-8 327.1857ms
2022-04-25 11:52:23.671 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/favicon-16x16.png - -
2022-04-25 11:52:23.705 +02:00 [DBG] The file transmission was cancelled
System.OperationCanceledException: The operation was canceled.
   at System.Threading.CancellationToken.ThrowOperationCanceledException()
   at System.Threading.CancellationToken.ThrowIfCancellationRequested()
   at Microsoft.AspNetCore.Http.SendFileResponseExtensions.SendFileAsyncCore(HttpResponse response, IFileInfo file, Int64 offset, Nullable`1 count, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.StaticFiles.StaticFileContext.SendAsync()
2022-04-25 11:52:23.721 +02:00 [INF] Sending file. Request path: '/favicon-16x16.png'. Physical path: 'N/A'
2022-04-25 11:52:23.724 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/favicon-16x16.png - - - 0 665 image/png 53.0019ms
2022-04-25 11:52:23.738 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - -
2022-04-25 11:52:23.994 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 256.0534ms
2022-04-25 11:52:30.349 +02:00 [DBG] Connection id "0HMH6K55JPC16" received FIN.
2022-04-25 11:52:30.353 +02:00 [DBG] Connection id "0HMH6K55JPC16" accepted.
2022-04-25 11:52:30.355 +02:00 [DBG] Connection id "0HMH6K55JPC16" started.
2022-04-25 11:52:30.359 +02:00 [DBG] Connection id "0HMH6K55JPC17" accepted.
2022-04-25 11:52:30.364 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-04-25 11:52:30.364 +02:00 [DBG] Connection id "0HMH6K55JPC17" started.
2022-04-25 11:52:30.379 +02:00 [DBG] Connection id "0HMH6K55JPC16" stopped.
2022-04-25 11:52:30.390 +02:00 [DBG] Connection id "0HMH6K55JPC16" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-04-25 11:52:30.399 +02:00 [DBG] Connection "0HMH6K55JPC17" established using the following protocol: "Tls12"
2022-04-25 11:52:30.419 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:5001/api/authentication/authenticate application/json 114
2022-04-25 11:52:30.423 +02:00 [DBG] POST requests are not supported
2022-04-25 11:52:30.494 +02:00 [DBG] 1 candidate(s) found for the request path '/api/authentication/authenticate'
2022-04-25 11:52:30.511 +02:00 [DBG] Endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)' with route pattern 'api/authentication/authenticate' is valid for the request path '/api/authentication/authenticate'
2022-04-25 11:52:30.516 +02:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2022-04-25 11:52:30.523 +02:00 [INF] Executing endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2022-04-25 11:52:30.550 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-04-25 11:52:30.621 +02:00 [INF] Route matched with {action = "Authenticate", controller = "Authentication"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.String] Authenticate(CityInfo.Application.Authentication.AuthenticationRequestBody) on controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API).
2022-04-25 11:52:30.627 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-04-25 11:52:30.629 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-04-25 11:52:30.632 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-04-25 11:52:30.640 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-04-25 11:52:30.642 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-04-25 11:52:30.646 +02:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API)
2022-04-25 11:52:30.649 +02:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API)
2022-04-25 11:52:30.686 +02:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.Application.Authentication.AuthenticationRequestBody' ...
2022-04-25 11:52:30.692 +02:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.Application.Authentication.AuthenticationRequestBody' using the name '' in request data ...
2022-04-25 11:52:30.695 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2022-04-25 11:52:30.698 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2022-04-25 11:52:30.724 +02:00 [DBG] Connection id "0HMH6K55JPC17", Request id "0HMH6K55JPC17:00000002": started reading request body.
2022-04-25 11:52:30.726 +02:00 [DBG] Connection id "0HMH6K55JPC17", Request id "0HMH6K55JPC17:00000002": done reading request body.
2022-04-25 11:52:30.947 +02:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.Application.Authentication.AuthenticationRequestBody'.
2022-04-25 11:52:30.952 +02:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.Application.Authentication.AuthenticationRequestBody'.
2022-04-25 11:52:30.954 +02:00 [DBG] Attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.Application.Authentication.AuthenticationRequestBody' ...
2022-04-25 11:52:30.963 +02:00 [DBG] Done attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.Application.Authentication.AuthenticationRequestBody'.
2022-04-25 11:53:18.446 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2022-04-25 11:53:18.454 +02:00 [DBG] No information found on request to perform content negotiation.
2022-04-25 11:53:18.455 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-04-25 11:53:18.456 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-04-25 11:53:18.458 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2022-04-25 11:53:18.460 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2022-04-25 11:53:18.475 +02:00 [INF] Executed action CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API) in 47823.9945ms
2022-04-25 11:53:18.481 +02:00 [INF] Executed endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2022-04-25 11:53:18.483 +02:00 [DBG] Connection id "0HMH6K55JPC17" completed keep alive response.
2022-04-25 11:53:18.485 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:5001/api/authentication/authenticate application/json 114 - 200 - text/plain;+charset=utf-8 48066.0528ms
2022-04-25 11:54:19.201 +02:00 [DBG] Hosting starting
2022-04-25 11:54:20.051 +02:00 [DBG] Using development certificate: CN=localhost (Thumbprint: A40C6697D0C21C2C32B35E9E8F9AD3269C88392E)
2022-04-25 11:54:20.140 +02:00 [INF] Now listening on: https://localhost:5001
2022-04-25 11:54:20.142 +02:00 [INF] Now listening on: http://localhost:5000
2022-04-25 11:54:20.143 +02:00 [DBG] Loaded hosting startup assembly CityInfo.API
2022-04-25 11:54:20.145 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2022-04-25 11:54:20.146 +02:00 [INF] Hosting environment: Development
2022-04-25 11:54:20.147 +02:00 [INF] Content root path: C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API
2022-04-25 11:54:20.150 +02:00 [DBG] Hosting started
2022-04-25 11:54:20.405 +02:00 [DBG] Connection id "0HMH6K68SLHNA" received FIN.
2022-04-25 11:54:20.436 +02:00 [DBG] Connection id "0HMH6K68SLHNA" accepted.
2022-04-25 11:54:20.439 +02:00 [DBG] Connection id "0HMH6K68SLHNA" started.
2022-04-25 11:54:20.484 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-04-25 11:54:20.597 +02:00 [DBG] Connection id "0HMH6K68SLHNA" stopped.
2022-04-25 11:54:20.605 +02:00 [DBG] Connection id "0HMH6K68SLHNA" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-04-25 11:54:21.141 +02:00 [DBG] Connection id "0HMH6K68SLHNB" accepted.
2022-04-25 11:54:21.156 +02:00 [DBG] Connection id "0HMH6K68SLHNB" started.
2022-04-25 11:54:21.344 +02:00 [DBG] Connection "0HMH6K68SLHNB" established using the following protocol: "Tls12"
2022-04-25 11:54:21.434 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - -
2022-04-25 11:54:21.439 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-04-25 11:54:21.638 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - - - 200 - text/html;charset=utf-8 202.4470ms
2022-04-25 11:54:22.280 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - -
2022-04-25 11:54:22.495 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 214.8438ms
2022-04-25 11:54:26.499 +02:00 [DBG] Connection id "0HMH6K68SLHNC" accepted.
2022-04-25 11:54:26.501 +02:00 [DBG] Connection id "0HMH6K68SLHNC" started.
2022-04-25 11:54:26.502 +02:00 [DBG] Connection id "0HMH6K68SLHND" accepted.
2022-04-25 11:54:26.503 +02:00 [DBG] Connection id "0HMH6K68SLHNC" received FIN.
2022-04-25 11:54:26.508 +02:00 [DBG] Connection id "0HMH6K68SLHND" started.
2022-04-25 11:54:26.512 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|182_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-04-25 11:54:26.521 +02:00 [DBG] Connection id "0HMH6K68SLHNC" stopped.
2022-04-25 11:54:26.522 +02:00 [DBG] Connection "0HMH6K68SLHND" established using the following protocol: "Tls12"
2022-04-25 11:54:26.525 +02:00 [DBG] Connection id "0HMH6K68SLHNC" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-04-25 11:54:26.539 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:5001/api/authentication/authenticate application/json 117
2022-04-25 11:54:26.545 +02:00 [DBG] POST requests are not supported
2022-04-25 11:54:26.595 +02:00 [DBG] 1 candidate(s) found for the request path '/api/authentication/authenticate'
2022-04-25 11:54:26.605 +02:00 [DBG] Endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)' with route pattern 'api/authentication/authenticate' is valid for the request path '/api/authentication/authenticate'
2022-04-25 11:54:26.608 +02:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2022-04-25 11:54:26.612 +02:00 [INF] Executing endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2022-04-25 11:54:26.631 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-04-25 11:54:26.684 +02:00 [INF] Route matched with {action = "Authenticate", controller = "Authentication"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.String] Authenticate(CityInfo.Application.Authentication.AuthenticationRequestBody) on controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API).
2022-04-25 11:54:26.688 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-04-25 11:54:26.689 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-04-25 11:54:26.691 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-04-25 11:54:26.694 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-04-25 11:54:26.695 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-04-25 11:54:26.698 +02:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API)
2022-04-25 11:54:26.700 +02:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API)
2022-04-25 11:54:26.722 +02:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.Application.Authentication.AuthenticationRequestBody' ...
2022-04-25 11:54:26.728 +02:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.Application.Authentication.AuthenticationRequestBody' using the name '' in request data ...
2022-04-25 11:54:26.731 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2022-04-25 11:54:26.734 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2022-04-25 11:54:26.754 +02:00 [DBG] Connection id "0HMH6K68SLHND", Request id "0HMH6K68SLHND:00000002": started reading request body.
2022-04-25 11:54:26.757 +02:00 [DBG] Connection id "0HMH6K68SLHND", Request id "0HMH6K68SLHND:00000002": done reading request body.
2022-04-25 11:54:26.946 +02:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.Application.Authentication.AuthenticationRequestBody'.
2022-04-25 11:54:26.948 +02:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.Application.Authentication.AuthenticationRequestBody'.
2022-04-25 11:54:26.949 +02:00 [DBG] Attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.Application.Authentication.AuthenticationRequestBody' ...
2022-04-25 11:54:26.955 +02:00 [DBG] Done attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.Application.Authentication.AuthenticationRequestBody'.
2022-04-25 11:54:31.280 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2022-04-25 11:54:31.289 +02:00 [DBG] No information found on request to perform content negotiation.
2022-04-25 11:54:31.290 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-04-25 11:54:31.292 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-04-25 11:54:31.294 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2022-04-25 11:54:31.297 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2022-04-25 11:54:31.314 +02:00 [INF] Executed action CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API) in 4605.9364ms
2022-04-25 11:54:31.317 +02:00 [INF] Executed endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2022-04-25 11:54:31.321 +02:00 [DBG] Connection id "0HMH6K68SLHND" completed keep alive response.
2022-04-25 11:54:31.325 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:5001/api/authentication/authenticate application/json 117 - 200 - text/plain;+charset=utf-8 4785.3564ms
2022-04-25 11:57:13.377 +02:00 [DBG] Connection id "0HMH6K68SLHNB" received FIN.
2022-04-25 11:57:13.378 +02:00 [DBG] Connection id "0HMH6K68SLHNB" is closing.
2022-04-25 11:57:13.401 +02:00 [DBG] Connection id "0HMH6K68SLHNB" sending FIN because: "The client closed the connection."
2022-04-25 11:57:13.418 +02:00 [DBG] Connection id "0HMH6K68SLHNB" is closed. The last processed stream ID was 17.
2022-04-25 11:57:13.423 +02:00 [DBG] Connection id "0HMH6K68SLHNB" stopped.
2022-04-25 12:27:52.376 +02:00 [DBG] Hosting starting
2022-04-25 12:27:53.227 +02:00 [DBG] Using development certificate: CN=localhost (Thumbprint: A40C6697D0C21C2C32B35E9E8F9AD3269C88392E)
2022-04-25 12:27:53.376 +02:00 [INF] Now listening on: https://localhost:5001
2022-04-25 12:27:53.458 +02:00 [INF] Now listening on: http://localhost:5000
2022-04-25 12:27:53.465 +02:00 [DBG] Loaded hosting startup assembly CityInfo.API
2022-04-25 12:27:53.468 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2022-04-25 12:27:53.469 +02:00 [INF] Hosting environment: Development
2022-04-25 12:27:53.470 +02:00 [INF] Content root path: C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API
2022-04-25 12:27:53.471 +02:00 [DBG] Hosting started
2022-04-25 12:27:53.584 +02:00 [DBG] Connection id "0HMH6KP0RO2JT" accepted.
2022-04-25 12:27:53.584 +02:00 [DBG] Connection id "0HMH6KP0RO2JS" received FIN.
2022-04-25 12:27:53.584 +02:00 [DBG] Connection id "0HMH6KP0RO2JT" received FIN.
2022-04-25 12:27:53.584 +02:00 [DBG] Connection id "0HMH6KP0RO2JS" accepted.
2022-04-25 12:27:53.587 +02:00 [DBG] Connection id "0HMH6KP0RO2JT" started.
2022-04-25 12:27:53.590 +02:00 [DBG] Connection id "0HMH6KP0RO2JS" started.
2022-04-25 12:27:53.629 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-04-25 12:27:53.629 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-04-25 12:27:53.834 +02:00 [DBG] Connection id "0HMH6KP0RO2JT" stopped.
2022-04-25 12:27:53.834 +02:00 [DBG] Connection id "0HMH6KP0RO2JS" stopped.
2022-04-25 12:27:53.842 +02:00 [DBG] Connection id "0HMH6KP0RO2JT" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-04-25 12:27:53.844 +02:00 [DBG] Connection id "0HMH6KP0RO2JS" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-04-25 12:27:54.700 +02:00 [DBG] Connection id "0HMH6KP0RO2JU" accepted.
2022-04-25 12:27:54.704 +02:00 [DBG] Connection id "0HMH6KP0RO2JU" started.
2022-04-25 12:27:54.949 +02:00 [DBG] Connection "0HMH6KP0RO2JU" established using the following protocol: "Tls12"
2022-04-25 12:27:55.153 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - -
2022-04-25 12:27:55.221 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-04-25 12:27:55.835 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - - - 200 - text/html;charset=utf-8 715.8270ms
2022-04-25 12:27:56.284 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - -
2022-04-25 12:27:56.568 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 284.3141ms
2022-04-25 12:28:03.596 +02:00 [DBG] Connection id "0HMH6KP0RO2JV" accepted.
2022-04-25 12:28:03.597 +02:00 [DBG] Connection id "0HMH6KP0RO2JV" received FIN.
2022-04-25 12:28:03.597 +02:00 [DBG] Connection id "0HMH6KP0RO2JV" started.
2022-04-25 12:28:03.599 +02:00 [DBG] Connection id "0HMH6KP0RO2K0" accepted.
2022-04-25 12:28:03.603 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-04-25 12:28:03.603 +02:00 [DBG] Connection id "0HMH6KP0RO2K0" started.
2022-04-25 12:28:03.607 +02:00 [DBG] Connection id "0HMH6KP0RO2JV" stopped.
2022-04-25 12:28:03.610 +02:00 [DBG] Connection id "0HMH6KP0RO2JV" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-04-25 12:28:03.622 +02:00 [DBG] Connection "0HMH6KP0RO2K0" established using the following protocol: "Tls12"
2022-04-25 12:28:03.636 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/cities?name=Cape%20Town - -
2022-04-25 12:28:03.642 +02:00 [DBG] The request path  does not match the path filter
2022-04-25 12:28:03.724 +02:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2022-04-25 12:28:03.738 +02:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetAllCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2022-04-25 12:28:03.745 +02:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetAllCities (CityInfo.API)'
2022-04-25 12:28:03.749 +02:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetAllCities (CityInfo.API)'
2022-04-25 12:28:03.766 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-04-25 12:28:03.835 +02:00 [INF] Route matched with {action = "GetAllCities", controller = "Cities"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.Application.Dto.CityDto]] GetAllCities(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2022-04-25 12:28:03.840 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-04-25 12:28:03.842 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-04-25 12:28:03.844 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-04-25 12:28:03.851 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-04-25 12:28:03.854 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-04-25 12:28:03.858 +02:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2022-04-25 12:28:04.118 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2022-04-25 12:28:04.166 +02:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2022-04-25 12:28:04.193 +02:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2022-04-25 12:28:04.199 +02:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name 'name' in request data ...
2022-04-25 12:28:04.204 +02:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2022-04-25 12:28:04.205 +02:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2022-04-25 12:28:04.209 +02:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2022-04-25 12:28:04.214 +02:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2022-04-25 12:28:04.217 +02:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2022-04-25 12:28:04.219 +02:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name '' in request data ...
2022-04-25 12:28:04.221 +02:00 [DBG] Could not find a value in the request with name '' for binding parameter 'searchQuery' of type 'System.String'.
2022-04-25 12:28:04.227 +02:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2022-04-25 12:28:04.230 +02:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2022-04-25 12:28:04.232 +02:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2022-04-25 12:28:04.234 +02:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2022-04-25 12:28:04.235 +02:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2022-04-25 12:28:04.237 +02:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name '' in request data ...
2022-04-25 12:28:04.241 +02:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageNumber' of type 'System.Int32'.
2022-04-25 12:28:04.244 +02:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2022-04-25 12:28:04.246 +02:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2022-04-25 12:28:04.248 +02:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2022-04-25 12:28:04.250 +02:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2022-04-25 12:28:04.252 +02:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2022-04-25 12:28:04.254 +02:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name '' in request data ...
2022-04-25 12:28:04.258 +02:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageSize' of type 'System.Int32'.
2022-04-25 12:28:04.261 +02:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2022-04-25 12:28:04.263 +02:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2022-04-25 12:28:04.265 +02:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2022-04-25 12:28:04.267 +02:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2022-04-25 12:28:05.676 +02:00 [INF] Entity Framework Core 5.0.15 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: None
2022-04-25 12:28:05.756 +02:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Where(c => c.Name == __name_0)
    .Count()'
2022-04-25 12:28:06.020 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<int>(
    asyncEnumerable: new SingleQueryingEnumerable<int>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT COUNT(*)
            FROM Cities AS c
            WHERE c.Name == @__name_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, int>, 
        CityInfo.Infrastructure.DbContexts.CityInfoContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2022-04-25 12:28:06.102 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-04-25 12:28:06.251 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (144ms).
2022-04-25 12:28:06.265 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-04-25 12:28:06.300 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API\CityInfo.db'.
2022-04-25 12:28:06.317 +02:00 [DBG] Executing DbCommand [Parameters=[@__name_0='?' (Size = 9)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
WHERE "c"."Name" = @__name_0
2022-04-25 12:28:06.351 +02:00 [INF] Executed DbCommand (36ms) [Parameters=[@__name_0='?' (Size = 9)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
WHERE "c"."Name" = @__name_0
2022-04-25 12:28:06.365 +02:00 [DBG] A data reader was disposed.
2022-04-25 12:28:06.370 +02:00 [DBG] Closing connection to database 'main' on server 'C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API\CityInfo.db'.
2022-04-25 12:28:06.380 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-04-25 12:28:06.390 +02:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Where(c => c.Name == __name_0)
    .OrderBy(c => c.Name)
    .Skip(__p_1)
    .Take(__p_2)'
2022-04-25 12:28:06.441 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<City>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2], }
        SELECT c.Id, c.Description, c.Name
        FROM Cities AS c
        WHERE c.Name == @__name_0
        ORDER BY c.Name ASC
        OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
    CityInfo.Infrastructure.DbContexts.CityInfoContext, 
    False, 
    False
)'
2022-04-25 12:28:06.457 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-04-25 12:28:06.458 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-04-25 12:28:06.461 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-04-25 12:28:06.468 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API\CityInfo.db'.
2022-04-25 12:28:06.470 +02:00 [DBG] Executing DbCommand [Parameters=[@__name_0='?' (Size = 9), @__p_2='?', @__p_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Name" = @__name_0
ORDER BY "c"."Name"
LIMIT @__p_2 OFFSET @__p_1
2022-04-25 12:28:06.480 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__name_0='?' (Size = 9), @__p_2='?', @__p_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Name" = @__name_0
ORDER BY "c"."Name"
LIMIT @__p_2 OFFSET @__p_1
2022-04-25 12:28:06.509 +02:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-04-25 12:28:06.550 +02:00 [DBG] A data reader was disposed.
2022-04-25 12:28:06.551 +02:00 [DBG] Closing connection to database 'main' on server 'C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API\CityInfo.db'.
2022-04-25 12:28:06.556 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-04-25 12:28:06.590 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2022-04-25 12:28:06.596 +02:00 [DBG] No information found on request to perform content negotiation.
2022-04-25 12:28:06.596 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-04-25 12:28:06.598 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-04-25 12:28:06.600 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-04-25 12:28:06.601 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.Application.Dto.CityDto, CityInfo.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-04-25 12:28:06.798 +02:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetAllCities (CityInfo.API) in 2936.2361ms
2022-04-25 12:28:06.801 +02:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetAllCities (CityInfo.API)'
2022-04-25 12:28:06.802 +02:00 [DBG] Connection id "0HMH6KP0RO2K0" completed keep alive response.
2022-04-25 12:28:06.806 +02:00 [DBG] 'CityInfoContext' disposed.
2022-04-25 12:28:06.811 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/cities?name=Cape%20Town - - - 200 77 application/json;+charset=utf-8 3174.8978ms
2022-04-25 12:28:11.062 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/cities?searchQuery=The - -
2022-04-25 12:28:11.065 +02:00 [DBG] The request path  does not match the path filter
2022-04-25 12:28:11.068 +02:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2022-04-25 12:28:11.070 +02:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetAllCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2022-04-25 12:28:11.073 +02:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetAllCities (CityInfo.API)'
2022-04-25 12:28:11.075 +02:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetAllCities (CityInfo.API)'
2022-04-25 12:28:11.077 +02:00 [INF] Route matched with {action = "GetAllCities", controller = "Cities"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.Application.Dto.CityDto]] GetAllCities(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2022-04-25 12:28:11.100 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-04-25 12:28:11.104 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-04-25 12:28:11.118 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-04-25 12:28:11.125 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-04-25 12:28:11.131 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-04-25 12:28:11.138 +02:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2022-04-25 12:28:11.141 +02:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2022-04-25 12:28:11.146 +02:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2022-04-25 12:28:11.148 +02:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2022-04-25 12:28:11.150 +02:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2022-04-25 12:28:11.152 +02:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2022-04-25 12:28:11.154 +02:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2022-04-25 12:28:11.161 +02:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2022-04-25 12:28:11.163 +02:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2022-04-25 12:28:11.165 +02:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2022-04-25 12:28:11.167 +02:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name 'searchQuery' in request data ...
2022-04-25 12:28:11.169 +02:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2022-04-25 12:28:11.171 +02:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2022-04-25 12:28:11.177 +02:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2022-04-25 12:28:11.180 +02:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2022-04-25 12:28:11.183 +02:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2022-04-25 12:28:11.185 +02:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name '' in request data ...
2022-04-25 12:28:11.187 +02:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageNumber' of type 'System.Int32'.
2022-04-25 12:28:11.192 +02:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2022-04-25 12:28:11.195 +02:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2022-04-25 12:28:11.196 +02:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2022-04-25 12:28:11.198 +02:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2022-04-25 12:28:11.200 +02:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2022-04-25 12:28:11.202 +02:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name '' in request data ...
2022-04-25 12:28:11.206 +02:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageSize' of type 'System.Int32'.
2022-04-25 12:28:11.211 +02:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2022-04-25 12:28:11.213 +02:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2022-04-25 12:28:11.215 +02:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2022-04-25 12:28:11.217 +02:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2022-04-25 12:28:11.259 +02:00 [INF] Entity Framework Core 5.0.15 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: None
2022-04-25 12:28:11.264 +02:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Where(a => a.Name.Contains(__searchQuery_0) || a.Description != null && a.Description.Contains(__searchQuery_0))
    .Count()'
2022-04-25 12:28:11.301 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<int>(
    asyncEnumerable: new SingleQueryingEnumerable<int>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT COUNT(*)
            FROM Cities AS c
            WHERE ((@__searchQuery_0 == '') || (instr(c.Name, @__searchQuery_0) > 0)) || ((c.Description != NULL) && ((@__searchQuery_0 == '') || (instr(c.Description, @__searchQuery_0) > 0)))), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, int>, 
        CityInfo.Infrastructure.DbContexts.CityInfoContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2022-04-25 12:28:11.318 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-04-25 12:28:11.320 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2022-04-25 12:28:11.323 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-04-25 12:28:11.327 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API\CityInfo.db'.
2022-04-25 12:28:11.333 +02:00 [DBG] Executing DbCommand [Parameters=[@__searchQuery_0='?' (Size = 3)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
WHERE ((@__searchQuery_0 = '') OR (instr("c"."Name", @__searchQuery_0) > 0)) OR ("c"."Description" IS NOT NULL AND ((@__searchQuery_0 = '') OR (instr("c"."Description", @__searchQuery_0) > 0)))
2022-04-25 12:28:11.340 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__searchQuery_0='?' (Size = 3)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
WHERE ((@__searchQuery_0 = '') OR (instr("c"."Name", @__searchQuery_0) > 0)) OR ("c"."Description" IS NOT NULL AND ((@__searchQuery_0 = '') OR (instr("c"."Description", @__searchQuery_0) > 0)))
2022-04-25 12:28:11.348 +02:00 [DBG] A data reader was disposed.
2022-04-25 12:28:11.349 +02:00 [DBG] Closing connection to database 'main' on server 'C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API\CityInfo.db'.
2022-04-25 12:28:11.354 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-04-25 12:28:11.356 +02:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Where(a => a.Name.Contains(__searchQuery_0) || a.Description != null && a.Description.Contains(__searchQuery_0))
    .OrderBy(c => c.Name)
    .Skip(__p_1)
    .Take(__p_2)'
2022-04-25 12:28:11.368 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<City>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2], }
        SELECT c.Id, c.Description, c.Name
        FROM Cities AS c
        WHERE ((@__searchQuery_0 == '') || (instr(c.Name, @__searchQuery_0) > 0)) || ((c.Description != NULL) && ((@__searchQuery_0 == '') || (instr(c.Description, @__searchQuery_0) > 0)))
        ORDER BY c.Name ASC
        OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
    CityInfo.Infrastructure.DbContexts.CityInfoContext, 
    False, 
    False
)'
2022-04-25 12:28:11.375 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-04-25 12:28:11.376 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-04-25 12:28:11.378 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-04-25 12:28:11.380 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API\CityInfo.db'.
2022-04-25 12:28:11.382 +02:00 [DBG] Executing DbCommand [Parameters=[@__searchQuery_0='?' (Size = 3), @__p_2='?', @__p_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE ((@__searchQuery_0 = '') OR (instr("c"."Name", @__searchQuery_0) > 0)) OR ("c"."Description" IS NOT NULL AND ((@__searchQuery_0 = '') OR (instr("c"."Description", @__searchQuery_0) > 0)))
ORDER BY "c"."Name"
LIMIT @__p_2 OFFSET @__p_1
2022-04-25 12:28:11.389 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__searchQuery_0='?' (Size = 3), @__p_2='?', @__p_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE ((@__searchQuery_0 = '') OR (instr("c"."Name", @__searchQuery_0) > 0)) OR ("c"."Description" IS NOT NULL AND ((@__searchQuery_0 = '') OR (instr("c"."Description", @__searchQuery_0) > 0)))
ORDER BY "c"."Name"
LIMIT @__p_2 OFFSET @__p_1
2022-04-25 12:28:11.396 +02:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-04-25 12:28:11.398 +02:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-04-25 12:28:11.400 +02:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-04-25 12:28:11.402 +02:00 [DBG] A data reader was disposed.
2022-04-25 12:28:11.403 +02:00 [DBG] Closing connection to database 'main' on server 'C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API\CityInfo.db'.
2022-04-25 12:28:11.410 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-04-25 12:28:11.413 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2022-04-25 12:28:11.417 +02:00 [DBG] No information found on request to perform content negotiation.
2022-04-25 12:28:11.418 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-04-25 12:28:11.422 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-04-25 12:28:11.425 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-04-25 12:28:11.427 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.Application.Dto.CityDto, CityInfo.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-04-25 12:28:11.430 +02:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetAllCities (CityInfo.API) in 291.8526ms
2022-04-25 12:28:11.431 +02:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetAllCities (CityInfo.API)'
2022-04-25 12:28:11.434 +02:00 [DBG] Connection id "0HMH6KP0RO2K0" completed keep alive response.
2022-04-25 12:28:11.436 +02:00 [DBG] 'CityInfoContext' disposed.
2022-04-25 12:28:11.441 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/cities?searchQuery=The - - - 200 221 application/json;+charset=utf-8 377.9729ms
2022-04-25 12:28:17.235 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/cities?name=Cape%20Town&searchQuery=the - -
2022-04-25 12:28:17.237 +02:00 [DBG] The request path  does not match the path filter
2022-04-25 12:28:17.239 +02:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2022-04-25 12:28:17.241 +02:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetAllCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2022-04-25 12:28:17.243 +02:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetAllCities (CityInfo.API)'
2022-04-25 12:28:17.245 +02:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetAllCities (CityInfo.API)'
2022-04-25 12:28:17.248 +02:00 [INF] Route matched with {action = "GetAllCities", controller = "Cities"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.Application.Dto.CityDto]] GetAllCities(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2022-04-25 12:28:17.252 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-04-25 12:28:17.254 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-04-25 12:28:17.255 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-04-25 12:28:17.258 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-04-25 12:28:17.260 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-04-25 12:28:17.265 +02:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2022-04-25 12:28:17.269 +02:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2022-04-25 12:28:17.271 +02:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2022-04-25 12:28:17.273 +02:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name 'name' in request data ...
2022-04-25 12:28:17.274 +02:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2022-04-25 12:28:17.276 +02:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2022-04-25 12:28:17.277 +02:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2022-04-25 12:28:17.280 +02:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2022-04-25 12:28:17.282 +02:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2022-04-25 12:28:17.284 +02:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name 'searchQuery' in request data ...
2022-04-25 12:28:17.286 +02:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2022-04-25 12:28:17.288 +02:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2022-04-25 12:28:17.289 +02:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2022-04-25 12:28:17.291 +02:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2022-04-25 12:28:17.292 +02:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2022-04-25 12:28:17.298 +02:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name '' in request data ...
2022-04-25 12:28:17.302 +02:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageNumber' of type 'System.Int32'.
2022-04-25 12:28:17.305 +02:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2022-04-25 12:28:17.307 +02:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2022-04-25 12:28:17.309 +02:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2022-04-25 12:28:17.321 +02:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2022-04-25 12:28:17.323 +02:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2022-04-25 12:28:17.327 +02:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name '' in request data ...
2022-04-25 12:28:17.331 +02:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageSize' of type 'System.Int32'.
2022-04-25 12:28:17.334 +02:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2022-04-25 12:28:17.335 +02:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2022-04-25 12:28:17.338 +02:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2022-04-25 12:28:17.342 +02:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2022-04-25 12:28:17.355 +02:00 [INF] Entity Framework Core 5.0.15 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: None
2022-04-25 12:28:17.364 +02:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Where(c => c.Name == __name_0)
    .Where(a => a.Name.Contains(__searchQuery_1) || a.Description != null && a.Description.Contains(__searchQuery_1))
    .Count()'
2022-04-25 12:28:17.370 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<int>(
    asyncEnumerable: new SingleQueryingEnumerable<int>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT COUNT(*)
            FROM Cities AS c
            WHERE (c.Name == @__name_0) && (((@__searchQuery_1 == '') || (instr(c.Name, @__searchQuery_1) > 0)) || ((c.Description != NULL) && ((@__searchQuery_1 == '') || (instr(c.Description, @__searchQuery_1) > 0))))), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, int>, 
        CityInfo.Infrastructure.DbContexts.CityInfoContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2022-04-25 12:28:17.379 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-04-25 12:28:17.380 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-04-25 12:28:17.382 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-04-25 12:28:17.386 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API\CityInfo.db'.
2022-04-25 12:28:17.392 +02:00 [DBG] Executing DbCommand [Parameters=[@__name_0='?' (Size = 9), @__searchQuery_1='?' (Size = 3)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
WHERE ("c"."Name" = @__name_0) AND (((@__searchQuery_1 = '') OR (instr("c"."Name", @__searchQuery_1) > 0)) OR ("c"."Description" IS NOT NULL AND ((@__searchQuery_1 = '') OR (instr("c"."Description", @__searchQuery_1) > 0))))
2022-04-25 12:28:17.399 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__name_0='?' (Size = 9), @__searchQuery_1='?' (Size = 3)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
WHERE ("c"."Name" = @__name_0) AND (((@__searchQuery_1 = '') OR (instr("c"."Name", @__searchQuery_1) > 0)) OR ("c"."Description" IS NOT NULL AND ((@__searchQuery_1 = '') OR (instr("c"."Description", @__searchQuery_1) > 0))))
2022-04-25 12:28:17.407 +02:00 [DBG] A data reader was disposed.
2022-04-25 12:28:17.410 +02:00 [DBG] Closing connection to database 'main' on server 'C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API\CityInfo.db'.
2022-04-25 12:28:17.415 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-04-25 12:28:17.419 +02:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Where(c => c.Name == __name_0)
    .Where(a => a.Name.Contains(__searchQuery_1) || a.Description != null && a.Description.Contains(__searchQuery_1))
    .OrderBy(c => c.Name)
    .Skip(__p_2)
    .Take(__p_3)'
2022-04-25 12:28:17.430 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<City>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2], }
        SELECT c.Id, c.Description, c.Name
        FROM Cities AS c
        WHERE (c.Name == @__name_0) && (((@__searchQuery_1 == '') || (instr(c.Name, @__searchQuery_1) > 0)) || ((c.Description != NULL) && ((@__searchQuery_1 == '') || (instr(c.Description, @__searchQuery_1) > 0))))
        ORDER BY c.Name ASC
        OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
    CityInfo.Infrastructure.DbContexts.CityInfoContext, 
    False, 
    False
)'
2022-04-25 12:28:17.442 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-04-25 12:28:17.444 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2022-04-25 12:28:17.447 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-04-25 12:28:17.452 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API\CityInfo.db'.
2022-04-25 12:28:17.455 +02:00 [DBG] Executing DbCommand [Parameters=[@__name_0='?' (Size = 9), @__searchQuery_1='?' (Size = 3), @__p_3='?', @__p_2='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE ("c"."Name" = @__name_0) AND (((@__searchQuery_1 = '') OR (instr("c"."Name", @__searchQuery_1) > 0)) OR ("c"."Description" IS NOT NULL AND ((@__searchQuery_1 = '') OR (instr("c"."Description", @__searchQuery_1) > 0))))
ORDER BY "c"."Name"
LIMIT @__p_3 OFFSET @__p_2
2022-04-25 12:28:17.465 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__name_0='?' (Size = 9), @__searchQuery_1='?' (Size = 3), @__p_3='?', @__p_2='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE ("c"."Name" = @__name_0) AND (((@__searchQuery_1 = '') OR (instr("c"."Name", @__searchQuery_1) > 0)) OR ("c"."Description" IS NOT NULL AND ((@__searchQuery_1 = '') OR (instr("c"."Description", @__searchQuery_1) > 0))))
ORDER BY "c"."Name"
LIMIT @__p_3 OFFSET @__p_2
2022-04-25 12:28:17.473 +02:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-04-25 12:28:17.476 +02:00 [DBG] A data reader was disposed.
2022-04-25 12:28:17.477 +02:00 [DBG] Closing connection to database 'main' on server 'C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API\CityInfo.db'.
2022-04-25 12:28:17.482 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-04-25 12:28:17.485 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2022-04-25 12:28:17.491 +02:00 [DBG] No information found on request to perform content negotiation.
2022-04-25 12:28:17.492 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-04-25 12:28:17.494 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-04-25 12:28:17.495 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-04-25 12:28:17.496 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.Application.Dto.CityDto, CityInfo.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-04-25 12:28:17.502 +02:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetAllCities (CityInfo.API) in 236.7253ms
2022-04-25 12:28:17.504 +02:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetAllCities (CityInfo.API)'
2022-04-25 12:28:17.506 +02:00 [DBG] Connection id "0HMH6KP0RO2K0" completed keep alive response.
2022-04-25 12:28:17.507 +02:00 [DBG] 'CityInfoContext' disposed.
2022-04-25 12:28:17.509 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/cities?name=Cape%20Town&searchQuery=the - - - 200 77 application/json;+charset=utf-8 273.3878ms
2022-04-25 12:28:22.796 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/cities?pageSize=1&pageNumber=2 - -
2022-04-25 12:28:22.799 +02:00 [DBG] The request path  does not match the path filter
2022-04-25 12:28:22.801 +02:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2022-04-25 12:28:22.804 +02:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetAllCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2022-04-25 12:28:22.807 +02:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetAllCities (CityInfo.API)'
2022-04-25 12:28:22.810 +02:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetAllCities (CityInfo.API)'
2022-04-25 12:28:22.812 +02:00 [INF] Route matched with {action = "GetAllCities", controller = "Cities"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.Application.Dto.CityDto]] GetAllCities(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2022-04-25 12:28:22.849 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-04-25 12:28:22.855 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-04-25 12:28:22.859 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-04-25 12:28:22.863 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-04-25 12:28:22.865 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-04-25 12:28:22.886 +02:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2022-04-25 12:28:22.889 +02:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2022-04-25 12:28:22.892 +02:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2022-04-25 12:28:22.896 +02:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2022-04-25 12:28:22.898 +02:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2022-04-25 12:28:22.908 +02:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2022-04-25 12:28:22.911 +02:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2022-04-25 12:28:22.921 +02:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2022-04-25 12:28:22.923 +02:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2022-04-25 12:28:22.925 +02:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2022-04-25 12:28:22.926 +02:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name '' in request data ...
2022-04-25 12:28:22.929 +02:00 [DBG] Could not find a value in the request with name '' for binding parameter 'searchQuery' of type 'System.String'.
2022-04-25 12:28:22.935 +02:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2022-04-25 12:28:22.937 +02:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2022-04-25 12:28:22.939 +02:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2022-04-25 12:28:22.941 +02:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2022-04-25 12:28:22.942 +02:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2022-04-25 12:28:22.946 +02:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name 'pageNumber' in request data ...
2022-04-25 12:28:22.950 +02:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2022-04-25 12:28:22.951 +02:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2022-04-25 12:28:22.953 +02:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2022-04-25 12:28:22.954 +02:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2022-04-25 12:28:22.956 +02:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2022-04-25 12:28:22.957 +02:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2022-04-25 12:28:22.961 +02:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2022-04-25 12:28:22.963 +02:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2022-04-25 12:28:22.965 +02:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2022-04-25 12:28:22.966 +02:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2022-04-25 12:28:22.969 +02:00 [INF] Entity Framework Core 5.0.15 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: None
2022-04-25 12:28:22.971 +02:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Count()'
2022-04-25 12:28:22.975 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<int>(
    asyncEnumerable: new SingleQueryingEnumerable<int>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT COUNT(*)
            FROM Cities AS c), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, int>, 
        CityInfo.Infrastructure.DbContexts.CityInfoContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2022-04-25 12:28:22.981 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-04-25 12:28:22.982 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-04-25 12:28:22.983 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-04-25 12:28:22.986 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API\CityInfo.db'.
2022-04-25 12:28:22.988 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2022-04-25 12:28:22.997 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2022-04-25 12:28:23.000 +02:00 [DBG] A data reader was disposed.
2022-04-25 12:28:23.001 +02:00 [DBG] Closing connection to database 'main' on server 'C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API\CityInfo.db'.
2022-04-25 12:28:23.005 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-04-25 12:28:23.006 +02:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .OrderBy(c => c.Name)
    .Skip(__p_0)
    .Take(__p_0)'
2022-04-25 12:28:23.015 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<City>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2], }
        SELECT c.Id, c.Description, c.Name
        FROM Cities AS c
        ORDER BY c.Name ASC
        OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
    CityInfo.Infrastructure.DbContexts.CityInfoContext, 
    False, 
    False
)'
2022-04-25 12:28:23.019 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-04-25 12:28:23.020 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-04-25 12:28:23.021 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-04-25 12:28:23.026 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API\CityInfo.db'.
2022-04-25 12:28:23.030 +02:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
LIMIT @__p_0 OFFSET @__p_0
2022-04-25 12:28:23.036 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
LIMIT @__p_0 OFFSET @__p_0
2022-04-25 12:28:23.039 +02:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-04-25 12:28:23.045 +02:00 [DBG] A data reader was disposed.
2022-04-25 12:28:23.046 +02:00 [DBG] Closing connection to database 'main' on server 'C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API\CityInfo.db'.
2022-04-25 12:28:23.049 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-04-25 12:28:23.051 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2022-04-25 12:28:23.059 +02:00 [DBG] No information found on request to perform content negotiation.
2022-04-25 12:28:23.061 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-04-25 12:28:23.062 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-04-25 12:28:23.064 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-04-25 12:28:23.066 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.Application.Dto.CityDto, CityInfo.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-04-25 12:28:23.069 +02:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetAllCities (CityInfo.API) in 183.0979ms
2022-04-25 12:28:23.074 +02:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetAllCities (CityInfo.API)'
2022-04-25 12:28:23.076 +02:00 [DBG] Connection id "0HMH6KP0RO2K0" completed keep alive response.
2022-04-25 12:28:23.078 +02:00 [DBG] 'CityInfoContext' disposed.
2022-04-25 12:28:23.080 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/cities?pageSize=1&pageNumber=2 - - - 200 76 application/json;+charset=utf-8 283.4788ms
2022-04-25 12:28:29.072 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:5001/api/authentication/authenticate application/json 117
2022-04-25 12:28:29.074 +02:00 [DBG] POST requests are not supported
2022-04-25 12:28:29.076 +02:00 [DBG] 1 candidate(s) found for the request path '/api/authentication/authenticate'
2022-04-25 12:28:29.077 +02:00 [DBG] Endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)' with route pattern 'api/authentication/authenticate' is valid for the request path '/api/authentication/authenticate'
2022-04-25 12:28:29.079 +02:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2022-04-25 12:28:29.080 +02:00 [INF] Executing endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2022-04-25 12:28:29.083 +02:00 [INF] Route matched with {action = "Authenticate", controller = "Authentication"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.String] Authenticate(CityInfo.Application.Authentication.AuthenticationRequestBody) on controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API).
2022-04-25 12:28:29.086 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-04-25 12:28:29.087 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-04-25 12:28:29.089 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-04-25 12:28:29.095 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-04-25 12:28:29.097 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-04-25 12:28:29.100 +02:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API)
2022-04-25 12:28:29.102 +02:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API)
2022-04-25 12:28:29.104 +02:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.Application.Authentication.AuthenticationRequestBody' ...
2022-04-25 12:28:29.110 +02:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.Application.Authentication.AuthenticationRequestBody' using the name '' in request data ...
2022-04-25 12:28:29.113 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2022-04-25 12:28:29.115 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2022-04-25 12:28:29.124 +02:00 [DBG] Connection id "0HMH6KP0RO2K0", Request id "0HMH6KP0RO2K0:00000006": started reading request body.
2022-04-25 12:28:29.127 +02:00 [DBG] Connection id "0HMH6KP0RO2K0", Request id "0HMH6KP0RO2K0:00000006": done reading request body.
2022-04-25 12:28:29.190 +02:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.Application.Authentication.AuthenticationRequestBody'.
2022-04-25 12:28:29.193 +02:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.Application.Authentication.AuthenticationRequestBody'.
2022-04-25 12:28:29.195 +02:00 [DBG] Attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.Application.Authentication.AuthenticationRequestBody' ...
2022-04-25 12:28:29.200 +02:00 [DBG] Done attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.Application.Authentication.AuthenticationRequestBody'.
2022-04-25 12:28:29.423 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2022-04-25 12:28:29.427 +02:00 [DBG] No information found on request to perform content negotiation.
2022-04-25 12:28:29.428 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-04-25 12:28:29.429 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-04-25 12:28:29.430 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2022-04-25 12:28:29.432 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2022-04-25 12:28:29.434 +02:00 [INF] Executed action CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API) in 334.1896ms
2022-04-25 12:28:29.438 +02:00 [INF] Executed endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2022-04-25 12:28:29.441 +02:00 [DBG] Connection id "0HMH6KP0RO2K0" completed keep alive response.
2022-04-25 12:28:29.443 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:5001/api/authentication/authenticate application/json 117 - 200 - text/plain;+charset=utf-8 370.8869ms
2022-04-25 12:43:17.959 +02:00 [DBG] Hosting starting
2022-04-25 12:43:18.131 +02:00 [INF] User profile is available. Using 'C:\Users\CodeTenor\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-04-25 12:43:18.171 +02:00 [DBG] Reading data from file 'C:\Users\CodeTenor\AppData\Local\ASP.NET\DataProtection-Keys\key-a15861aa-43cb-46cc-8ca6-b53f5f7374a8.xml'.
2022-04-25 12:43:18.291 +02:00 [DBG] Found key {a15861aa-43cb-46cc-8ca6-b53f5f7374a8}.
2022-04-25 12:43:18.321 +02:00 [DBG] Considering key {a15861aa-43cb-46cc-8ca6-b53f5f7374a8} with expiration date 2022-05-16 06:35:06Z as default key.
2022-04-25 12:43:18.335 +02:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-04-25 12:43:18.344 +02:00 [DBG] Decrypting secret element using Windows DPAPI.
2022-04-25 12:43:18.361 +02:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-04-25 12:43:18.373 +02:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2022-04-25 12:43:18.380 +02:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2022-04-25 12:43:18.387 +02:00 [DBG] Using key {a15861aa-43cb-46cc-8ca6-b53f5f7374a8} as the default key.
2022-04-25 12:43:18.389 +02:00 [DBG] Key ring with default key {a15861aa-43cb-46cc-8ca6-b53f5f7374a8} was loaded during application startup.
2022-04-25 12:43:19.008 +02:00 [DBG] Using development certificate: CN=localhost (Thumbprint: A40C6697D0C21C2C32B35E9E8F9AD3269C88392E)
2022-04-25 12:43:19.086 +02:00 [INF] Now listening on: https://localhost:5001
2022-04-25 12:43:19.093 +02:00 [INF] Now listening on: http://localhost:5000
2022-04-25 12:43:19.095 +02:00 [DBG] Loaded hosting startup assembly CityInfo.API
2022-04-25 12:43:19.097 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2022-04-25 12:43:19.098 +02:00 [INF] Hosting environment: Development
2022-04-25 12:43:19.099 +02:00 [INF] Content root path: C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API
2022-04-25 12:43:19.100 +02:00 [DBG] Hosting started
2022-04-25 12:43:19.258 +02:00 [DBG] Connection id "0HMH6L1KNS38B" received FIN.
2022-04-25 12:43:19.281 +02:00 [DBG] Connection id "0HMH6L1KNS38B" accepted.
2022-04-25 12:43:19.287 +02:00 [DBG] Connection id "0HMH6L1KNS38B" started.
2022-04-25 12:43:19.347 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-04-25 12:43:19.525 +02:00 [DBG] Connection id "0HMH6L1KNS38B" stopped.
2022-04-25 12:43:19.594 +02:00 [DBG] Connection id "0HMH6L1KNS38B" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-04-25 12:43:20.312 +02:00 [DBG] Connection id "0HMH6L1KNS38C" accepted.
2022-04-25 12:43:20.323 +02:00 [DBG] Connection id "0HMH6L1KNS38C" received FIN.
2022-04-25 12:43:20.334 +02:00 [DBG] Connection id "0HMH6L1KNS38C" started.
2022-04-25 12:43:20.335 +02:00 [DBG] Connection id "0HMH6L1KNS38D" accepted.
2022-04-25 12:43:20.344 +02:00 [DBG] Connection id "0HMH6L1KNS38D" started.
2022-04-25 12:43:20.420 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-04-25 12:43:20.433 +02:00 [DBG] Connection id "0HMH6L1KNS38C" stopped.
2022-04-25 12:43:20.445 +02:00 [DBG] Connection id "0HMH6L1KNS38C" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-04-25 12:43:20.480 +02:00 [DBG] Connection "0HMH6L1KNS38D" established using the following protocol: "Tls12"
2022-04-25 12:43:20.585 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - -
2022-04-25 12:43:20.591 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-04-25 12:43:20.884 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - - - 200 - text/html;charset=utf-8 297.9277ms
2022-04-25 12:43:21.105 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/swagger-ui.css - -
2022-04-25 12:43:21.257 +02:00 [DBG] The file transmission was cancelled
System.OperationCanceledException: The operation was canceled.
   at System.Threading.CancellationToken.ThrowOperationCanceledException()
   at System.Threading.CancellationToken.ThrowIfCancellationRequested()
   at Microsoft.AspNetCore.Http.SendFileResponseExtensions.SendFileAsyncCore(HttpResponse response, IFileInfo file, Int64 offset, Nullable`1 count, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.StaticFiles.StaticFileContext.SendAsync()
2022-04-25 12:43:21.272 +02:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2022-04-25 12:43:21.274 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/swagger-ui.css - - - 0 142933 text/css 169.0206ms
2022-04-25 12:43:21.326 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/favicon-16x16.png - -
2022-04-25 12:43:21.332 +02:00 [DBG] The file transmission was cancelled
System.OperationCanceledException: The operation was canceled.
   at System.Threading.CancellationToken.ThrowOperationCanceledException()
   at System.Threading.CancellationToken.ThrowIfCancellationRequested()
   at Microsoft.AspNetCore.Http.SendFileResponseExtensions.SendFileAsyncCore(HttpResponse response, IFileInfo file, Int64 offset, Nullable`1 count, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.StaticFiles.StaticFileContext.SendAsync()
2022-04-25 12:43:21.345 +02:00 [INF] Sending file. Request path: '/favicon-16x16.png'. Physical path: 'N/A'
2022-04-25 12:43:21.347 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/favicon-16x16.png - - - 0 665 image/png 20.6988ms
2022-04-25 12:43:21.393 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - -
2022-04-25 12:43:21.682 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 289.1040ms
2022-04-25 12:43:36.929 +02:00 [DBG] Connection id "0HMH6L1KNS38E" received FIN.
2022-04-25 12:43:36.932 +02:00 [DBG] Connection id "0HMH6L1KNS38E" accepted.
2022-04-25 12:43:36.935 +02:00 [DBG] Connection id "0HMH6L1KNS38E" started.
2022-04-25 12:43:36.939 +02:00 [DBG] Connection id "0HMH6L1KNS38F" accepted.
2022-04-25 12:43:36.942 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-04-25 12:43:36.944 +02:00 [DBG] Connection id "0HMH6L1KNS38F" started.
2022-04-25 12:43:36.957 +02:00 [DBG] Connection id "0HMH6L1KNS38E" stopped.
2022-04-25 12:43:36.963 +02:00 [DBG] Connection id "0HMH6L1KNS38E" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-04-25 12:43:36.982 +02:00 [DBG] Connection "0HMH6L1KNS38F" established using the following protocol: "Tls12"
2022-04-25 12:43:37.004 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:5001/api/authentication/authenticate application/json 117
2022-04-25 12:43:37.008 +02:00 [DBG] POST requests are not supported
2022-04-25 12:43:37.074 +02:00 [DBG] 1 candidate(s) found for the request path '/api/authentication/authenticate'
2022-04-25 12:43:37.091 +02:00 [DBG] Endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)' with route pattern 'api/authentication/authenticate' is valid for the request path '/api/authentication/authenticate'
2022-04-25 12:43:37.096 +02:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2022-04-25 12:43:37.386 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-04-25 12:43:37.391 +02:00 [INF] Executing endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2022-04-25 12:43:37.405 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-04-25 12:43:37.469 +02:00 [INF] Route matched with {action = "Authenticate", controller = "Authentication"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.String] Authenticate(CityInfo.Application.Authentication.AuthenticationRequestBody) on controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API).
2022-04-25 12:43:37.474 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-04-25 12:43:37.477 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-04-25 12:43:37.479 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-04-25 12:43:37.485 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-04-25 12:43:37.487 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-04-25 12:43:37.491 +02:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API)
2022-04-25 12:43:37.493 +02:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API)
2022-04-25 12:43:37.524 +02:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.Application.Authentication.AuthenticationRequestBody' ...
2022-04-25 12:43:37.530 +02:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.Application.Authentication.AuthenticationRequestBody' using the name '' in request data ...
2022-04-25 12:43:37.533 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2022-04-25 12:43:37.534 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2022-04-25 12:43:37.558 +02:00 [DBG] Connection id "0HMH6L1KNS38F", Request id "0HMH6L1KNS38F:00000002": started reading request body.
2022-04-25 12:43:37.560 +02:00 [DBG] Connection id "0HMH6L1KNS38F", Request id "0HMH6L1KNS38F:00000002": done reading request body.
2022-04-25 12:43:37.755 +02:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.Application.Authentication.AuthenticationRequestBody'.
2022-04-25 12:43:37.758 +02:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.Application.Authentication.AuthenticationRequestBody'.
2022-04-25 12:43:37.760 +02:00 [DBG] Attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.Application.Authentication.AuthenticationRequestBody' ...
2022-04-25 12:43:37.767 +02:00 [DBG] Done attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.Application.Authentication.AuthenticationRequestBody'.
2022-04-25 12:43:37.937 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2022-04-25 12:43:37.946 +02:00 [DBG] No information found on request to perform content negotiation.
2022-04-25 12:43:37.948 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-04-25 12:43:37.954 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-04-25 12:43:37.956 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2022-04-25 12:43:37.958 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2022-04-25 12:43:37.971 +02:00 [INF] Executed action CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API) in 472.5856ms
2022-04-25 12:43:37.975 +02:00 [INF] Executed endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2022-04-25 12:43:37.977 +02:00 [DBG] Connection id "0HMH6L1KNS38F" completed keep alive response.
2022-04-25 12:43:37.980 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:5001/api/authentication/authenticate application/json 117 - 200 - text/plain;+charset=utf-8 975.8914ms
2022-04-25 12:43:45.440 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/cities - -
2022-04-25 12:43:45.442 +02:00 [DBG] The request path  does not match the path filter
2022-04-25 12:43:45.446 +02:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2022-04-25 12:43:45.447 +02:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetAllCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2022-04-25 12:43:45.450 +02:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetAllCities (CityInfo.API)'
2022-04-25 12:43:45.453 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-04-25 12:43:45.463 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2022-04-25 12:43:45.473 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2022-04-25 12:43:45.479 +02:00 [DBG] Connection id "0HMH6L1KNS38F" completed keep alive response.
2022-04-25 12:43:45.482 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/cities - - - 401 0 - 41.3111ms
2022-04-25 12:44:22.307 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/cities - -
2022-04-25 12:44:22.309 +02:00 [DBG] The request path  does not match the path filter
2022-04-25 12:44:22.311 +02:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2022-04-25 12:44:22.316 +02:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetAllCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2022-04-25 12:44:22.327 +02:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetAllCities (CityInfo.API)'
2022-04-25 12:44:22.504 +02:00 [INF] Successfully validated the token.
2022-04-25 12:44:22.507 +02:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-04-25 12:44:22.517 +02:00 [INF] Authorization was successful.
2022-04-25 12:44:22.520 +02:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetAllCities (CityInfo.API)'
2022-04-25 12:44:22.527 +02:00 [INF] Route matched with {action = "GetAllCities", controller = "Cities"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.Application.Dto.CityDto]] GetAllCities(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2022-04-25 12:44:22.530 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-04-25 12:44:22.532 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-04-25 12:44:22.537 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-04-25 12:44:22.541 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-04-25 12:44:22.544 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-04-25 12:44:22.546 +02:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2022-04-25 12:44:22.927 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2022-04-25 12:44:22.981 +02:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2022-04-25 12:44:22.986 +02:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2022-04-25 12:44:22.997 +02:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2022-04-25 12:44:23.002 +02:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2022-04-25 12:44:23.005 +02:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2022-04-25 12:44:23.026 +02:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2022-04-25 12:44:23.028 +02:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2022-04-25 12:44:23.031 +02:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2022-04-25 12:44:23.033 +02:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2022-04-25 12:44:23.039 +02:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name '' in request data ...
2022-04-25 12:44:23.043 +02:00 [DBG] Could not find a value in the request with name '' for binding parameter 'searchQuery' of type 'System.String'.
2022-04-25 12:44:23.047 +02:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2022-04-25 12:44:23.049 +02:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2022-04-25 12:44:23.051 +02:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2022-04-25 12:44:23.056 +02:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2022-04-25 12:44:23.059 +02:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2022-04-25 12:44:23.061 +02:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name '' in request data ...
2022-04-25 12:44:23.066 +02:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageNumber' of type 'System.Int32'.
2022-04-25 12:44:23.072 +02:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2022-04-25 12:44:23.075 +02:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2022-04-25 12:44:23.077 +02:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2022-04-25 12:44:23.080 +02:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2022-04-25 12:44:23.082 +02:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2022-04-25 12:44:23.087 +02:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name '' in request data ...
2022-04-25 12:44:23.091 +02:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageSize' of type 'System.Int32'.
2022-04-25 12:44:23.093 +02:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2022-04-25 12:44:23.095 +02:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2022-04-25 12:44:23.097 +02:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2022-04-25 12:44:23.101 +02:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2022-04-25 12:44:24.917 +02:00 [INF] Entity Framework Core 5.0.15 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: None
2022-04-25 12:44:24.977 +02:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Count()'
2022-04-25 12:44:25.305 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<int>(
    asyncEnumerable: new SingleQueryingEnumerable<int>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT COUNT(*)
            FROM Cities AS c), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, int>, 
        CityInfo.Infrastructure.DbContexts.CityInfoContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2022-04-25 12:44:25.427 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-04-25 12:44:25.982 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (586ms).
2022-04-25 12:44:25.996 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-04-25 12:44:26.030 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API\CityInfo.db'.
2022-04-25 12:44:26.051 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2022-04-25 12:44:26.100 +02:00 [INF] Executed DbCommand (42ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2022-04-25 12:44:26.128 +02:00 [DBG] A data reader was disposed.
2022-04-25 12:44:26.135 +02:00 [DBG] Closing connection to database 'main' on server 'C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API\CityInfo.db'.
2022-04-25 12:44:26.154 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-04-25 12:44:26.190 +02:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .OrderBy(c => c.Name)
    .Skip(__p_0)
    .Take(__p_1)'
2022-04-25 12:44:26.290 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<City>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2], }
        SELECT c.Id, c.Description, c.Name
        FROM Cities AS c
        ORDER BY c.Name ASC
        OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
    CityInfo.Infrastructure.DbContexts.CityInfoContext, 
    False, 
    False
)'
2022-04-25 12:44:26.304 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-04-25 12:44:26.305 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-04-25 12:44:26.309 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-04-25 12:44:26.311 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API\CityInfo.db'.
2022-04-25 12:44:26.315 +02:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?', @__p_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
LIMIT @__p_1 OFFSET @__p_0
2022-04-25 12:44:26.327 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__p_1='?', @__p_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
LIMIT @__p_1 OFFSET @__p_0
2022-04-25 12:44:26.344 +02:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-04-25 12:44:26.380 +02:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-04-25 12:44:26.382 +02:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-04-25 12:44:26.384 +02:00 [DBG] A data reader was disposed.
2022-04-25 12:44:26.385 +02:00 [DBG] Closing connection to database 'main' on server 'C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API\CityInfo.db'.
2022-04-25 12:44:26.388 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-04-25 12:44:26.421 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2022-04-25 12:44:26.425 +02:00 [DBG] No information found on request to perform content negotiation.
2022-04-25 12:44:26.426 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-04-25 12:44:26.427 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-04-25 12:44:26.429 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-04-25 12:44:26.430 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.Application.Dto.CityDto, CityInfo.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-04-25 12:44:26.490 +02:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetAllCities (CityInfo.API) in 3943.7923ms
2022-04-25 12:44:26.493 +02:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetAllCities (CityInfo.API)'
2022-04-25 12:44:26.495 +02:00 [DBG] Connection id "0HMH6L1KNS38F" completed keep alive response.
2022-04-25 12:44:26.499 +02:00 [DBG] 'CityInfoContext' disposed.
2022-04-25 12:44:26.504 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/cities - - - 200 221 application/json;+charset=utf-8 4196.9924ms
2022-04-25 12:58:20.635 +02:00 [DBG] Hosting starting
2022-04-25 12:58:20.844 +02:00 [INF] User profile is available. Using 'C:\Users\CodeTenor\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-04-25 12:58:20.888 +02:00 [DBG] Reading data from file 'C:\Users\CodeTenor\AppData\Local\ASP.NET\DataProtection-Keys\key-a15861aa-43cb-46cc-8ca6-b53f5f7374a8.xml'.
2022-04-25 12:58:20.940 +02:00 [DBG] Found key {a15861aa-43cb-46cc-8ca6-b53f5f7374a8}.
2022-04-25 12:58:20.963 +02:00 [DBG] Considering key {a15861aa-43cb-46cc-8ca6-b53f5f7374a8} with expiration date 2022-05-16 06:35:06Z as default key.
2022-04-25 12:58:20.976 +02:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-04-25 12:58:20.982 +02:00 [DBG] Decrypting secret element using Windows DPAPI.
2022-04-25 12:58:20.985 +02:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-04-25 12:58:20.993 +02:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2022-04-25 12:58:20.998 +02:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2022-04-25 12:58:21.003 +02:00 [DBG] Using key {a15861aa-43cb-46cc-8ca6-b53f5f7374a8} as the default key.
2022-04-25 12:58:21.006 +02:00 [DBG] Key ring with default key {a15861aa-43cb-46cc-8ca6-b53f5f7374a8} was loaded during application startup.
2022-04-25 12:58:21.594 +02:00 [DBG] Using development certificate: CN=localhost (Thumbprint: A40C6697D0C21C2C32B35E9E8F9AD3269C88392E)
2022-04-25 12:58:21.695 +02:00 [INF] Now listening on: https://localhost:5001
2022-04-25 12:58:21.704 +02:00 [INF] Now listening on: http://localhost:5000
2022-04-25 12:58:21.706 +02:00 [DBG] Loaded hosting startup assembly CityInfo.API
2022-04-25 12:58:21.708 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2022-04-25 12:58:21.709 +02:00 [INF] Hosting environment: Development
2022-04-25 12:58:21.710 +02:00 [INF] Content root path: C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API
2022-04-25 12:58:21.712 +02:00 [DBG] Hosting started
2022-04-25 12:58:22.109 +02:00 [DBG] Connection id "0HMH6LA1Q3DBB" received FIN.
2022-04-25 12:58:22.109 +02:00 [DBG] Connection id "0HMH6LA1Q3DBA" received FIN.
2022-04-25 12:58:22.114 +02:00 [DBG] Connection id "0HMH6LA1Q3DBA" accepted.
2022-04-25 12:58:22.114 +02:00 [DBG] Connection id "0HMH6LA1Q3DBB" accepted.
2022-04-25 12:58:22.117 +02:00 [DBG] Connection id "0HMH6LA1Q3DBA" started.
2022-04-25 12:58:22.118 +02:00 [DBG] Connection id "0HMH6LA1Q3DBB" started.
2022-04-25 12:58:22.153 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-04-25 12:58:22.153 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-04-25 12:58:22.337 +02:00 [DBG] Connection id "0HMH6LA1Q3DBB" stopped.
2022-04-25 12:58:22.337 +02:00 [DBG] Connection id "0HMH6LA1Q3DBA" stopped.
2022-04-25 12:58:22.342 +02:00 [DBG] Connection id "0HMH6LA1Q3DBB" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-04-25 12:58:22.352 +02:00 [DBG] Connection id "0HMH6LA1Q3DBA" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-04-25 12:58:23.074 +02:00 [DBG] Connection id "0HMH6LA1Q3DBC" accepted.
2022-04-25 12:58:23.077 +02:00 [DBG] Connection id "0HMH6LA1Q3DBC" started.
2022-04-25 12:58:23.268 +02:00 [DBG] Connection "0HMH6LA1Q3DBC" established using the following protocol: "Tls12"
2022-04-25 12:58:23.352 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - -
2022-04-25 12:58:23.356 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-04-25 12:58:23.629 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - - - 200 - text/html;charset=utf-8 281.5228ms
2022-04-25 12:58:24.143 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - -
2022-04-25 12:58:24.416 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 272.0915ms
2022-04-25 12:58:51.997 +02:00 [DBG] Connection id "0HMH6LA1Q3DBD" accepted.
2022-04-25 12:58:52.001 +02:00 [DBG] Connection id "0HMH6LA1Q3DBD" started.
2022-04-25 12:58:52.004 +02:00 [DBG] Connection id "0HMH6LA1Q3DBD" received FIN.
2022-04-25 12:58:52.005 +02:00 [DBG] Connection id "0HMH6LA1Q3DBE" accepted.
2022-04-25 12:58:52.015 +02:00 [DBG] Connection id "0HMH6LA1Q3DBE" started.
2022-04-25 12:58:52.015 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|182_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-04-25 12:58:52.029 +02:00 [DBG] Connection id "0HMH6LA1Q3DBD" stopped.
2022-04-25 12:58:52.039 +02:00 [DBG] Connection id "0HMH6LA1Q3DBD" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-04-25 12:58:52.041 +02:00 [DBG] Connection "0HMH6LA1Q3DBE" established using the following protocol: "Tls12"
2022-04-25 12:58:52.056 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:5001/api/authentication/authenticate application/json 117
2022-04-25 12:58:52.065 +02:00 [DBG] POST requests are not supported
2022-04-25 12:58:52.139 +02:00 [DBG] 1 candidate(s) found for the request path '/api/authentication/authenticate'
2022-04-25 12:58:52.150 +02:00 [DBG] Endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)' with route pattern 'api/authentication/authenticate' is valid for the request path '/api/authentication/authenticate'
2022-04-25 12:58:52.154 +02:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2022-04-25 12:58:52.264 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-04-25 12:58:52.271 +02:00 [INF] Executing endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2022-04-25 12:58:52.295 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-04-25 12:58:52.369 +02:00 [INF] Route matched with {action = "Authenticate", controller = "Authentication"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.String] Authenticate(CityInfo.Application.Authentication.AuthenticationRequestBody) on controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API).
2022-04-25 12:58:52.375 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-04-25 12:58:52.377 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-04-25 12:58:52.379 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-04-25 12:58:52.383 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-04-25 12:58:52.392 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-04-25 12:58:52.396 +02:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API)
2022-04-25 12:58:52.403 +02:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API)
2022-04-25 12:58:52.429 +02:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.Application.Authentication.AuthenticationRequestBody' ...
2022-04-25 12:58:52.437 +02:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.Application.Authentication.AuthenticationRequestBody' using the name '' in request data ...
2022-04-25 12:58:52.441 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2022-04-25 12:58:52.443 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2022-04-25 12:58:52.468 +02:00 [DBG] Connection id "0HMH6LA1Q3DBE", Request id "0HMH6LA1Q3DBE:00000002": started reading request body.
2022-04-25 12:58:52.470 +02:00 [DBG] Connection id "0HMH6LA1Q3DBE", Request id "0HMH6LA1Q3DBE:00000002": done reading request body.
2022-04-25 12:58:52.679 +02:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.Application.Authentication.AuthenticationRequestBody'.
2022-04-25 12:58:52.681 +02:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.Application.Authentication.AuthenticationRequestBody'.
2022-04-25 12:58:52.688 +02:00 [DBG] Attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.Application.Authentication.AuthenticationRequestBody' ...
2022-04-25 12:58:52.698 +02:00 [DBG] Done attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.Application.Authentication.AuthenticationRequestBody'.
2022-04-25 12:58:53.024 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2022-04-25 12:58:53.031 +02:00 [DBG] No information found on request to perform content negotiation.
2022-04-25 12:58:53.032 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-04-25 12:58:53.038 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-04-25 12:58:53.040 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2022-04-25 12:58:53.043 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2022-04-25 12:58:53.055 +02:00 [INF] Executed action CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API) in 652.2768ms
2022-04-25 12:58:53.060 +02:00 [INF] Executed endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2022-04-25 12:58:53.062 +02:00 [DBG] Connection id "0HMH6LA1Q3DBE" completed keep alive response.
2022-04-25 12:58:53.069 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:5001/api/authentication/authenticate application/json 117 - 200 - text/plain;+charset=utf-8 1012.3043ms
2022-04-25 12:59:25.101 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/cities/1/pointsofinterest - -
2022-04-25 12:59:25.103 +02:00 [DBG] The request path  does not match the path filter
2022-04-25 12:59:25.107 +02:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest'
2022-04-25 12:59:25.109 +02:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetAllPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/1/pointsofinterest'
2022-04-25 12:59:25.113 +02:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetAllPointsOfInterest (CityInfo.API)'
2022-04-25 12:59:25.207 +02:00 [INF] Successfully validated the token.
2022-04-25 12:59:25.209 +02:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-04-25 12:59:25.215 +02:00 [INF] Authorization was successful.
2022-04-25 12:59:25.217 +02:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetAllPointsOfInterest (CityInfo.API)'
2022-04-25 12:59:25.229 +02:00 [INF] Route matched with {action = "GetAllPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.Application.Dto.PointOfInterestDto]] GetAllPointsOfInterest(Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2022-04-25 12:59:25.235 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-04-25 12:59:25.241 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-04-25 12:59:25.243 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-04-25 12:59:25.246 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-04-25 12:59:25.248 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-04-25 12:59:25.249 +02:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2022-04-25 12:59:25.436 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2022-04-25 12:59:25.478 +02:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2022-04-25 12:59:25.481 +02:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2022-04-25 12:59:25.483 +02:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2022-04-25 12:59:25.486 +02:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2022-04-25 12:59:25.489 +02:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2022-04-25 12:59:25.490 +02:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2022-04-25 12:59:25.493 +02:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2022-04-25 12:59:26.537 +02:00 [INF] Entity Framework Core 5.0.15 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: None
2022-04-25 12:59:26.598 +02:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(c => c.Id == __cityId_0 && c.Name == __cityName_1)'
2022-04-25 12:59:26.841 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                Projection Mapping:
                SELECT 1
                FROM Cities AS c
                WHERE (c.Id == @__cityId_0) && (c.Name == @__cityName_1))), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.Infrastructure.DbContexts.CityInfoContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2022-04-25 12:59:26.894 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-04-25 12:59:27.079 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (180ms).
2022-04-25 12:59:27.093 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-04-25 12:59:27.122 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API\CityInfo.db'.
2022-04-25 12:59:27.140 +02:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?', @__cityName_1='?' (Size = 9)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE ("c"."Id" = @__cityId_0) AND ("c"."Name" = @__cityName_1))
2022-04-25 12:59:27.186 +02:00 [INF] Executed DbCommand (47ms) [Parameters=[@__cityId_0='?', @__cityName_1='?' (Size = 9)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE ("c"."Id" = @__cityId_0) AND ("c"."Name" = @__cityName_1))
2022-04-25 12:59:27.210 +02:00 [DBG] A data reader was disposed.
2022-04-25 12:59:27.222 +02:00 [DBG] Closing connection to database 'main' on server 'C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API\CityInfo.db'.
2022-04-25 12:59:27.240 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-04-25 12:59:27.244 +02:00 [INF] Executing ForbidResult with authentication schemes ([]).
2022-04-25 12:59:27.253 +02:00 [INF] AuthenticationScheme: Bearer was forbidden.
2022-04-25 12:59:27.271 +02:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetAllPointsOfInterest (CityInfo.API) in 2021.7687ms
2022-04-25 12:59:27.322 +02:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetAllPointsOfInterest (CityInfo.API)'
2022-04-25 12:59:27.331 +02:00 [DBG] Connection id "0HMH6LA1Q3DBE" completed keep alive response.
2022-04-25 12:59:27.349 +02:00 [DBG] 'CityInfoContext' disposed.
2022-04-25 12:59:27.355 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/cities/1/pointsofinterest - - - 403 0 - 2253.6994ms
2022-04-25 12:59:42.946 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/cities/2/pointsofinterest - -
2022-04-25 12:59:42.948 +02:00 [DBG] The request path  does not match the path filter
2022-04-25 12:59:42.950 +02:00 [DBG] 1 candidate(s) found for the request path '/api/cities/2/pointsofinterest'
2022-04-25 12:59:42.954 +02:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetAllPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/2/pointsofinterest'
2022-04-25 12:59:42.957 +02:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetAllPointsOfInterest (CityInfo.API)'
2022-04-25 12:59:42.962 +02:00 [INF] Successfully validated the token.
2022-04-25 12:59:42.963 +02:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-04-25 12:59:42.969 +02:00 [INF] Authorization was successful.
2022-04-25 12:59:42.970 +02:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetAllPointsOfInterest (CityInfo.API)'
2022-04-25 12:59:42.973 +02:00 [INF] Route matched with {action = "GetAllPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.Application.Dto.PointOfInterestDto]] GetAllPointsOfInterest(Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2022-04-25 12:59:42.976 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-04-25 12:59:42.979 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-04-25 12:59:42.984 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-04-25 12:59:42.988 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-04-25 12:59:42.990 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-04-25 12:59:42.993 +02:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2022-04-25 12:59:42.996 +02:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2022-04-25 12:59:43.001 +02:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2022-04-25 12:59:43.005 +02:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2022-04-25 12:59:43.007 +02:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2022-04-25 12:59:43.008 +02:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2022-04-25 12:59:43.010 +02:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2022-04-25 12:59:43.015 +02:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2022-04-25 12:59:43.048 +02:00 [INF] Entity Framework Core 5.0.15 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: None
2022-04-25 12:59:43.056 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-04-25 12:59:43.058 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-04-25 12:59:43.059 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-04-25 12:59:43.065 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API\CityInfo.db'.
2022-04-25 12:59:43.067 +02:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?', @__cityName_1='?' (Size = 9)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE ("c"."Id" = @__cityId_0) AND ("c"."Name" = @__cityName_1))
2022-04-25 12:59:43.081 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[@__cityId_0='?', @__cityName_1='?' (Size = 9)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE ("c"."Id" = @__cityId_0) AND ("c"."Name" = @__cityName_1))
2022-04-25 12:59:43.085 +02:00 [DBG] A data reader was disposed.
2022-04-25 12:59:43.087 +02:00 [DBG] Closing connection to database 'main' on server 'C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API\CityInfo.db'.
2022-04-25 12:59:43.091 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-04-25 12:59:43.101 +02:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(c => c.Id == __cityId_0)'
2022-04-25 12:59:43.110 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                Projection Mapping:
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.Infrastructure.DbContexts.CityInfoContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2022-04-25 12:59:43.119 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-04-25 12:59:43.121 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-04-25 12:59:43.122 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-04-25 12:59:43.131 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API\CityInfo.db'.
2022-04-25 12:59:43.133 +02:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2022-04-25 12:59:43.145 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@__cityId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2022-04-25 12:59:43.160 +02:00 [DBG] A data reader was disposed.
2022-04-25 12:59:43.162 +02:00 [DBG] Closing connection to database 'main' on server 'C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API\CityInfo.db'.
2022-04-25 12:59:43.166 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-04-25 12:59:43.186 +02:00 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .Where(prop => prop.CityId == __cityId_0)'
2022-04-25 12:59:43.234 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<PointOfInterest>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string) MaxLength(200), 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3], }
        SELECT p.Id, p.CityId, p.Description, p.Name
        FROM PointsOfInterest AS p
        WHERE p.CityId == @__cityId_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterest>, 
    CityInfo.Infrastructure.DbContexts.CityInfoContext, 
    False, 
    False
)'
2022-04-25 12:59:43.243 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-04-25 12:59:43.244 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-04-25 12:59:43.246 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-04-25 12:59:43.248 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API\CityInfo.db'.
2022-04-25 12:59:43.252 +02:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE "p"."CityId" = @__cityId_0
2022-04-25 12:59:43.259 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__cityId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE "p"."CityId" = @__cityId_0
2022-04-25 12:59:43.274 +02:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-04-25 12:59:43.310 +02:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-04-25 12:59:43.312 +02:00 [DBG] A data reader was disposed.
2022-04-25 12:59:43.313 +02:00 [DBG] Closing connection to database 'main' on server 'C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API\CityInfo.db'.
2022-04-25 12:59:43.316 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-04-25 12:59:43.343 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2022-04-25 12:59:43.348 +02:00 [DBG] No information found on request to perform content negotiation.
2022-04-25 12:59:43.349 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-04-25 12:59:43.351 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-04-25 12:59:43.353 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-04-25 12:59:43.355 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.Application.Dto.PointOfInterestDto, CityInfo.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-04-25 12:59:43.416 +02:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetAllPointsOfInterest (CityInfo.API) in 423.101ms
2022-04-25 12:59:43.418 +02:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetAllPointsOfInterest (CityInfo.API)'
2022-04-25 12:59:43.421 +02:00 [DBG] Connection id "0HMH6LA1Q3DBE" completed keep alive response.
2022-04-25 12:59:43.422 +02:00 [DBG] 'CityInfoContext' disposed.
2022-04-25 12:59:43.424 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/cities/2/pointsofinterest - - - 200 168 application/json;+charset=utf-8 477.8955ms
2022-04-25 14:18:08.838 +02:00 [DBG] Hosting starting
2022-04-25 14:18:09.047 +02:00 [INF] User profile is available. Using 'C:\Users\CodeTenor\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-04-25 14:18:09.087 +02:00 [DBG] Reading data from file 'C:\Users\CodeTenor\AppData\Local\ASP.NET\DataProtection-Keys\key-a15861aa-43cb-46cc-8ca6-b53f5f7374a8.xml'.
2022-04-25 14:18:09.135 +02:00 [DBG] Found key {a15861aa-43cb-46cc-8ca6-b53f5f7374a8}.
2022-04-25 14:18:09.157 +02:00 [DBG] Considering key {a15861aa-43cb-46cc-8ca6-b53f5f7374a8} with expiration date 2022-05-16 06:35:06Z as default key.
2022-04-25 14:18:09.170 +02:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-04-25 14:18:09.175 +02:00 [DBG] Decrypting secret element using Windows DPAPI.
2022-04-25 14:18:09.189 +02:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-04-25 14:18:09.197 +02:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2022-04-25 14:18:09.203 +02:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2022-04-25 14:18:09.209 +02:00 [DBG] Using key {a15861aa-43cb-46cc-8ca6-b53f5f7374a8} as the default key.
2022-04-25 14:18:09.212 +02:00 [DBG] Key ring with default key {a15861aa-43cb-46cc-8ca6-b53f5f7374a8} was loaded during application startup.
2022-04-25 14:18:09.781 +02:00 [DBG] Using development certificate: CN=localhost (Thumbprint: A40C6697D0C21C2C32B35E9E8F9AD3269C88392E)
2022-04-25 14:18:09.867 +02:00 [INF] Now listening on: https://localhost:5001
2022-04-25 14:18:09.868 +02:00 [INF] Now listening on: http://localhost:5000
2022-04-25 14:18:09.871 +02:00 [DBG] Loaded hosting startup assembly CityInfo.API
2022-04-25 14:18:09.873 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2022-04-25 14:18:09.874 +02:00 [INF] Hosting environment: Development
2022-04-25 14:18:09.875 +02:00 [INF] Content root path: C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API
2022-04-25 14:18:09.878 +02:00 [DBG] Hosting started
2022-04-25 14:18:09.938 +02:00 [DBG] Connection id "0HMH6MMKMB7U4" received FIN.
2022-04-25 14:18:09.938 +02:00 [DBG] Connection id "0HMH6MMKMB7U5" received FIN.
2022-04-25 14:18:09.942 +02:00 [DBG] Connection id "0HMH6MMKMB7U4" accepted.
2022-04-25 14:18:09.942 +02:00 [DBG] Connection id "0HMH6MMKMB7U5" accepted.
2022-04-25 14:18:09.947 +02:00 [DBG] Connection id "0HMH6MMKMB7U4" started.
2022-04-25 14:18:09.948 +02:00 [DBG] Connection id "0HMH6MMKMB7U5" started.
2022-04-25 14:18:09.984 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-04-25 14:18:09.984 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-04-25 14:18:10.175 +02:00 [DBG] Connection id "0HMH6MMKMB7U5" stopped.
2022-04-25 14:18:10.182 +02:00 [DBG] Connection id "0HMH6MMKMB7U4" stopped.
2022-04-25 14:18:10.189 +02:00 [DBG] Connection id "0HMH6MMKMB7U4" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-04-25 14:18:10.189 +02:00 [DBG] Connection id "0HMH6MMKMB7U5" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-04-25 14:18:11.282 +02:00 [DBG] Connection id "0HMH6MMKMB7U6" accepted.
2022-04-25 14:18:11.285 +02:00 [DBG] Connection id "0HMH6MMKMB7U6" started.
2022-04-25 14:18:11.453 +02:00 [DBG] Connection "0HMH6MMKMB7U6" established using the following protocol: "Tls12"
2022-04-25 14:18:11.593 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - -
2022-04-25 14:18:11.606 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-04-25 14:18:11.892 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - - - 200 - text/html;charset=utf-8 294.0572ms
2022-04-25 14:18:12.439 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - -
2022-04-25 14:18:12.756 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 317.8748ms
2022-04-25 14:18:20.035 +02:00 [DBG] Connection id "0HMH6MMKMB7U7" accepted.
2022-04-25 14:18:20.038 +02:00 [DBG] Connection id "0HMH6MMKMB7U7" received FIN.
2022-04-25 14:18:20.054 +02:00 [DBG] Connection id "0HMH6MMKMB7U7" started.
2022-04-25 14:18:20.063 +02:00 [DBG] Connection id "0HMH6MMKMB7U8" accepted.
2022-04-25 14:18:20.072 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-04-25 14:18:20.086 +02:00 [DBG] Connection id "0HMH6MMKMB7U7" stopped.
2022-04-25 14:18:20.090 +02:00 [DBG] Connection id "0HMH6MMKMB7U8" started.
2022-04-25 14:18:20.100 +02:00 [DBG] Connection id "0HMH6MMKMB7U7" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-04-25 14:18:20.136 +02:00 [DBG] Connection "0HMH6MMKMB7U8" established using the following protocol: "Tls12"
2022-04-25 14:18:20.159 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:5001/api/authentication/authenticate application/json 117
2022-04-25 14:18:20.165 +02:00 [DBG] POST requests are not supported
2022-04-25 14:18:20.230 +02:00 [DBG] 1 candidate(s) found for the request path '/api/authentication/authenticate'
2022-04-25 14:18:20.238 +02:00 [DBG] Endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)' with route pattern 'api/authentication/authenticate' is valid for the request path '/api/authentication/authenticate'
2022-04-25 14:18:20.241 +02:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2022-04-25 14:18:20.352 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-04-25 14:18:20.357 +02:00 [INF] Executing endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2022-04-25 14:18:20.370 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-04-25 14:18:20.434 +02:00 [INF] Route matched with {action = "Authenticate", controller = "Authentication"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.String] Authenticate(CityInfo.Application.Authentication.AuthenticationRequestBody) on controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API).
2022-04-25 14:18:20.439 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-04-25 14:18:20.441 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-04-25 14:18:20.442 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-04-25 14:18:20.445 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-04-25 14:18:20.447 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-04-25 14:18:20.450 +02:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API)
2022-04-25 14:18:20.452 +02:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API)
2022-04-25 14:18:20.488 +02:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.Application.Authentication.AuthenticationRequestBody' ...
2022-04-25 14:18:20.494 +02:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.Application.Authentication.AuthenticationRequestBody' using the name '' in request data ...
2022-04-25 14:18:20.498 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2022-04-25 14:18:20.502 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2022-04-25 14:18:20.527 +02:00 [DBG] Connection id "0HMH6MMKMB7U8", Request id "0HMH6MMKMB7U8:00000002": started reading request body.
2022-04-25 14:18:20.531 +02:00 [DBG] Connection id "0HMH6MMKMB7U8", Request id "0HMH6MMKMB7U8:00000002": done reading request body.
2022-04-25 14:18:20.734 +02:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.Application.Authentication.AuthenticationRequestBody'.
2022-04-25 14:18:20.737 +02:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.Application.Authentication.AuthenticationRequestBody'.
2022-04-25 14:18:20.739 +02:00 [DBG] Attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.Application.Authentication.AuthenticationRequestBody' ...
2022-04-25 14:18:20.745 +02:00 [DBG] Done attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.Application.Authentication.AuthenticationRequestBody'.
2022-04-25 14:18:20.907 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2022-04-25 14:18:20.912 +02:00 [DBG] No information found on request to perform content negotiation.
2022-04-25 14:18:20.913 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-04-25 14:18:20.914 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-04-25 14:18:20.916 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2022-04-25 14:18:20.918 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2022-04-25 14:18:20.928 +02:00 [INF] Executed action CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API) in 473.4284ms
2022-04-25 14:18:20.935 +02:00 [INF] Executed endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2022-04-25 14:18:20.937 +02:00 [DBG] Connection id "0HMH6MMKMB7U8" completed keep alive response.
2022-04-25 14:18:20.939 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:5001/api/authentication/authenticate application/json 117 - 200 - text/plain;+charset=utf-8 779.4225ms
2022-04-25 14:19:45.447 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:5001/api/cities/3/pointsofinterest application/json 117
2022-04-25 14:19:45.452 +02:00 [DBG] POST requests are not supported
2022-04-25 14:19:45.457 +02:00 [DBG] 1 candidate(s) found for the request path '/api/cities/3/pointsofinterest'
2022-04-25 14:19:45.459 +02:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/3/pointsofinterest'
2022-04-25 14:19:45.463 +02:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2022-04-25 14:19:45.570 +02:00 [INF] Successfully validated the token.
2022-04-25 14:19:45.572 +02:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-04-25 14:19:45.579 +02:00 [INF] Authorization failed. These requirements were not met:
ClaimsAuthorizationRequirement:Claim.Type=city and Claim.Value is one of the following values: (Cape Town)
2022-04-25 14:19:45.584 +02:00 [INF] AuthenticationScheme: Bearer was forbidden.
2022-04-25 14:19:45.586 +02:00 [DBG] Connection id "0HMH6MMKMB7U8" completed keep alive response.
2022-04-25 14:19:45.588 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:5001/api/cities/3/pointsofinterest application/json 117 - 403 0 - 141.6479ms
2022-04-25 14:19:45.590 +02:00 [DBG] Connection id "0HMH6MMKMB7U8", Request id "0HMH6MMKMB7U8:00000003": started reading request body.
2022-04-25 14:19:45.592 +02:00 [DBG] Connection id "0HMH6MMKMB7U8", Request id "0HMH6MMKMB7U8:00000003": done reading request body.
2022-04-25 14:20:21.546 +02:00 [DBG] Hosting starting
2022-04-25 14:20:21.732 +02:00 [INF] User profile is available. Using 'C:\Users\CodeTenor\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-04-25 14:20:21.779 +02:00 [DBG] Reading data from file 'C:\Users\CodeTenor\AppData\Local\ASP.NET\DataProtection-Keys\key-a15861aa-43cb-46cc-8ca6-b53f5f7374a8.xml'.
2022-04-25 14:20:21.839 +02:00 [DBG] Found key {a15861aa-43cb-46cc-8ca6-b53f5f7374a8}.
2022-04-25 14:20:21.973 +02:00 [DBG] Considering key {a15861aa-43cb-46cc-8ca6-b53f5f7374a8} with expiration date 2022-05-16 06:35:06Z as default key.
2022-04-25 14:20:22.005 +02:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-04-25 14:20:22.011 +02:00 [DBG] Decrypting secret element using Windows DPAPI.
2022-04-25 14:20:22.015 +02:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-04-25 14:20:22.026 +02:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2022-04-25 14:20:22.032 +02:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2022-04-25 14:20:22.041 +02:00 [DBG] Using key {a15861aa-43cb-46cc-8ca6-b53f5f7374a8} as the default key.
2022-04-25 14:20:22.050 +02:00 [DBG] Key ring with default key {a15861aa-43cb-46cc-8ca6-b53f5f7374a8} was loaded during application startup.
2022-04-25 14:20:22.626 +02:00 [DBG] Using development certificate: CN=localhost (Thumbprint: A40C6697D0C21C2C32B35E9E8F9AD3269C88392E)
2022-04-25 14:20:22.719 +02:00 [INF] Now listening on: https://localhost:5001
2022-04-25 14:20:22.724 +02:00 [INF] Now listening on: http://localhost:5000
2022-04-25 14:20:22.725 +02:00 [DBG] Loaded hosting startup assembly CityInfo.API
2022-04-25 14:20:22.726 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2022-04-25 14:20:22.727 +02:00 [INF] Hosting environment: Development
2022-04-25 14:20:22.730 +02:00 [INF] Content root path: C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API
2022-04-25 14:20:22.731 +02:00 [DBG] Hosting started
2022-04-25 14:20:22.836 +02:00 [DBG] Connection id "0HMH6MNS9OLTN" accepted.
2022-04-25 14:20:22.846 +02:00 [DBG] Connection id "0HMH6MNS9OLTN" started.
2022-04-25 14:20:22.852 +02:00 [DBG] Connection id "0HMH6MNS9OLTN" received FIN.
2022-04-25 14:20:22.893 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-04-25 14:20:22.995 +02:00 [DBG] Connection id "0HMH6MNS9OLTN" stopped.
2022-04-25 14:20:23.002 +02:00 [DBG] Connection id "0HMH6MNS9OLTN" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-04-25 14:20:23.846 +02:00 [DBG] Connection id "0HMH6MNS9OLTO" accepted.
2022-04-25 14:20:23.869 +02:00 [DBG] Connection id "0HMH6MNS9OLTO" started.
2022-04-25 14:20:24.141 +02:00 [DBG] Connection "0HMH6MNS9OLTO" established using the following protocol: "Tls12"
2022-04-25 14:20:24.263 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - -
2022-04-25 14:20:24.269 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-04-25 14:20:24.473 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - - - 200 - text/html;charset=utf-8 211.8763ms
2022-04-25 14:20:24.758 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/favicon-16x16.png - -
2022-04-25 14:20:24.793 +02:00 [DBG] The file transmission was cancelled
System.OperationCanceledException: The operation was canceled.
   at System.Threading.CancellationToken.ThrowOperationCanceledException()
   at System.Threading.CancellationToken.ThrowIfCancellationRequested()
   at Microsoft.AspNetCore.Http.SendFileResponseExtensions.SendFileAsyncCore(HttpResponse response, IFileInfo file, Int64 offset, Nullable`1 count, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.StaticFiles.StaticFileContext.SendAsync()
2022-04-25 14:20:24.806 +02:00 [INF] Sending file. Request path: '/favicon-16x16.png'. Physical path: 'N/A'
2022-04-25 14:20:24.808 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/favicon-16x16.png - - - 0 665 image/png 49.8051ms
2022-04-25 14:20:24.818 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - -
2022-04-25 14:20:25.230 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 411.9271ms
2022-04-25 14:20:47.339 +02:00 [DBG] Connection id "0HMH6MNS9OLTP" accepted.
2022-04-25 14:20:47.345 +02:00 [DBG] Connection id "0HMH6MNS9OLTP" received FIN.
2022-04-25 14:20:47.346 +02:00 [DBG] Connection id "0HMH6MNS9OLTP" started.
2022-04-25 14:20:47.347 +02:00 [DBG] Connection id "0HMH6MNS9OLTQ" accepted.
2022-04-25 14:20:47.356 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-04-25 14:20:47.357 +02:00 [DBG] Connection id "0HMH6MNS9OLTQ" started.
2022-04-25 14:20:47.366 +02:00 [DBG] Connection id "0HMH6MNS9OLTP" stopped.
2022-04-25 14:20:47.373 +02:00 [DBG] Connection id "0HMH6MNS9OLTP" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-04-25 14:20:47.381 +02:00 [DBG] Connection "0HMH6MNS9OLTQ" established using the following protocol: "Tls12"
2022-04-25 14:20:47.393 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:5001/api/authentication/authenticate application/json 117
2022-04-25 14:20:47.396 +02:00 [DBG] POST requests are not supported
2022-04-25 14:20:47.447 +02:00 [DBG] 1 candidate(s) found for the request path '/api/authentication/authenticate'
2022-04-25 14:20:47.457 +02:00 [DBG] Endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)' with route pattern 'api/authentication/authenticate' is valid for the request path '/api/authentication/authenticate'
2022-04-25 14:20:47.463 +02:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2022-04-25 14:20:47.949 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-04-25 14:20:47.957 +02:00 [INF] Executing endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2022-04-25 14:20:47.969 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-04-25 14:20:48.023 +02:00 [INF] Route matched with {action = "Authenticate", controller = "Authentication"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.String] Authenticate(CityInfo.Application.Authentication.AuthenticationRequestBody) on controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API).
2022-04-25 14:20:48.029 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-04-25 14:20:48.030 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-04-25 14:20:48.032 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-04-25 14:20:48.035 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-04-25 14:20:48.036 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-04-25 14:20:48.039 +02:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API)
2022-04-25 14:20:48.041 +02:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API)
2022-04-25 14:20:48.067 +02:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.Application.Authentication.AuthenticationRequestBody' ...
2022-04-25 14:20:48.073 +02:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.Application.Authentication.AuthenticationRequestBody' using the name '' in request data ...
2022-04-25 14:20:48.079 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2022-04-25 14:20:48.081 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2022-04-25 14:20:48.106 +02:00 [DBG] Connection id "0HMH6MNS9OLTQ", Request id "0HMH6MNS9OLTQ:00000002": started reading request body.
2022-04-25 14:20:48.108 +02:00 [DBG] Connection id "0HMH6MNS9OLTQ", Request id "0HMH6MNS9OLTQ:00000002": done reading request body.
2022-04-25 14:20:48.293 +02:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.Application.Authentication.AuthenticationRequestBody'.
2022-04-25 14:20:48.295 +02:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.Application.Authentication.AuthenticationRequestBody'.
2022-04-25 14:20:48.298 +02:00 [DBG] Attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.Application.Authentication.AuthenticationRequestBody' ...
2022-04-25 14:20:48.307 +02:00 [DBG] Done attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.Application.Authentication.AuthenticationRequestBody'.
2022-04-25 14:20:48.476 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2022-04-25 14:20:48.484 +02:00 [DBG] No information found on request to perform content negotiation.
2022-04-25 14:20:48.485 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-04-25 14:20:48.487 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-04-25 14:20:48.489 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2022-04-25 14:20:48.492 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2022-04-25 14:20:48.508 +02:00 [INF] Executed action CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API) in 458.3437ms
2022-04-25 14:20:48.511 +02:00 [INF] Executed endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2022-04-25 14:20:48.513 +02:00 [DBG] Connection id "0HMH6MNS9OLTQ" completed keep alive response.
2022-04-25 14:20:48.518 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:5001/api/authentication/authenticate application/json 117 - 200 - text/plain;+charset=utf-8 1123.8850ms
2022-04-25 14:21:03.741 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:5001/api/cities/3/pointsofinterest application/json 117
2022-04-25 14:21:03.744 +02:00 [DBG] POST requests are not supported
2022-04-25 14:21:03.751 +02:00 [DBG] 1 candidate(s) found for the request path '/api/cities/3/pointsofinterest'
2022-04-25 14:21:03.753 +02:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/3/pointsofinterest'
2022-04-25 14:21:03.755 +02:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2022-04-25 14:21:03.854 +02:00 [INF] Successfully validated the token.
2022-04-25 14:21:03.855 +02:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-04-25 14:21:03.862 +02:00 [INF] Authorization was successful.
2022-04-25 14:21:03.863 +02:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2022-04-25 14:21:03.869 +02:00 [INF] Route matched with {action = "CreatePointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.Application.Dto.PointOfInterestDto] CreatePointOfInterest(Int32, CityInfo.Application.Dto.PointOfInterestForCreationDto) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2022-04-25 14:21:03.872 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-04-25 14:21:03.873 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-04-25 14:21:03.877 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-04-25 14:21:03.880 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-04-25 14:21:03.881 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-04-25 14:21:03.883 +02:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2022-04-25 14:21:04.071 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2022-04-25 14:21:04.111 +02:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2022-04-25 14:21:04.115 +02:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2022-04-25 14:21:04.119 +02:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2022-04-25 14:21:04.122 +02:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2022-04-25 14:21:04.124 +02:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2022-04-25 14:21:04.127 +02:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2022-04-25 14:21:04.130 +02:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2022-04-25 14:21:04.132 +02:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.Application.Dto.PointOfInterestForCreationDto' ...
2022-04-25 14:21:04.134 +02:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.Application.Dto.PointOfInterestForCreationDto' using the name '' in request data ...
2022-04-25 14:21:04.137 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2022-04-25 14:21:04.142 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2022-04-25 14:21:04.145 +02:00 [DBG] Connection id "0HMH6MNS9OLTQ", Request id "0HMH6MNS9OLTQ:00000003": started reading request body.
2022-04-25 14:21:04.147 +02:00 [DBG] Connection id "0HMH6MNS9OLTQ", Request id "0HMH6MNS9OLTQ:00000003": done reading request body.
2022-04-25 14:21:04.151 +02:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.Application.Dto.PointOfInterestForCreationDto'.
2022-04-25 14:21:04.153 +02:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.Application.Dto.PointOfInterestForCreationDto'.
2022-04-25 14:21:04.159 +02:00 [DBG] Attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.Application.Dto.PointOfInterestForCreationDto' ...
2022-04-25 14:21:04.176 +02:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.Application.Dto.PointOfInterestForCreationDto'.
2022-04-25 14:21:09.400 +02:00 [INF] Entity Framework Core 5.0.15 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: None
2022-04-25 14:21:09.452 +02:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(c => c.Id == __cityId_0)'
2022-04-25 14:21:09.650 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                Projection Mapping:
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.Infrastructure.DbContexts.CityInfoContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2022-04-25 14:21:09.722 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-04-25 14:21:09.869 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (144ms).
2022-04-25 14:21:09.883 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-04-25 14:21:09.916 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API\CityInfo.db'.
2022-04-25 14:21:09.933 +02:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2022-04-25 14:21:09.975 +02:00 [INF] Executed DbCommand (43ms) [Parameters=[@__cityId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2022-04-25 14:21:09.988 +02:00 [DBG] A data reader was disposed.
2022-04-25 14:21:09.994 +02:00 [DBG] Closing connection to database 'main' on server 'C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API\CityInfo.db'.
2022-04-25 14:21:10.003 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-04-25 14:21:10.030 +02:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Where(c => c.Id == __cityId_0)
    .FirstOrDefault()'
2022-04-25 14:21:10.087 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2], }
            SELECT TOP(1) c.Id, c.Description, c.Name
            FROM Cities AS c
            WHERE c.Id == @__cityId_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        CityInfo.Infrastructure.DbContexts.CityInfoContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2022-04-25 14:21:10.106 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-04-25 14:21:10.109 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2022-04-25 14:21:10.113 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-04-25 14:21:10.117 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API\CityInfo.db'.
2022-04-25 14:21:10.120 +02:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2022-04-25 14:21:10.130 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__cityId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2022-04-25 14:21:10.168 +02:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-04-25 14:21:10.204 +02:00 [DBG] A data reader was disposed.
2022-04-25 14:21:10.205 +02:00 [DBG] Closing connection to database 'main' on server 'C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API\CityInfo.db'.
2022-04-25 14:21:10.212 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-04-25 14:21:10.217 +02:00 [DBG] SaveChanges starting for 'CityInfoContext'.
2022-04-25 14:21:10.223 +02:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2022-04-25 14:21:10.247 +02:00 [DBG] 1 entities were added and 0 entities were removed from navigation 'City.PointOfInterest'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-04-25 14:21:10.281 +02:00 [DBG] 'CityInfoContext' generated a temporary value for the property 'Id.PointOfInterest'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-04-25 14:21:10.309 +02:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-04-25 14:21:10.315 +02:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2022-04-25 14:21:10.348 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-04-25 14:21:10.352 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API\CityInfo.db'.
2022-04-25 14:21:10.355 +02:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2022-04-25 14:21:10.362 +02:00 [DBG] Began transaction with isolation level 'Serializable'.
2022-04-25 14:21:10.441 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-04-25 14:21:10.442 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-04-25 14:21:10.445 +02:00 [DBG] Executing DbCommand [Parameters=[@p0='?', @p1='?' (Size = 62), @p2='?' (Size = 13)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "PointsOfInterest" ("CityId", "Description", "Name")
VALUES (@p0, @p1, @p2);
SELECT "Id"
FROM "PointsOfInterest"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-04-25 14:21:10.451 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?', @p1='?' (Size = 62), @p2='?' (Size = 13)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "PointsOfInterest" ("CityId", "Description", "Name")
VALUES (@p0, @p1, @p2);
SELECT "Id"
FROM "PointsOfInterest"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-04-25 14:21:10.490 +02:00 [DBG] The foreign key property 'PointOfInterest.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2022-04-25 14:21:10.500 +02:00 [DBG] A data reader was disposed.
2022-04-25 14:21:10.504 +02:00 [DBG] Committing transaction.
2022-04-25 14:21:10.513 +02:00 [DBG] Committed transaction.
2022-04-25 14:21:10.518 +02:00 [DBG] Closing connection to database 'main' on server 'C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API\CityInfo.db'.
2022-04-25 14:21:10.525 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-04-25 14:21:10.531 +02:00 [DBG] Disposing transaction.
2022-04-25 14:21:10.549 +02:00 [DBG] An entity of type 'PointOfInterest' tracked by 'CityInfoContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-04-25 14:21:10.553 +02:00 [DBG] SaveChanges completed for 'CityInfoContext' with 1 entities written to the database.
2022-04-25 14:21:10.560 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2022-04-25 14:21:10.563 +02:00 [DBG] No information found on request to perform content negotiation.
2022-04-25 14:21:10.564 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-04-25 14:21:10.565 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-04-25 14:21:10.567 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-04-25 14:21:10.568 +02:00 [INF] Executing OkObjectResult, writing value of type 'CityInfo.Application.Dto.PointOfInterestDto'.
2022-04-25 14:21:10.626 +02:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API) in 6742.7253ms
2022-04-25 14:21:10.628 +02:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2022-04-25 14:21:10.630 +02:00 [DBG] Connection id "0HMH6MNS9OLTQ" completed keep alive response.
2022-04-25 14:21:10.634 +02:00 [DBG] 'CityInfoContext' disposed.
2022-04-25 14:21:10.637 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:5001/api/cities/3/pointsofinterest application/json 117 - 200 112 application/json;+charset=utf-8 6899.1849ms
2022-04-25 14:21:28.781 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/cities - -
2022-04-25 14:21:28.782 +02:00 [DBG] The request path  does not match the path filter
2022-04-25 14:21:28.784 +02:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2022-04-25 14:21:28.786 +02:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetAllCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2022-04-25 14:21:28.789 +02:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetAllCities (CityInfo.API)'
2022-04-25 14:21:28.795 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '2022/04/25 11:43:37', Current time: '2022/04/25 12:21:28'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2022-04-25 14:21:28.814 +02:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '2022/04/25 11:43:37', Current time: '2022/04/25 12:21:28'.
2022-04-25 14:21:28.817 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2022-04-25 14:21:28.827 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2022-04-25 14:21:28.829 +02:00 [DBG] Connection id "0HMH6MNS9OLTQ" completed keep alive response.
2022-04-25 14:21:28.831 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/cities - - - 401 0 - 50.4232ms
