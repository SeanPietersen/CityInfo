2022-04-20 09:29:41.428 +02:00 [DBG] Hosting starting
2022-04-20 09:29:42.923 +02:00 [DBG] Using development certificate: CN=localhost (Thumbprint: A40C6697D0C21C2C32B35E9E8F9AD3269C88392E)
2022-04-20 09:29:43.054 +02:00 [INF] Now listening on: https://localhost:5001
2022-04-20 09:29:43.056 +02:00 [INF] Now listening on: http://localhost:5000
2022-04-20 09:29:43.058 +02:00 [DBG] Loaded hosting startup assembly CityInfo.API
2022-04-20 09:29:43.059 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2022-04-20 09:29:43.060 +02:00 [INF] Hosting environment: Development
2022-04-20 09:29:43.062 +02:00 [INF] Content root path: C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API
2022-04-20 09:29:43.064 +02:00 [DBG] Hosting started
2022-04-20 09:29:43.345 +02:00 [DBG] Connection id "0HMH2JU4SGF59" accepted.
2022-04-20 09:29:43.345 +02:00 [DBG] Connection id "0HMH2JU4SGF58" accepted.
2022-04-20 09:29:43.353 +02:00 [DBG] Connection id "0HMH2JU4SGF59" received FIN.
2022-04-20 09:29:43.359 +02:00 [DBG] Connection id "0HMH2JU4SGF58" received FIN.
2022-04-20 09:29:43.361 +02:00 [DBG] Connection id "0HMH2JU4SGF59" started.
2022-04-20 09:29:43.362 +02:00 [DBG] Connection id "0HMH2JU4SGF58" started.
2022-04-20 09:29:43.414 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-04-20 09:29:43.470 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-04-20 09:29:43.646 +02:00 [DBG] Connection id "0HMH2JU4SGF59" stopped.
2022-04-20 09:29:43.969 +02:00 [DBG] Connection id "0HMH2JU4SGF58" stopped.
2022-04-20 09:29:43.976 +02:00 [DBG] Connection id "0HMH2JU4SGF59" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-04-20 09:29:43.976 +02:00 [DBG] Connection id "0HMH2JU4SGF58" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-04-20 09:29:44.758 +02:00 [DBG] Connection id "0HMH2JU4SGF5A" accepted.
2022-04-20 09:29:44.762 +02:00 [DBG] Connection id "0HMH2JU4SGF5A" started.
2022-04-20 09:29:44.764 +02:00 [DBG] Connection id "0HMH2JU4SGF5A" received FIN.
2022-04-20 09:29:44.811 +02:00 [DBG] Connection id "0HMH2JU4SGF5B" accepted.
2022-04-20 09:29:44.816 +02:00 [DBG] Connection id "0HMH2JU4SGF5B" started.
2022-04-20 09:29:44.909 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-04-20 09:29:44.965 +02:00 [DBG] Connection id "0HMH2JU4SGF5A" stopped.
2022-04-20 09:29:44.998 +02:00 [DBG] Connection "0HMH2JU4SGF5B" established using the following protocol: "Tls12"
2022-04-20 09:29:45.027 +02:00 [DBG] Connection id "0HMH2JU4SGF5A" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-04-20 09:29:45.147 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - -
2022-04-20 09:29:45.152 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-04-20 09:29:45.531 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - - - 200 - text/html;charset=utf-8 386.1502ms
2022-04-20 09:29:45.652 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/swagger-ui-bundle.js - -
2022-04-20 09:29:45.652 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/swagger-ui-standalone-preset.js - -
2022-04-20 09:29:45.652 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/swagger-ui.css - -
2022-04-20 09:29:45.852 +02:00 [INF] The file /swagger-ui-bundle.js was not modified
2022-04-20 09:29:45.852 +02:00 [INF] The file /swagger-ui.css was not modified
2022-04-20 09:29:45.853 +02:00 [INF] The file /swagger-ui-standalone-preset.js was not modified
2022-04-20 09:29:45.871 +02:00 [DBG] Handled. Status code: 304 File: /swagger-ui-bundle.js
2022-04-20 09:29:45.871 +02:00 [DBG] Handled. Status code: 304 File: /swagger-ui.css
2022-04-20 09:29:45.884 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/swagger-ui.css - - - 304 - text/css 231.5899ms
2022-04-20 09:29:45.883 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/swagger-ui-bundle.js - - - 304 - application/javascript 231.2929ms
2022-04-20 09:29:45.878 +02:00 [DBG] Handled. Status code: 304 File: /swagger-ui-standalone-preset.js
2022-04-20 09:29:45.918 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/swagger-ui-standalone-preset.js - - - 304 - application/javascript 265.8282ms
2022-04-20 09:29:46.218 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - -
2022-04-20 09:29:46.463 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 244.9906ms
2022-04-20 09:29:52.864 +02:00 [DBG] Connection id "0HMH2JU4SGF5C" accepted.
2022-04-20 09:29:52.866 +02:00 [DBG] Connection id "0HMH2JU4SGF5C" started.
2022-04-20 09:29:52.869 +02:00 [DBG] Connection id "0HMH2JU4SGF5D" accepted.
2022-04-20 09:29:52.869 +02:00 [DBG] Connection id "0HMH2JU4SGF5C" received FIN.
2022-04-20 09:29:52.871 +02:00 [DBG] Connection id "0HMH2JU4SGF5D" started.
2022-04-20 09:29:52.875 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|182_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-04-20 09:29:52.882 +02:00 [DBG] Connection id "0HMH2JU4SGF5C" stopped.
2022-04-20 09:29:52.883 +02:00 [DBG] Connection id "0HMH2JU4SGF5C" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-04-20 09:29:52.894 +02:00 [DBG] Connection "0HMH2JU4SGF5D" established using the following protocol: "Tls12"
2022-04-20 09:29:52.908 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/cities - -
2022-04-20 09:29:52.910 +02:00 [DBG] The request path  does not match the path filter
2022-04-20 09:29:52.969 +02:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2022-04-20 09:29:52.979 +02:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetAllCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2022-04-20 09:29:52.982 +02:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetAllCities (CityInfo.API)'
2022-04-20 09:29:52.986 +02:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetAllCities (CityInfo.API)'
2022-04-20 09:29:52.999 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-04-20 09:29:53.041 +02:00 [INF] Route matched with {action = "GetAllCities", controller = "Cities"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.Application.Dto.CityDto]] GetAllCities() on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2022-04-20 09:29:53.046 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-04-20 09:29:53.048 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-04-20 09:29:53.050 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-04-20 09:29:53.057 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-04-20 09:29:53.060 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-04-20 09:29:53.063 +02:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2022-04-20 09:29:53.721 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2022-04-20 09:29:53.758 +02:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2022-04-20 09:29:54.721 +02:00 [INF] Entity Framework Core 5.0.15 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: None
2022-04-20 09:29:54.770 +02:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .OrderBy(c => c.Name)'
2022-04-20 09:29:55.022 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<City>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2], }
        SELECT c.Id, c.Description, c.Name
        FROM Cities AS c
        ORDER BY c.Name ASC), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
    CityInfo.Infrastructure.DbContexts.CityInfoContext, 
    False, 
    False
)'
2022-04-20 09:29:55.080 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-04-20 09:29:55.565 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (478ms).
2022-04-20 09:29:55.575 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-04-20 09:29:55.611 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API\CityInfo.db'.
2022-04-20 09:29:55.631 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
2022-04-20 09:29:55.708 +02:00 [INF] Executed DbCommand (64ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
2022-04-20 09:29:55.745 +02:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-04-20 09:29:55.793 +02:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-04-20 09:29:55.795 +02:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-04-20 09:29:55.800 +02:00 [DBG] A data reader was disposed.
2022-04-20 09:29:55.806 +02:00 [DBG] Closing connection to database 'main' on server 'C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API\CityInfo.db'.
2022-04-20 09:29:55.814 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-04-20 09:29:55.819 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2022-04-20 09:29:55.824 +02:00 [DBG] No information found on request to perform content negotiation.
2022-04-20 09:29:55.825 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-04-20 09:29:55.831 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-04-20 09:29:55.833 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-04-20 09:29:55.835 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.Application.Dto.CityDto, CityInfo.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-04-20 09:29:56.063 +02:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetAllCities (CityInfo.API) in 2995.0844ms
2022-04-20 09:29:56.065 +02:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetAllCities (CityInfo.API)'
2022-04-20 09:29:56.067 +02:00 [DBG] Connection id "0HMH2JU4SGF5D" completed keep alive response.
2022-04-20 09:29:56.070 +02:00 [DBG] 'CityInfoContext' disposed.
2022-04-20 09:29:56.075 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/cities - - - 200 221 application/json;+charset=utf-8 3166.6939ms
2022-04-20 09:42:26.453 +02:00 [DBG] Hosting starting
2022-04-20 09:42:27.021 +02:00 [DBG] Using development certificate: CN=localhost (Thumbprint: A40C6697D0C21C2C32B35E9E8F9AD3269C88392E)
2022-04-20 09:42:27.124 +02:00 [INF] Now listening on: https://localhost:5001
2022-04-20 09:42:27.125 +02:00 [INF] Now listening on: http://localhost:5000
2022-04-20 09:42:27.133 +02:00 [DBG] Loaded hosting startup assembly CityInfo.API
2022-04-20 09:42:27.135 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2022-04-20 09:42:27.136 +02:00 [INF] Hosting environment: Development
2022-04-20 09:42:27.142 +02:00 [INF] Content root path: C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API
2022-04-20 09:42:27.143 +02:00 [DBG] Hosting started
2022-04-20 09:42:27.171 +02:00 [DBG] Connection id "0HMH2K58H6NG7" received FIN.
2022-04-20 09:42:27.194 +02:00 [DBG] Connection id "0HMH2K58H6NG7" accepted.
2022-04-20 09:42:27.197 +02:00 [DBG] Connection id "0HMH2K58H6NG7" started.
2022-04-20 09:42:27.238 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-04-20 09:42:27.596 +02:00 [DBG] Connection id "0HMH2K58H6NG7" stopped.
2022-04-20 09:42:27.605 +02:00 [DBG] Connection id "0HMH2K58H6NG7" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-04-20 09:42:27.906 +02:00 [DBG] Connection id "0HMH2K58H6NG8" accepted.
2022-04-20 09:42:27.921 +02:00 [DBG] Connection id "0HMH2K58H6NG8" started.
2022-04-20 09:42:28.262 +02:00 [DBG] Connection "0HMH2K58H6NG8" established using the following protocol: "Tls12"
2022-04-20 09:42:28.424 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - -
2022-04-20 09:42:28.432 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-04-20 09:42:28.652 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - - - 200 - text/html;charset=utf-8 232.4424ms
2022-04-20 09:42:29.064 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - -
2022-04-20 09:42:29.372 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 308.4133ms
2022-04-20 09:42:48.227 +02:00 [DBG] Connection id "0HMH2K58H6NG9" accepted.
2022-04-20 09:42:48.228 +02:00 [DBG] Connection id "0HMH2K58H6NG9" started.
2022-04-20 09:42:48.237 +02:00 [DBG] Connection id "0HMH2K58H6NGA" accepted.
2022-04-20 09:42:48.251 +02:00 [DBG] Connection id "0HMH2K58H6NG9" received FIN.
2022-04-20 09:42:48.252 +02:00 [DBG] Connection id "0HMH2K58H6NGA" started.
2022-04-20 09:42:48.260 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|182_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-04-20 09:42:48.275 +02:00 [DBG] Connection id "0HMH2K58H6NG9" stopped.
2022-04-20 09:42:48.277 +02:00 [DBG] Connection id "0HMH2K58H6NG9" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-04-20 09:42:48.277 +02:00 [DBG] Connection "0HMH2K58H6NGA" established using the following protocol: "Tls12"
2022-04-20 09:42:48.296 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/cities/1?includePointsOfInterest=false - -
2022-04-20 09:42:48.299 +02:00 [DBG] The request path  does not match the path filter
2022-04-20 09:42:48.370 +02:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1'
2022-04-20 09:42:48.378 +02:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCityById (CityInfo.API)' with route pattern 'api/cities/{id}' is valid for the request path '/api/cities/1'
2022-04-20 09:42:48.380 +02:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCityById (CityInfo.API)'
2022-04-20 09:42:48.387 +02:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCityById (CityInfo.API)'
2022-04-20 09:42:48.404 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-04-20 09:42:48.468 +02:00 [INF] Route matched with {action = "GetCityById", controller = "Cities"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.Application.Dto.CityDto] GetCityById(Int32, Boolean) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2022-04-20 09:42:48.473 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-04-20 09:42:48.475 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-04-20 09:42:48.477 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-04-20 09:42:48.480 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-04-20 09:42:48.482 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-04-20 09:42:48.486 +02:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2022-04-20 09:42:48.653 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2022-04-20 09:42:48.880 +02:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2022-04-20 09:42:48.890 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2022-04-20 09:42:48.893 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2022-04-20 09:42:48.897 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2022-04-20 09:42:48.898 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2022-04-20 09:42:48.902 +02:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2022-04-20 09:42:48.906 +02:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2022-04-20 09:42:48.909 +02:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2022-04-20 09:42:48.913 +02:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' using the name 'includePointsOfInterest' in request data ...
2022-04-20 09:42:48.915 +02:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2022-04-20 09:42:48.921 +02:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2022-04-20 09:42:48.923 +02:00 [DBG] Attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2022-04-20 09:42:48.925 +02:00 [DBG] Done attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean'.
2022-04-20 09:42:49.927 +02:00 [INF] Entity Framework Core 5.0.15 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: None
2022-04-20 09:42:50.012 +02:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Where(c => c.Id == __cityId_0)
    .FirstOrDefault()'
2022-04-20 09:42:50.233 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2], }
            SELECT TOP(1) c.Id, c.Description, c.Name
            FROM Cities AS c
            WHERE c.Id == @__cityId_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        CityInfo.Infrastructure.DbContexts.CityInfoContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2022-04-20 09:42:50.287 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-04-20 09:42:50.435 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (142ms).
2022-04-20 09:42:50.449 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-04-20 09:42:50.481 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API\CityInfo.db'.
2022-04-20 09:42:50.497 +02:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2022-04-20 09:42:50.538 +02:00 [INF] Executed DbCommand (40ms) [Parameters=[@__cityId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2022-04-20 09:42:50.568 +02:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-04-20 09:42:50.637 +02:00 [DBG] A data reader was disposed.
2022-04-20 09:42:50.648 +02:00 [DBG] Closing connection to database 'main' on server 'C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API\CityInfo.db'.
2022-04-20 09:42:50.658 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-04-20 09:42:50.684 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2022-04-20 09:42:50.692 +02:00 [DBG] No information found on request to perform content negotiation.
2022-04-20 09:42:50.693 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-04-20 09:42:50.698 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-04-20 09:42:50.701 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-04-20 09:42:50.704 +02:00 [INF] Executing OkObjectResult, writing value of type 'CityInfo.Application.Dto.CityDto'.
2022-04-20 09:42:50.882 +02:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCityById (CityInfo.API) in 2389.2661ms
2022-04-20 09:42:50.889 +02:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCityById (CityInfo.API)'
2022-04-20 09:42:50.890 +02:00 [DBG] Connection id "0HMH2K58H6NGA" completed keep alive response.
2022-04-20 09:42:50.893 +02:00 [DBG] 'CityInfoContext' disposed.
2022-04-20 09:42:50.900 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/cities/1?includePointsOfInterest=false - - - 200 74 application/json;+charset=utf-8 2603.7513ms
2022-04-20 09:42:59.217 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/cities/1?includePointsOfInterest=true - -
2022-04-20 09:42:59.219 +02:00 [DBG] The request path  does not match the path filter
2022-04-20 09:42:59.222 +02:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1'
2022-04-20 09:42:59.223 +02:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCityById (CityInfo.API)' with route pattern 'api/cities/{id}' is valid for the request path '/api/cities/1'
2022-04-20 09:42:59.236 +02:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCityById (CityInfo.API)'
2022-04-20 09:42:59.249 +02:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCityById (CityInfo.API)'
2022-04-20 09:42:59.255 +02:00 [INF] Route matched with {action = "GetCityById", controller = "Cities"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.Application.Dto.CityDto] GetCityById(Int32, Boolean) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2022-04-20 09:42:59.261 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-04-20 09:42:59.263 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-04-20 09:42:59.266 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-04-20 09:42:59.269 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-04-20 09:42:59.271 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-04-20 09:42:59.279 +02:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2022-04-20 09:42:59.286 +02:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2022-04-20 09:42:59.289 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2022-04-20 09:42:59.292 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2022-04-20 09:42:59.295 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2022-04-20 09:42:59.296 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2022-04-20 09:42:59.297 +02:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2022-04-20 09:42:59.299 +02:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2022-04-20 09:42:59.300 +02:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2022-04-20 09:42:59.302 +02:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' using the name 'includePointsOfInterest' in request data ...
2022-04-20 09:42:59.305 +02:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2022-04-20 09:42:59.308 +02:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2022-04-20 09:42:59.310 +02:00 [DBG] Attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2022-04-20 09:42:59.312 +02:00 [DBG] Done attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean'.
2022-04-20 09:42:59.348 +02:00 [INF] Entity Framework Core 5.0.15 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: None
2022-04-20 09:42:59.355 +02:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Include(c => c.PointOfInterest)
    .Where(c => c.Id == __cityId_0)
    .FirstOrDefault()'
2022-04-20 09:42:59.368 +02:00 [DBG] Including navigation: 'City.PointOfInterest'.
2022-04-20 09:42:59.485 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
            SELECT t.Id, t.Description, t.Name, p.Id, p.CityId, p.Description, p.Name
            FROM Projection Mapping:
            (
                SELECT TOP(1) c.Id, c.Description, c.Name
                FROM Cities AS c
                WHERE c.Id == @__cityId_0
            ) AS t
            LEFT JOIN PointsOfInterest AS p ON t.Id == p.CityId
            ORDER BY t.Id ASC, p.Id ASC), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        CityInfo.Infrastructure.DbContexts.CityInfoContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2022-04-20 09:42:59.492 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-04-20 09:42:59.493 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-04-20 09:42:59.495 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-04-20 09:42:59.499 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API\CityInfo.db'.
2022-04-20 09:42:59.507 +02:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Description", "t"."Name", "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM (
    SELECT "c"."Id", "c"."Description", "c"."Name"
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0
    LIMIT 1
) AS "t"
LEFT JOIN "PointsOfInterest" AS "p" ON "t"."Id" = "p"."CityId"
ORDER BY "t"."Id", "p"."Id"
2022-04-20 09:42:59.516 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__cityId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Description", "t"."Name", "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM (
    SELECT "c"."Id", "c"."Description", "c"."Name"
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0
    LIMIT 1
) AS "t"
LEFT JOIN "PointsOfInterest" AS "p" ON "t"."Id" = "p"."CityId"
ORDER BY "t"."Id", "p"."Id"
2022-04-20 09:42:59.523 +02:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-04-20 09:42:59.542 +02:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-04-20 09:42:59.587 +02:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-04-20 09:42:59.591 +02:00 [DBG] A data reader was disposed.
2022-04-20 09:42:59.593 +02:00 [DBG] Closing connection to database 'main' on server 'C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API\CityInfo.db'.
2022-04-20 09:42:59.598 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-04-20 09:45:34.591 +02:00 [DBG] Hosting starting
2022-04-20 09:45:35.011 +02:00 [DBG] Using development certificate: CN=localhost (Thumbprint: A40C6697D0C21C2C32B35E9E8F9AD3269C88392E)
2022-04-20 09:45:35.074 +02:00 [INF] Now listening on: https://localhost:5001
2022-04-20 09:45:35.081 +02:00 [INF] Now listening on: http://localhost:5000
2022-04-20 09:45:35.082 +02:00 [DBG] Loaded hosting startup assembly CityInfo.API
2022-04-20 09:45:35.084 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2022-04-20 09:45:35.085 +02:00 [INF] Hosting environment: Development
2022-04-20 09:45:35.086 +02:00 [INF] Content root path: C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API
2022-04-20 09:45:35.087 +02:00 [DBG] Hosting started
2022-04-20 09:45:35.396 +02:00 [DBG] Connection id "0HMH2K70K8D7I" received FIN.
2022-04-20 09:45:35.413 +02:00 [DBG] Connection id "0HMH2K70K8D7I" accepted.
2022-04-20 09:45:35.415 +02:00 [DBG] Connection id "0HMH2K70K8D7I" started.
2022-04-20 09:45:35.450 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-04-20 09:45:35.531 +02:00 [DBG] Connection id "0HMH2K70K8D7I" stopped.
2022-04-20 09:45:35.540 +02:00 [DBG] Connection id "0HMH2K70K8D7I" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-04-20 09:45:35.906 +02:00 [DBG] Connection id "0HMH2K70K8D7J" accepted.
2022-04-20 09:45:35.927 +02:00 [DBG] Connection id "0HMH2K70K8D7J" started.
2022-04-20 09:45:36.033 +02:00 [DBG] Connection "0HMH2K70K8D7J" established using the following protocol: "Tls12"
2022-04-20 09:45:36.126 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - -
2022-04-20 09:45:36.129 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-04-20 09:45:36.297 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - - - 200 - text/html;charset=utf-8 174.8786ms
2022-04-20 09:45:36.646 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - -
2022-04-20 09:45:37.115 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 469.1522ms
2022-04-20 09:45:44.189 +02:00 [DBG] Connection id "0HMH2K70K8D7K" accepted.
2022-04-20 09:45:44.191 +02:00 [DBG] Connection id "0HMH2K70K8D7K" received FIN.
2022-04-20 09:45:44.192 +02:00 [DBG] Connection id "0HMH2K70K8D7K" started.
2022-04-20 09:45:44.193 +02:00 [DBG] Connection id "0HMH2K70K8D7L" accepted.
2022-04-20 09:45:44.197 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-04-20 09:45:44.197 +02:00 [DBG] Connection id "0HMH2K70K8D7L" started.
2022-04-20 09:45:44.201 +02:00 [DBG] Connection id "0HMH2K70K8D7K" stopped.
2022-04-20 09:45:44.204 +02:00 [DBG] Connection id "0HMH2K70K8D7K" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-04-20 09:45:44.216 +02:00 [DBG] Connection "0HMH2K70K8D7L" established using the following protocol: "Tls12"
2022-04-20 09:45:44.225 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/cities/1?includePointsOfInterest=true - -
2022-04-20 09:45:44.229 +02:00 [DBG] The request path  does not match the path filter
2022-04-20 09:45:44.273 +02:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1'
2022-04-20 09:45:44.283 +02:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCityById (CityInfo.API)' with route pattern 'api/cities/{id}' is valid for the request path '/api/cities/1'
2022-04-20 09:45:44.285 +02:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCityById (CityInfo.API)'
2022-04-20 09:45:44.288 +02:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCityById (CityInfo.API)'
2022-04-20 09:45:44.300 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-04-20 09:45:44.356 +02:00 [INF] Route matched with {action = "GetCityById", controller = "Cities"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.Application.Dto.CityDto] GetCityById(Int32, Boolean) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2022-04-20 09:45:44.360 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-04-20 09:45:44.361 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-04-20 09:45:44.363 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-04-20 09:45:44.366 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-04-20 09:45:44.368 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-04-20 09:45:44.370 +02:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2022-04-20 09:45:44.526 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2022-04-20 09:45:44.777 +02:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2022-04-20 09:45:44.818 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2022-04-20 09:45:44.826 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2022-04-20 09:45:44.833 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2022-04-20 09:45:44.835 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2022-04-20 09:45:44.837 +02:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2022-04-20 09:45:44.843 +02:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2022-04-20 09:45:44.848 +02:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2022-04-20 09:45:44.852 +02:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' using the name 'includePointsOfInterest' in request data ...
2022-04-20 09:45:44.855 +02:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2022-04-20 09:45:44.858 +02:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2022-04-20 09:45:44.861 +02:00 [DBG] Attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2022-04-20 09:45:44.863 +02:00 [DBG] Done attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean'.
2022-04-20 09:45:45.703 +02:00 [INF] Entity Framework Core 5.0.15 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: None
2022-04-20 09:45:45.818 +02:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Include(c => c.PointOfInterest)
    .Where(c => c.Id == __cityId_0)
    .FirstOrDefault()'
2022-04-20 09:45:45.878 +02:00 [DBG] Including navigation: 'City.PointOfInterest'.
2022-04-20 09:45:46.185 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
            SELECT t.Id, t.Description, t.Name, p.Id, p.CityId, p.Description, p.Name
            FROM Projection Mapping:
            (
                SELECT TOP(1) c.Id, c.Description, c.Name
                FROM Cities AS c
                WHERE c.Id == @__cityId_0
            ) AS t
            LEFT JOIN PointsOfInterest AS p ON t.Id == p.CityId
            ORDER BY t.Id ASC, p.Id ASC), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        CityInfo.Infrastructure.DbContexts.CityInfoContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2022-04-20 09:45:46.240 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-04-20 09:45:46.424 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (179ms).
2022-04-20 09:45:46.437 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-04-20 09:45:46.466 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API\CityInfo.db'.
2022-04-20 09:45:46.485 +02:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Description", "t"."Name", "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM (
    SELECT "c"."Id", "c"."Description", "c"."Name"
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0
    LIMIT 1
) AS "t"
LEFT JOIN "PointsOfInterest" AS "p" ON "t"."Id" = "p"."CityId"
ORDER BY "t"."Id", "p"."Id"
2022-04-20 09:45:46.527 +02:00 [INF] Executed DbCommand (39ms) [Parameters=[@__cityId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Description", "t"."Name", "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM (
    SELECT "c"."Id", "c"."Description", "c"."Name"
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0
    LIMIT 1
) AS "t"
LEFT JOIN "PointsOfInterest" AS "p" ON "t"."Id" = "p"."CityId"
ORDER BY "t"."Id", "p"."Id"
2022-04-20 09:45:46.551 +02:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-04-20 09:45:46.610 +02:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-04-20 09:45:46.638 +02:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-04-20 09:45:46.651 +02:00 [DBG] A data reader was disposed.
2022-04-20 09:45:46.657 +02:00 [DBG] Closing connection to database 'main' on server 'C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API\CityInfo.db'.
2022-04-20 09:45:46.669 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-04-20 09:45:46.714 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2022-04-20 09:45:46.724 +02:00 [DBG] No information found on request to perform content negotiation.
2022-04-20 09:45:46.725 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-04-20 09:45:46.727 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-04-20 09:45:46.730 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-04-20 09:45:46.733 +02:00 [INF] Executing OkObjectResult, writing value of type 'CityInfo.Application.Dto.CityWithPointOfInterestDto'.
2022-04-20 09:45:47.019 +02:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCityById (CityInfo.API) in 2637.6724ms
2022-04-20 09:45:47.024 +02:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCityById (CityInfo.API)'
2022-04-20 09:45:47.027 +02:00 [DBG] Connection id "0HMH2K70K8D7L" completed keep alive response.
2022-04-20 09:45:47.032 +02:00 [DBG] 'CityInfoContext' disposed.
2022-04-20 09:45:47.037 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/cities/1?includePointsOfInterest=true - - - 200 326 application/json;+charset=utf-8 2812.5371ms
2022-04-20 10:57:43.502 +02:00 [DBG] Hosting starting
2022-04-20 10:57:44.107 +02:00 [DBG] Using development certificate: CN=localhost (Thumbprint: A40C6697D0C21C2C32B35E9E8F9AD3269C88392E)
2022-04-20 10:57:44.186 +02:00 [INF] Now listening on: https://localhost:5001
2022-04-20 10:57:44.187 +02:00 [INF] Now listening on: http://localhost:5000
2022-04-20 10:57:44.189 +02:00 [DBG] Loaded hosting startup assembly CityInfo.API
2022-04-20 10:57:44.190 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2022-04-20 10:57:44.191 +02:00 [INF] Hosting environment: Development
2022-04-20 10:57:44.192 +02:00 [INF] Content root path: C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API
2022-04-20 10:57:44.194 +02:00 [DBG] Hosting started
2022-04-20 10:57:44.311 +02:00 [DBG] Connection id "0HMH2LFANVRID" received FIN.
2022-04-20 10:57:44.311 +02:00 [DBG] Connection id "0HMH2LFANVRIE" received FIN.
2022-04-20 10:57:44.317 +02:00 [DBG] Connection id "0HMH2LFANVRID" accepted.
2022-04-20 10:57:44.317 +02:00 [DBG] Connection id "0HMH2LFANVRIE" accepted.
2022-04-20 10:57:44.320 +02:00 [DBG] Connection id "0HMH2LFANVRIE" started.
2022-04-20 10:57:44.320 +02:00 [DBG] Connection id "0HMH2LFANVRID" started.
2022-04-20 10:57:44.358 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-04-20 10:57:44.358 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-04-20 10:57:44.511 +02:00 [DBG] Connection id "0HMH2LFANVRIE" stopped.
2022-04-20 10:57:44.511 +02:00 [DBG] Connection id "0HMH2LFANVRID" stopped.
2022-04-20 10:57:44.516 +02:00 [DBG] Connection id "0HMH2LFANVRIE" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-04-20 10:57:44.516 +02:00 [DBG] Connection id "0HMH2LFANVRID" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-04-20 10:57:45.732 +02:00 [DBG] Connection id "0HMH2LFANVRIF" accepted.
2022-04-20 10:57:45.739 +02:00 [DBG] Connection id "0HMH2LFANVRIF" started.
2022-04-20 10:57:45.880 +02:00 [DBG] Connection "0HMH2LFANVRIF" established using the following protocol: "Tls12"
2022-04-20 10:57:45.985 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - -
2022-04-20 10:57:45.990 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-04-20 10:57:46.295 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - - - 200 - text/html;charset=utf-8 316.2685ms
2022-04-20 10:57:47.258 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - -
2022-04-20 10:57:47.532 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 275.9612ms
2022-04-20 10:57:50.424 +02:00 [DBG] Connection id "0HMH2LFANVRIG" accepted.
2022-04-20 10:57:50.427 +02:00 [DBG] Connection id "0HMH2LFANVRIG" started.
2022-04-20 10:57:50.430 +02:00 [DBG] Connection id "0HMH2LFANVRIH" accepted.
2022-04-20 10:57:50.430 +02:00 [DBG] Connection id "0HMH2LFANVRIG" received FIN.
2022-04-20 10:57:50.432 +02:00 [DBG] Connection id "0HMH2LFANVRIH" started.
2022-04-20 10:57:50.436 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|182_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-04-20 10:57:50.443 +02:00 [DBG] Connection id "0HMH2LFANVRIG" stopped.
2022-04-20 10:57:50.448 +02:00 [DBG] Connection id "0HMH2LFANVRIG" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-04-20 10:57:50.450 +02:00 [DBG] Connection "0HMH2LFANVRIH" established using the following protocol: "Tls12"
2022-04-20 10:57:50.463 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/cities/1/pointsofinterest - -
2022-04-20 10:57:50.468 +02:00 [DBG] The request path  does not match the path filter
2022-04-20 10:57:50.515 +02:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest'
2022-04-20 10:57:50.524 +02:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetAllPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/1/pointsofinterest'
2022-04-20 10:57:50.527 +02:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetAllPointsOfInterest (CityInfo.API)'
2022-04-20 10:57:50.531 +02:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetAllPointsOfInterest (CityInfo.API)'
2022-04-20 10:57:50.544 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-04-20 10:57:50.604 +02:00 [INF] Route matched with {action = "GetAllPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.Application.Dto.PointOfInterestDto]] GetAllPointsOfInterest(Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2022-04-20 10:57:50.610 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-04-20 10:57:50.612 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-04-20 10:57:50.614 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-04-20 10:57:50.621 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-04-20 10:57:50.623 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-04-20 10:57:50.628 +02:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2022-04-20 10:57:50.803 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2022-04-20 10:57:50.855 +02:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2022-04-20 10:57:50.867 +02:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2022-04-20 10:57:50.873 +02:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2022-04-20 10:57:50.877 +02:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2022-04-20 10:57:50.879 +02:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2022-04-20 10:57:50.883 +02:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2022-04-20 10:57:50.889 +02:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2022-04-20 10:57:51.959 +02:00 [INF] Entity Framework Core 5.0.15 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: None
2022-04-20 10:57:52.009 +02:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(c => c.Id == __cityId_0)'
2022-04-20 10:57:52.230 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                Projection Mapping:
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.Infrastructure.DbContexts.CityInfoContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2022-04-20 10:57:52.281 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-04-20 10:57:52.435 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (150ms).
2022-04-20 10:57:52.447 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-04-20 10:57:52.480 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API\CityInfo.db'.
2022-04-20 10:57:52.496 +02:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2022-04-20 10:57:52.549 +02:00 [INF] Executed DbCommand (49ms) [Parameters=[@__cityId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2022-04-20 10:57:52.574 +02:00 [DBG] A data reader was disposed.
2022-04-20 10:57:52.584 +02:00 [DBG] Closing connection to database 'main' on server 'C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API\CityInfo.db'.
2022-04-20 10:57:52.594 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-04-20 10:57:52.618 +02:00 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .Where(prop => prop.CityId == __cityId_0)'
2022-04-20 10:57:52.678 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<PointOfInterest>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string) MaxLength(200), 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3], }
        SELECT p.Id, p.CityId, p.Description, p.Name
        FROM PointsOfInterest AS p
        WHERE p.CityId == @__cityId_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterest>, 
    CityInfo.Infrastructure.DbContexts.CityInfoContext, 
    False, 
    False
)'
2022-04-20 10:57:52.689 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-04-20 10:57:52.692 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2022-04-20 10:57:52.694 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-04-20 10:57:52.697 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API\CityInfo.db'.
2022-04-20 10:57:52.700 +02:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE "p"."CityId" = @__cityId_0
2022-04-20 10:57:52.708 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__cityId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE "p"."CityId" = @__cityId_0
2022-04-20 10:57:52.731 +02:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-04-20 10:57:52.774 +02:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-04-20 10:57:52.779 +02:00 [DBG] A data reader was disposed.
2022-04-20 10:57:52.780 +02:00 [DBG] Closing connection to database 'main' on server 'C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API\CityInfo.db'.
2022-04-20 10:57:52.785 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-04-20 10:57:52.793 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2022-04-20 10:57:52.801 +02:00 [DBG] No information found on request to perform content negotiation.
2022-04-20 10:57:52.806 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-04-20 10:57:52.808 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-04-20 10:57:52.810 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-04-20 10:57:52.813 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.Application.Dto.PointOfInterestDto, CityInfo.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-04-20 10:57:53.058 +02:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetAllPointsOfInterest (CityInfo.API) in 2420.3691ms
2022-04-20 10:57:53.062 +02:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetAllPointsOfInterest (CityInfo.API)'
2022-04-20 10:57:53.064 +02:00 [DBG] Connection id "0HMH2LFANVRIH" completed keep alive response.
2022-04-20 10:57:53.068 +02:00 [DBG] 'CityInfoContext' disposed.
2022-04-20 10:57:53.073 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/cities/1/pointsofinterest - - - 200 204 application/json;+charset=utf-8 2609.2039ms
2022-04-20 10:57:58.641 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/cities/4/pointsofinterest - -
2022-04-20 10:57:58.643 +02:00 [DBG] The request path  does not match the path filter
2022-04-20 10:57:58.647 +02:00 [DBG] 1 candidate(s) found for the request path '/api/cities/4/pointsofinterest'
2022-04-20 10:57:58.650 +02:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetAllPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/4/pointsofinterest'
2022-04-20 10:57:58.653 +02:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetAllPointsOfInterest (CityInfo.API)'
2022-04-20 10:57:58.656 +02:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetAllPointsOfInterest (CityInfo.API)'
2022-04-20 10:57:58.659 +02:00 [INF] Route matched with {action = "GetAllPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.Application.Dto.PointOfInterestDto]] GetAllPointsOfInterest(Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2022-04-20 10:57:58.667 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-04-20 10:57:58.668 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-04-20 10:57:58.670 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-04-20 10:57:58.674 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-04-20 10:57:58.676 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-04-20 10:57:58.681 +02:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2022-04-20 10:57:58.686 +02:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2022-04-20 10:57:58.688 +02:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2022-04-20 10:57:58.689 +02:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2022-04-20 10:57:58.691 +02:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2022-04-20 10:57:58.694 +02:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2022-04-20 10:57:58.696 +02:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2022-04-20 10:57:58.697 +02:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2022-04-20 10:57:58.733 +02:00 [INF] Entity Framework Core 5.0.15 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: None
2022-04-20 10:57:58.739 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-04-20 10:57:58.740 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-04-20 10:57:58.741 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-04-20 10:57:58.744 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API\CityInfo.db'.
2022-04-20 10:57:58.745 +02:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2022-04-20 10:57:58.751 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__cityId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2022-04-20 10:57:58.759 +02:00 [DBG] A data reader was disposed.
2022-04-20 10:57:58.760 +02:00 [DBG] Closing connection to database 'main' on server 'C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API\CityInfo.db'.
2022-04-20 10:57:58.768 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-04-20 10:57:58.775 +02:00 [FTL] City with id 4 wasn't found when accessing points of interest.
2022-04-20 10:57:58.780 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2022-04-20 10:57:58.790 +02:00 [DBG] No information found on request to perform content negotiation.
2022-04-20 10:57:58.792 +02:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml"]'.
2022-04-20 10:57:58.796 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2022-04-20 10:57:58.799 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2022-04-20 10:57:58.845 +02:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetAllPointsOfInterest (CityInfo.API) in 164.6892ms
2022-04-20 10:57:58.852 +02:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetAllPointsOfInterest (CityInfo.API)'
2022-04-20 10:57:58.858 +02:00 [DBG] Connection id "0HMH2LFANVRIH" completed keep alive response.
2022-04-20 10:57:58.860 +02:00 [DBG] 'CityInfoContext' disposed.
2022-04-20 10:57:58.864 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/cities/4/pointsofinterest - - - 404 161 application/problem+json;+charset=utf-8 223.1746ms
2022-04-20 10:58:05.793 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/cities/1/pointsofinterest/1 - -
2022-04-20 10:58:05.808 +02:00 [DBG] The request path  does not match the path filter
2022-04-20 10:58:05.875 +02:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/1'
2022-04-20 10:58:05.877 +02:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest/{pointofinterestid}' is valid for the request path '/api/cities/1/pointsofinterest/1'
2022-04-20 10:58:05.881 +02:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)'
2022-04-20 10:58:05.883 +02:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)'
2022-04-20 10:58:05.894 +02:00 [INF] Route matched with {action = "GetPointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.Application.Dto.PointOfInterestDto] GetPointOfInterest(Int32, Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2022-04-20 10:58:05.926 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-04-20 10:58:05.928 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-04-20 10:58:05.930 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-04-20 10:58:05.938 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-04-20 10:58:05.941 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-04-20 10:58:05.944 +02:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2022-04-20 10:58:05.956 +02:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2022-04-20 10:58:05.959 +02:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2022-04-20 10:58:05.962 +02:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2022-04-20 10:58:05.971 +02:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2022-04-20 10:58:05.975 +02:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2022-04-20 10:58:05.983 +02:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2022-04-20 10:58:05.990 +02:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2022-04-20 10:58:05.994 +02:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' ...
2022-04-20 10:58:06.003 +02:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' using the name 'pointOfInterestId' in request data ...
2022-04-20 10:58:06.006 +02:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2022-04-20 10:58:06.007 +02:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2022-04-20 10:58:06.009 +02:00 [DBG] Attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32' ...
2022-04-20 10:58:06.017 +02:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32'.
2022-04-20 10:58:06.030 +02:00 [INF] Entity Framework Core 5.0.15 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: None
2022-04-20 10:58:06.034 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-04-20 10:58:06.035 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-04-20 10:58:06.037 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-04-20 10:58:06.040 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API\CityInfo.db'.
2022-04-20 10:58:06.042 +02:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2022-04-20 10:58:06.052 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__cityId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2022-04-20 10:58:06.057 +02:00 [DBG] A data reader was disposed.
2022-04-20 10:58:06.058 +02:00 [DBG] Closing connection to database 'main' on server 'C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API\CityInfo.db'.
2022-04-20 10:58:06.071 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-04-20 10:58:06.082 +02:00 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .Where(p => p.CityId == __cityId_0 && p.Id == __pointOfInterestId_1)
    .FirstOrDefault()'
2022-04-20 10:58:06.099 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<PointOfInterest>(
    asyncEnumerable: new SingleQueryingEnumerable<PointOfInterest>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string) MaxLength(200), 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3], }
            SELECT TOP(1) p.Id, p.CityId, p.Description, p.Name
            FROM PointsOfInterest AS p
            WHERE (p.CityId == @__cityId_0) && (p.Id == @__pointOfInterestId_1)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterest>, 
        CityInfo.Infrastructure.DbContexts.CityInfoContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2022-04-20 10:58:06.116 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-04-20 10:58:06.118 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-04-20 10:58:06.121 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-04-20 10:58:06.134 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API\CityInfo.db'.
2022-04-20 10:58:06.143 +02:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?', @__pointOfInterestId_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointOfInterestId_1)
LIMIT 1
2022-04-20 10:58:06.150 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__cityId_0='?', @__pointOfInterestId_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointOfInterestId_1)
LIMIT 1
2022-04-20 10:58:06.158 +02:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-04-20 10:58:06.161 +02:00 [DBG] A data reader was disposed.
2022-04-20 10:58:06.163 +02:00 [DBG] Closing connection to database 'main' on server 'C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API\CityInfo.db'.
2022-04-20 10:58:06.167 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-04-20 10:58:06.173 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2022-04-20 10:58:06.178 +02:00 [DBG] No information found on request to perform content negotiation.
2022-04-20 10:58:06.179 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-04-20 10:58:06.181 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-04-20 10:58:06.182 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-04-20 10:58:06.187 +02:00 [INF] Executing OkObjectResult, writing value of type 'CityInfo.Application.Dto.PointOfInterestDto'.
2022-04-20 10:58:06.192 +02:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API) in 247.6582ms
2022-04-20 10:58:06.194 +02:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)'
2022-04-20 10:58:06.195 +02:00 [DBG] Connection id "0HMH2LFANVRIH" completed keep alive response.
2022-04-20 10:58:06.197 +02:00 [DBG] 'CityInfoContext' disposed.
2022-04-20 10:58:06.198 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/cities/1/pointsofinterest/1 - - - 200 95 application/json;+charset=utf-8 405.2751ms
2022-04-20 10:58:09.863 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/cities/4/pointsofinterest/1 - -
2022-04-20 10:58:09.869 +02:00 [DBG] The request path  does not match the path filter
2022-04-20 10:58:09.876 +02:00 [DBG] 1 candidate(s) found for the request path '/api/cities/4/pointsofinterest/1'
2022-04-20 10:58:09.880 +02:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest/{pointofinterestid}' is valid for the request path '/api/cities/4/pointsofinterest/1'
2022-04-20 10:58:09.885 +02:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)'
2022-04-20 10:58:09.888 +02:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)'
2022-04-20 10:58:09.898 +02:00 [INF] Route matched with {action = "GetPointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.Application.Dto.PointOfInterestDto] GetPointOfInterest(Int32, Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2022-04-20 10:58:09.904 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-04-20 10:58:09.911 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-04-20 10:58:09.918 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-04-20 10:58:09.929 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-04-20 10:58:09.932 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-04-20 10:58:09.935 +02:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2022-04-20 10:58:09.945 +02:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2022-04-20 10:58:09.947 +02:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2022-04-20 10:58:09.949 +02:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2022-04-20 10:58:09.951 +02:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2022-04-20 10:58:09.952 +02:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2022-04-20 10:58:09.956 +02:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2022-04-20 10:58:09.959 +02:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2022-04-20 10:58:09.961 +02:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' ...
2022-04-20 10:58:09.963 +02:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' using the name 'pointOfInterestId' in request data ...
2022-04-20 10:58:09.965 +02:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2022-04-20 10:58:09.967 +02:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2022-04-20 10:58:09.972 +02:00 [DBG] Attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32' ...
2022-04-20 10:58:09.974 +02:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32'.
2022-04-20 10:58:09.976 +02:00 [INF] Entity Framework Core 5.0.15 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: None
2022-04-20 10:58:09.979 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-04-20 10:58:09.980 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-04-20 10:58:09.982 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-04-20 10:58:09.988 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API\CityInfo.db'.
2022-04-20 10:58:09.990 +02:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2022-04-20 10:58:09.997 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__cityId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2022-04-20 10:58:10.004 +02:00 [DBG] A data reader was disposed.
2022-04-20 10:58:10.005 +02:00 [DBG] Closing connection to database 'main' on server 'C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API\CityInfo.db'.
2022-04-20 10:58:10.010 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-04-20 10:58:10.012 +02:00 [FTL] City with id 4 wasn't found when accessing points of interest.
2022-04-20 10:58:10.013 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2022-04-20 10:58:10.023 +02:00 [DBG] No information found on request to perform content negotiation.
2022-04-20 10:58:10.024 +02:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml"]'.
2022-04-20 10:58:10.027 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2022-04-20 10:58:10.029 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2022-04-20 10:58:10.037 +02:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API) in 101.84ms
2022-04-20 10:58:10.039 +02:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)'
2022-04-20 10:58:10.044 +02:00 [DBG] Connection id "0HMH2LFANVRIH" completed keep alive response.
2022-04-20 10:58:10.045 +02:00 [DBG] 'CityInfoContext' disposed.
2022-04-20 10:58:10.053 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/cities/4/pointsofinterest/1 - - - 404 161 application/problem+json;+charset=utf-8 189.4316ms
2022-04-20 10:58:13.553 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/cities/1/pointsofinterest/10 - -
2022-04-20 10:58:13.556 +02:00 [DBG] The request path  does not match the path filter
2022-04-20 10:58:13.557 +02:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/10'
2022-04-20 10:58:13.559 +02:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest/{pointofinterestid}' is valid for the request path '/api/cities/1/pointsofinterest/10'
2022-04-20 10:58:13.562 +02:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)'
2022-04-20 10:58:13.565 +02:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)'
2022-04-20 10:58:13.575 +02:00 [INF] Route matched with {action = "GetPointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.Application.Dto.PointOfInterestDto] GetPointOfInterest(Int32, Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2022-04-20 10:58:13.578 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-04-20 10:58:13.580 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-04-20 10:58:13.585 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-04-20 10:58:13.589 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-04-20 10:58:13.592 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-04-20 10:58:13.597 +02:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2022-04-20 10:58:13.603 +02:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2022-04-20 10:58:13.606 +02:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2022-04-20 10:58:13.608 +02:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2022-04-20 10:58:13.610 +02:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2022-04-20 10:58:13.612 +02:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2022-04-20 10:58:13.617 +02:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2022-04-20 10:58:13.619 +02:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2022-04-20 10:58:13.621 +02:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' ...
2022-04-20 10:58:13.623 +02:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' using the name 'pointOfInterestId' in request data ...
2022-04-20 10:58:13.626 +02:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2022-04-20 10:58:13.627 +02:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2022-04-20 10:58:13.632 +02:00 [DBG] Attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32' ...
2022-04-20 10:58:13.634 +02:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32'.
2022-04-20 10:58:13.636 +02:00 [INF] Entity Framework Core 5.0.15 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: None
2022-04-20 10:58:13.639 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-04-20 10:58:13.641 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-04-20 10:58:13.642 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-04-20 10:58:13.646 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API\CityInfo.db'.
2022-04-20 10:58:13.650 +02:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2022-04-20 10:58:13.656 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__cityId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2022-04-20 10:58:13.660 +02:00 [DBG] A data reader was disposed.
2022-04-20 10:58:13.673 +02:00 [DBG] Closing connection to database 'main' on server 'C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API\CityInfo.db'.
2022-04-20 10:58:13.680 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-04-20 10:58:13.684 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-04-20 10:58:13.687 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2022-04-20 10:58:13.689 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-04-20 10:58:13.692 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API\CityInfo.db'.
2022-04-20 10:58:13.700 +02:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?', @__pointOfInterestId_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointOfInterestId_1)
LIMIT 1
2022-04-20 10:58:13.713 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__cityId_0='?', @__pointOfInterestId_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointOfInterestId_1)
LIMIT 1
2022-04-20 10:58:13.722 +02:00 [DBG] A data reader was disposed.
2022-04-20 10:58:13.723 +02:00 [DBG] Closing connection to database 'main' on server 'C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API\CityInfo.db'.
2022-04-20 10:58:13.732 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-04-20 10:58:13.734 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2022-04-20 10:58:13.739 +02:00 [DBG] No information found on request to perform content negotiation.
2022-04-20 10:58:13.741 +02:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml"]'.
2022-04-20 10:58:13.750 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2022-04-20 10:58:13.753 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2022-04-20 10:58:13.755 +02:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API) in 158.5696ms
2022-04-20 10:58:13.779 +02:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)'
2022-04-20 10:58:13.791 +02:00 [DBG] Connection id "0HMH2LFANVRIH" completed keep alive response.
2022-04-20 10:58:13.797 +02:00 [DBG] 'CityInfoContext' disposed.
2022-04-20 10:58:13.800 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/cities/1/pointsofinterest/10 - - - 404 161 application/problem+json;+charset=utf-8 247.4436ms
2022-04-20 11:10:22.933 +02:00 [DBG] Hosting starting
2022-04-20 11:10:23.402 +02:00 [DBG] Using development certificate: CN=localhost (Thumbprint: A40C6697D0C21C2C32B35E9E8F9AD3269C88392E)
2022-04-20 11:10:23.464 +02:00 [INF] Now listening on: https://localhost:5001
2022-04-20 11:10:23.466 +02:00 [INF] Now listening on: http://localhost:5000
2022-04-20 11:10:23.468 +02:00 [DBG] Loaded hosting startup assembly CityInfo.API
2022-04-20 11:10:23.469 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2022-04-20 11:10:23.470 +02:00 [INF] Hosting environment: Development
2022-04-20 11:10:23.471 +02:00 [INF] Content root path: C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API
2022-04-20 11:10:23.472 +02:00 [DBG] Hosting started
2022-04-20 11:10:23.604 +02:00 [DBG] Connection id "0HMH2LMD154HP" received FIN.
2022-04-20 11:10:23.604 +02:00 [DBG] Connection id "0HMH2LMD154HQ" received FIN.
2022-04-20 11:10:23.629 +02:00 [DBG] Connection id "0HMH2LMD154HQ" accepted.
2022-04-20 11:10:23.629 +02:00 [DBG] Connection id "0HMH2LMD154HP" accepted.
2022-04-20 11:10:23.632 +02:00 [DBG] Connection id "0HMH2LMD154HQ" started.
2022-04-20 11:10:23.632 +02:00 [DBG] Connection id "0HMH2LMD154HP" started.
2022-04-20 11:10:23.665 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-04-20 11:10:23.663 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-04-20 11:10:23.759 +02:00 [DBG] Connection id "0HMH2LMD154HQ" stopped.
2022-04-20 11:10:23.759 +02:00 [DBG] Connection id "0HMH2LMD154HP" stopped.
2022-04-20 11:10:23.769 +02:00 [DBG] Connection id "0HMH2LMD154HP" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-04-20 11:10:23.769 +02:00 [DBG] Connection id "0HMH2LMD154HQ" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-04-20 11:10:24.271 +02:00 [DBG] Connection id "0HMH2LMD154HR" accepted.
2022-04-20 11:10:24.286 +02:00 [DBG] Connection id "0HMH2LMD154HR" started.
2022-04-20 11:10:24.439 +02:00 [DBG] Connection "0HMH2LMD154HR" established using the following protocol: "Tls12"
2022-04-20 11:10:24.519 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - -
2022-04-20 11:10:24.524 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-04-20 11:10:24.738 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - - - 200 - text/html;charset=utf-8 224.2266ms
2022-04-20 11:10:25.173 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - -
2022-04-20 11:10:25.441 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 268.0619ms
2022-04-20 11:10:31.981 +02:00 [DBG] Connection id "0HMH2LMD154HS" received FIN.
2022-04-20 11:10:31.989 +02:00 [DBG] Connection id "0HMH2LMD154HS" accepted.
2022-04-20 11:10:31.993 +02:00 [DBG] Connection id "0HMH2LMD154HS" started.
2022-04-20 11:10:31.996 +02:00 [DBG] Connection id "0HMH2LMD154HT" accepted.
2022-04-20 11:10:32.024 +02:00 [DBG] Connection id "0HMH2LMD154HT" started.
2022-04-20 11:10:32.027 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-04-20 11:10:32.049 +02:00 [DBG] Connection "0HMH2LMD154HT" established using the following protocol: "Tls12"
2022-04-20 11:10:32.060 +02:00 [DBG] Connection id "0HMH2LMD154HS" stopped.
2022-04-20 11:10:32.061 +02:00 [DBG] Connection id "0HMH2LMD154HS" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-04-20 11:10:32.074 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:5001/api/cities/3/pointsofinterest application/json 117
2022-04-20 11:10:32.081 +02:00 [DBG] POST requests are not supported
2022-04-20 11:10:32.147 +02:00 [DBG] 1 candidate(s) found for the request path '/api/cities/3/pointsofinterest'
2022-04-20 11:10:32.161 +02:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/3/pointsofinterest'
2022-04-20 11:10:32.167 +02:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2022-04-20 11:10:32.172 +02:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2022-04-20 11:10:32.196 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-04-20 11:10:32.296 +02:00 [INF] Route matched with {action = "CreatePointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.Application.Dto.PointOfInterestDto] CreatePointOfInterest(Int32, CityInfo.Application.Dto.PointOfInterestForCreationDto) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2022-04-20 11:10:32.302 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-04-20 11:10:32.304 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-04-20 11:10:32.307 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-04-20 11:10:32.311 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-04-20 11:10:32.313 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-04-20 11:10:32.321 +02:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2022-04-20 11:10:32.491 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2022-04-20 11:10:32.527 +02:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2022-04-20 11:10:32.537 +02:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2022-04-20 11:10:32.540 +02:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2022-04-20 11:10:32.543 +02:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2022-04-20 11:10:32.544 +02:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2022-04-20 11:10:32.545 +02:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2022-04-20 11:10:32.550 +02:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2022-04-20 11:10:32.555 +02:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.Application.Dto.PointOfInterestForCreationDto' ...
2022-04-20 11:10:32.559 +02:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.Application.Dto.PointOfInterestForCreationDto' using the name '' in request data ...
2022-04-20 11:10:32.562 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2022-04-20 11:10:32.568 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2022-04-20 11:10:32.577 +02:00 [DBG] Connection id "0HMH2LMD154HT", Request id "0HMH2LMD154HT:00000002": started reading request body.
2022-04-20 11:10:32.579 +02:00 [DBG] Connection id "0HMH2LMD154HT", Request id "0HMH2LMD154HT:00000002": done reading request body.
2022-04-20 11:10:32.763 +02:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.Application.Dto.PointOfInterestForCreationDto'.
2022-04-20 11:10:32.765 +02:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.Application.Dto.PointOfInterestForCreationDto'.
2022-04-20 11:10:32.767 +02:00 [DBG] Attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.Application.Dto.PointOfInterestForCreationDto' ...
2022-04-20 11:10:32.776 +02:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.Application.Dto.PointOfInterestForCreationDto'.
2022-04-20 11:10:33.779 +02:00 [INF] Entity Framework Core 5.0.15 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: None
2022-04-20 11:10:33.826 +02:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(c => c.Id == __cityId_0)'
2022-04-20 11:10:34.027 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                Projection Mapping:
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.Infrastructure.DbContexts.CityInfoContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2022-04-20 11:10:34.093 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-04-20 11:10:34.265 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (169ms).
2022-04-20 11:10:34.279 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-04-20 11:10:34.315 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API\CityInfo.db'.
2022-04-20 11:10:34.333 +02:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2022-04-20 11:10:34.377 +02:00 [INF] Executed DbCommand (44ms) [Parameters=[@__cityId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2022-04-20 11:10:34.397 +02:00 [DBG] A data reader was disposed.
2022-04-20 11:10:34.404 +02:00 [DBG] Closing connection to database 'main' on server 'C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API\CityInfo.db'.
2022-04-20 11:10:34.418 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-04-20 11:10:34.432 +02:00 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .Where(prop => prop.CityId == __cityId_0)'
2022-04-20 11:10:34.489 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<PointOfInterest>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string) MaxLength(200), 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3], }
        SELECT p.Id, p.CityId, p.Description, p.Name
        FROM PointsOfInterest AS p
        WHERE p.CityId == @__cityId_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterest>, 
    CityInfo.Infrastructure.DbContexts.CityInfoContext, 
    False, 
    False
)'
2022-04-20 11:10:34.501 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-04-20 11:10:34.503 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2022-04-20 11:10:34.505 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-04-20 11:10:34.515 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API\CityInfo.db'.
2022-04-20 11:10:34.521 +02:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE "p"."CityId" = @__cityId_0
2022-04-20 11:10:34.537 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[@__cityId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE "p"."CityId" = @__cityId_0
2022-04-20 11:10:34.553 +02:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-04-20 11:10:34.596 +02:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-04-20 11:10:34.598 +02:00 [DBG] A data reader was disposed.
2022-04-20 11:10:34.599 +02:00 [DBG] Closing connection to database 'main' on server 'C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API\CityInfo.db'.
2022-04-20 11:10:34.602 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-04-20 11:10:34.608 +02:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Where(c => c.Id == __cityId_0)
    .FirstOrDefault()'
2022-04-20 11:10:34.617 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2], }
            SELECT TOP(1) c.Id, c.Description, c.Name
            FROM Cities AS c
            WHERE c.Id == @__cityId_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        CityInfo.Infrastructure.DbContexts.CityInfoContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2022-04-20 11:10:34.626 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-04-20 11:10:34.628 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-04-20 11:10:34.630 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-04-20 11:10:34.634 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API\CityInfo.db'.
2022-04-20 11:10:34.639 +02:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2022-04-20 11:10:34.645 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__cityId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2022-04-20 11:10:34.649 +02:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-04-20 11:10:34.681 +02:00 [DBG] A data reader was disposed.
2022-04-20 11:10:34.682 +02:00 [DBG] Closing connection to database 'main' on server 'C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API\CityInfo.db'.
2022-04-20 11:10:34.689 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-04-20 11:10:34.698 +02:00 [DBG] SaveChanges starting for 'CityInfoContext'.
2022-04-20 11:10:34.704 +02:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2022-04-20 11:10:34.740 +02:00 [DBG] 1 entities were added and 0 entities were removed from navigation 'City.PointOfInterest'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-04-20 11:10:34.778 +02:00 [DBG] The foreign key property 'PointOfInterest.CityId' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2022-04-20 11:10:34.794 +02:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-04-20 11:10:34.800 +02:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2022-04-20 11:10:34.835 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-04-20 11:10:34.839 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API\CityInfo.db'.
2022-04-20 11:10:34.844 +02:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2022-04-20 11:10:34.853 +02:00 [DBG] Began transaction with isolation level 'Serializable'.
2022-04-20 11:10:34.922 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-04-20 11:10:34.923 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-04-20 11:10:34.925 +02:00 [DBG] Executing DbCommand [Parameters=[@p3='?', @p0='?', @p1='?' (Size = 62), @p2='?' (Size = 13)], CommandType='"Text"', CommandTimeout='30']
UPDATE "PointsOfInterest" SET "CityId" = @p0, "Description" = @p1, "Name" = @p2
WHERE "Id" = @p3;
SELECT changes();
2022-04-20 11:10:34.930 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@p3='?', @p0='?', @p1='?' (Size = 62), @p2='?' (Size = 13)], CommandType='"Text"', CommandTimeout='30']
UPDATE "PointsOfInterest" SET "CityId" = @p0, "Description" = @p1, "Name" = @p2
WHERE "Id" = @p3;
SELECT changes();
2022-04-20 11:10:34.949 +02:00 [DBG] A data reader was disposed.
2022-04-20 11:10:34.955 +02:00 [DBG] Disposing transaction.
2022-04-20 11:10:34.959 +02:00 [DBG] Closing connection to database 'main' on server 'C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API\CityInfo.db'.
2022-04-20 11:10:34.962 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-04-20 11:10:34.972 +02:00 [DBG] Microsoft.EntityFrameworkCore.DbUpdateConcurrencyException: Database operation expected to affect 1 row(s) but actually affected 0 row(s). Data may have been modified or deleted since entities were loaded. See http://go.microsoft.com/fwlink/?LinkId=527962 for information on understanding and handling optimistic concurrency exceptions.
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ThrowAggregateUpdateConcurrencyException(Int32 commandIndex, Int32 expectedRowsAffected, Int32 rowsAffected)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithoutPropagationAsync(Int32 commandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2022-04-20 11:10:35.245 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2022-04-20 11:10:35.253 +02:00 [DBG] No information found on request to perform content negotiation.
2022-04-20 11:10:35.254 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-04-20 11:10:35.255 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-04-20 11:10:35.257 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-04-20 11:10:35.260 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Threading.Tasks.Task`1[[CityInfo.Application.Dto.PointOfInterestDto, CityInfo.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-04-20 11:10:35.317 +02:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API) in 2992.3651ms
2022-04-20 11:10:35.322 +02:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2022-04-20 11:10:35.325 +02:00 [ERR] An unhandled exception has occurred while executing the request.
Newtonsoft.Json.JsonSerializationException: Error getting value from 'Result' on 'System.Threading.Tasks.Task`1[CityInfo.Application.Dto.PointOfInterestDto]'.
 ---> System.AggregateException: One or more errors occurred. (Database operation expected to affect 1 row(s) but actually affected 0 row(s). Data may have been modified or deleted since entities were loaded. See http://go.microsoft.com/fwlink/?LinkId=527962 for information on understanding and handling optimistic concurrency exceptions.)
 ---> Microsoft.EntityFrameworkCore.DbUpdateConcurrencyException: Database operation expected to affect 1 row(s) but actually affected 0 row(s). Data may have been modified or deleted since entities were loaded. See http://go.microsoft.com/fwlink/?LinkId=527962 for information on understanding and handling optimistic concurrency exceptions.
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ThrowAggregateUpdateConcurrencyException(Int32 commandIndex, Int32 expectedRowsAffected, Int32 rowsAffected)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithoutPropagationAsync(Int32 commandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at CityInfo.Infrastructure.Services.CityInfoRepository.SaveChangesAsync() in C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.Infrastructure\Services\CityInfoRepository.cs:line 74
   at CityInfo.Application.Contract.PointOfInterestContract.CreatePointOfInterestById(Int32 cityId, PointOfInterestForCreationDto pointOfInterestDto) in C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.Application\Contract\PointOfInterestContract.cs:line 99
   --- End of inner exception stack trace ---
   at System.Threading.Tasks.Task`1.GetResultCore(Boolean waitCompletionNotification)
   at System.Threading.Tasks.Task`1.get_Result()
   at Newtonsoft.Json.Serialization.ExpressionValueProvider.GetValue(Object target)
   --- End of inner exception stack trace ---
   at Newtonsoft.Json.Serialization.ExpressionValueProvider.GetValue(Object target)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.CalculatePropertyValues(JsonWriter writer, Object value, JsonContainerContract contract, JsonProperty member, JsonProperty property, JsonContract& memberContract, Object& memberValue)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeObject(JsonWriter writer, Object value, JsonObjectContract contract, JsonProperty member, JsonContainerContract collectionContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeValue(JsonWriter writer, Object value, JsonContract valueContract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.Serialize(JsonWriter jsonWriter, Object value, Type objectType)
   at Newtonsoft.Json.JsonSerializer.SerializeInternal(JsonWriter jsonWriter, Object value, Type objectType)
   at Newtonsoft.Json.JsonSerializer.Serialize(JsonWriter jsonWriter, Object value)
   at Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|29_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2022-04-20 11:10:35.514 +02:00 [DBG] Connection id "0HMH2LMD154HT" completed keep alive response.
2022-04-20 11:10:35.523 +02:00 [DBG] 'CityInfoContext' disposed.
2022-04-20 11:10:35.532 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:5001/api/cities/3/pointsofinterest application/json 117 - 500 - text/plain 3457.8209ms
2022-04-20 11:10:41.576 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:5001/api/cities/3/pointsofinterest application/json 117
2022-04-20 11:10:41.577 +02:00 [DBG] POST requests are not supported
2022-04-20 11:10:41.580 +02:00 [DBG] 1 candidate(s) found for the request path '/api/cities/3/pointsofinterest'
2022-04-20 11:10:41.583 +02:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/3/pointsofinterest'
2022-04-20 11:10:41.586 +02:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2022-04-20 11:10:41.591 +02:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2022-04-20 11:10:41.594 +02:00 [INF] Route matched with {action = "CreatePointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.Application.Dto.PointOfInterestDto] CreatePointOfInterest(Int32, CityInfo.Application.Dto.PointOfInterestForCreationDto) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2022-04-20 11:10:41.602 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-04-20 11:10:41.604 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-04-20 11:10:41.607 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-04-20 11:10:41.611 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-04-20 11:10:41.616 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-04-20 11:10:41.621 +02:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2022-04-20 11:10:41.625 +02:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2022-04-20 11:10:41.627 +02:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2022-04-20 11:10:41.632 +02:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2022-04-20 11:10:41.634 +02:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2022-04-20 11:10:41.636 +02:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2022-04-20 11:10:41.637 +02:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2022-04-20 11:10:41.640 +02:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2022-04-20 11:10:41.642 +02:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.Application.Dto.PointOfInterestForCreationDto' ...
2022-04-20 11:10:41.647 +02:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.Application.Dto.PointOfInterestForCreationDto' using the name '' in request data ...
2022-04-20 11:10:41.650 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2022-04-20 11:10:41.652 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2022-04-20 11:10:41.654 +02:00 [DBG] Connection id "0HMH2LMD154HT", Request id "0HMH2LMD154HT:00000003": started reading request body.
2022-04-20 11:10:41.655 +02:00 [DBG] Connection id "0HMH2LMD154HT", Request id "0HMH2LMD154HT:00000003": done reading request body.
2022-04-20 11:10:41.657 +02:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.Application.Dto.PointOfInterestForCreationDto'.
2022-04-20 11:10:41.658 +02:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.Application.Dto.PointOfInterestForCreationDto'.
2022-04-20 11:10:41.660 +02:00 [DBG] Attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.Application.Dto.PointOfInterestForCreationDto' ...
2022-04-20 11:10:41.666 +02:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.Application.Dto.PointOfInterestForCreationDto'.
2022-04-20 11:10:41.701 +02:00 [INF] Entity Framework Core 5.0.15 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: None
2022-04-20 11:10:41.706 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-04-20 11:10:41.707 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-04-20 11:10:41.709 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-04-20 11:10:41.711 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API\CityInfo.db'.
2022-04-20 11:10:41.713 +02:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2022-04-20 11:10:41.719 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__cityId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2022-04-20 11:10:41.723 +02:00 [DBG] A data reader was disposed.
2022-04-20 11:10:41.724 +02:00 [DBG] Closing connection to database 'main' on server 'C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API\CityInfo.db'.
2022-04-20 11:10:41.737 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-04-20 11:10:41.745 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-04-20 11:10:41.747 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-04-20 11:10:41.749 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-04-20 11:10:41.752 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API\CityInfo.db'.
2022-04-20 11:10:41.755 +02:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE "p"."CityId" = @__cityId_0
2022-04-20 11:10:41.777 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[@__cityId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE "p"."CityId" = @__cityId_0
2022-04-20 11:10:41.784 +02:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-04-20 11:10:41.796 +02:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-04-20 11:10:41.799 +02:00 [DBG] A data reader was disposed.
2022-04-20 11:10:41.800 +02:00 [DBG] Closing connection to database 'main' on server 'C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API\CityInfo.db'.
2022-04-20 11:10:41.809 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-04-20 11:10:41.814 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-04-20 11:10:41.818 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2022-04-20 11:10:41.823 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-04-20 11:10:41.828 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API\CityInfo.db'.
2022-04-20 11:10:41.830 +02:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2022-04-20 11:10:41.836 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__cityId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2022-04-20 11:10:41.843 +02:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-04-20 11:10:41.845 +02:00 [DBG] A data reader was disposed.
2022-04-20 11:10:41.846 +02:00 [DBG] Closing connection to database 'main' on server 'C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API\CityInfo.db'.
2022-04-20 11:10:41.850 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-04-20 11:10:41.857 +02:00 [DBG] SaveChanges starting for 'CityInfoContext'.
2022-04-20 11:10:41.859 +02:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2022-04-20 11:10:41.861 +02:00 [DBG] 1 entities were added and 0 entities were removed from navigation 'City.PointOfInterest'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-04-20 11:10:41.864 +02:00 [DBG] The foreign key property 'PointOfInterest.CityId' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2022-04-20 11:10:41.870 +02:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-04-20 11:10:41.872 +02:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2022-04-20 11:10:41.874 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-04-20 11:10:41.877 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API\CityInfo.db'.
2022-04-20 11:10:41.879 +02:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2022-04-20 11:10:41.888 +02:00 [DBG] Began transaction with isolation level 'Serializable'.
2022-04-20 11:10:41.891 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-04-20 11:10:41.892 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-04-20 11:10:41.894 +02:00 [DBG] Executing DbCommand [Parameters=[@p3='?', @p0='?', @p1='?' (Size = 62), @p2='?' (Size = 13)], CommandType='"Text"', CommandTimeout='30']
UPDATE "PointsOfInterest" SET "CityId" = @p0, "Description" = @p1, "Name" = @p2
WHERE "Id" = @p3;
SELECT changes();
2022-04-20 11:10:41.901 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@p3='?', @p0='?', @p1='?' (Size = 62), @p2='?' (Size = 13)], CommandType='"Text"', CommandTimeout='30']
UPDATE "PointsOfInterest" SET "CityId" = @p0, "Description" = @p1, "Name" = @p2
WHERE "Id" = @p3;
SELECT changes();
2022-04-20 11:10:41.906 +02:00 [DBG] A data reader was disposed.
2022-04-20 11:10:41.908 +02:00 [DBG] Disposing transaction.
2022-04-20 11:10:41.909 +02:00 [DBG] Closing connection to database 'main' on server 'C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API\CityInfo.db'.
2022-04-20 11:10:41.920 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-04-20 11:10:41.925 +02:00 [DBG] Microsoft.EntityFrameworkCore.DbUpdateConcurrencyException: Database operation expected to affect 1 row(s) but actually affected 0 row(s). Data may have been modified or deleted since entities were loaded. See http://go.microsoft.com/fwlink/?LinkId=527962 for information on understanding and handling optimistic concurrency exceptions.
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ThrowAggregateUpdateConcurrencyException(Int32 commandIndex, Int32 expectedRowsAffected, Int32 rowsAffected)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithoutPropagationAsync(Int32 commandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2022-04-20 11:10:42.081 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2022-04-20 11:10:42.085 +02:00 [DBG] No information found on request to perform content negotiation.
2022-04-20 11:10:42.087 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-04-20 11:10:42.089 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-04-20 11:10:42.091 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-04-20 11:10:42.093 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Threading.Tasks.Task`1[[CityInfo.Application.Dto.PointOfInterestDto, CityInfo.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-04-20 11:10:42.097 +02:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API) in 476.2456ms
2022-04-20 11:10:42.100 +02:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2022-04-20 11:10:42.103 +02:00 [ERR] An unhandled exception has occurred while executing the request.
Newtonsoft.Json.JsonSerializationException: Error getting value from 'Result' on 'System.Threading.Tasks.Task`1[CityInfo.Application.Dto.PointOfInterestDto]'.
 ---> System.AggregateException: One or more errors occurred. (Database operation expected to affect 1 row(s) but actually affected 0 row(s). Data may have been modified or deleted since entities were loaded. See http://go.microsoft.com/fwlink/?LinkId=527962 for information on understanding and handling optimistic concurrency exceptions.)
 ---> Microsoft.EntityFrameworkCore.DbUpdateConcurrencyException: Database operation expected to affect 1 row(s) but actually affected 0 row(s). Data may have been modified or deleted since entities were loaded. See http://go.microsoft.com/fwlink/?LinkId=527962 for information on understanding and handling optimistic concurrency exceptions.
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ThrowAggregateUpdateConcurrencyException(Int32 commandIndex, Int32 expectedRowsAffected, Int32 rowsAffected)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithoutPropagationAsync(Int32 commandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at CityInfo.Infrastructure.Services.CityInfoRepository.SaveChangesAsync() in C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.Infrastructure\Services\CityInfoRepository.cs:line 74
   at CityInfo.Application.Contract.PointOfInterestContract.CreatePointOfInterestById(Int32 cityId, PointOfInterestForCreationDto pointOfInterestDto) in C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.Application\Contract\PointOfInterestContract.cs:line 99
   --- End of inner exception stack trace ---
   at System.Threading.Tasks.Task`1.GetResultCore(Boolean waitCompletionNotification)
   at System.Threading.Tasks.Task`1.get_Result()
   at Newtonsoft.Json.Serialization.ExpressionValueProvider.GetValue(Object target)
   --- End of inner exception stack trace ---
   at Newtonsoft.Json.Serialization.ExpressionValueProvider.GetValue(Object target)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.CalculatePropertyValues(JsonWriter writer, Object value, JsonContainerContract contract, JsonProperty member, JsonProperty property, JsonContract& memberContract, Object& memberValue)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeObject(JsonWriter writer, Object value, JsonObjectContract contract, JsonProperty member, JsonContainerContract collectionContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeValue(JsonWriter writer, Object value, JsonContract valueContract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.Serialize(JsonWriter jsonWriter, Object value, Type objectType)
   at Newtonsoft.Json.JsonSerializer.SerializeInternal(JsonWriter jsonWriter, Object value, Type objectType)
   at Newtonsoft.Json.JsonSerializer.Serialize(JsonWriter jsonWriter, Object value)
   at Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|29_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2022-04-20 11:10:42.160 +02:00 [DBG] Connection id "0HMH2LMD154HT" completed keep alive response.
2022-04-20 11:10:42.162 +02:00 [DBG] 'CityInfoContext' disposed.
2022-04-20 11:10:42.164 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:5001/api/cities/3/pointsofinterest application/json 117 - 500 - text/plain 588.0929ms
2022-04-20 11:10:45.398 +02:00 [INF] Application is shutting down...
2022-04-20 11:10:45.399 +02:00 [DBG] Hosting stopping
2022-04-20 11:10:45.421 +02:00 [DBG] Connection id "0HMH2LMD154HR" is closing.
2022-04-20 11:10:45.423 +02:00 [DBG] Connection id "0HMH2LMD154HR" is closed. The last processed stream ID was 17.
2022-04-20 11:10:45.426 +02:00 [DBG] Connection id "0HMH2LMD154HR" received FIN.
2022-04-20 11:10:45.433 +02:00 [DBG] Connection id "0HMH2LMD154HR" sending FIN because: "The client closed the connection."
2022-04-20 11:10:45.434 +02:00 [DBG] Connection id "0HMH2LMD154HT" disconnecting.
2022-04-20 11:10:45.438 +02:00 [DBG] Connection id "0HMH2LMD154HT" stopped.
2022-04-20 11:10:45.439 +02:00 [DBG] Connection id "0HMH2LMD154HT" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-04-20 11:10:45.440 +02:00 [DBG] Connection id "0HMH2LMD154HR" stopped.
2022-04-20 11:10:45.450 +02:00 [DBG] Hosting stopped
2022-04-20 11:32:57.246 +02:00 [DBG] Hosting starting
2022-04-20 11:32:57.814 +02:00 [DBG] Using development certificate: CN=localhost (Thumbprint: A40C6697D0C21C2C32B35E9E8F9AD3269C88392E)
2022-04-20 11:32:57.886 +02:00 [INF] Now listening on: https://localhost:5001
2022-04-20 11:32:57.888 +02:00 [INF] Now listening on: http://localhost:5000
2022-04-20 11:32:57.889 +02:00 [DBG] Loaded hosting startup assembly CityInfo.API
2022-04-20 11:32:57.891 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2022-04-20 11:32:57.892 +02:00 [INF] Hosting environment: Development
2022-04-20 11:32:57.893 +02:00 [INF] Content root path: C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API
2022-04-20 11:32:57.894 +02:00 [DBG] Hosting started
2022-04-20 11:32:57.934 +02:00 [DBG] Connection id "0HMH2M30L2N0H" accepted.
2022-04-20 11:32:57.934 +02:00 [DBG] Connection id "0HMH2M30L2N0H" received FIN.
2022-04-20 11:32:57.938 +02:00 [DBG] Connection id "0HMH2M30L2N0H" started.
2022-04-20 11:32:57.971 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-04-20 11:32:58.149 +02:00 [DBG] Connection id "0HMH2M30L2N0H" stopped.
2022-04-20 11:32:58.154 +02:00 [DBG] Connection id "0HMH2M30L2N0H" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-04-20 11:32:58.891 +02:00 [DBG] Connection id "0HMH2M30L2N0J" accepted.
2022-04-20 11:32:58.895 +02:00 [DBG] Connection id "0HMH2M30L2N0J" started.
2022-04-20 11:32:59.309 +02:00 [DBG] Connection "0HMH2M30L2N0J" established using the following protocol: "Tls12"
2022-04-20 11:32:59.442 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - -
2022-04-20 11:32:59.451 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-04-20 11:32:59.860 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - - - 200 - text/html;charset=utf-8 426.1785ms
2022-04-20 11:33:00.363 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - -
2022-04-20 11:33:00.571 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 208.3796ms
2022-04-20 11:33:48.883 +02:00 [DBG] Connection id "0HMH2M30L2N0K" accepted.
2022-04-20 11:33:48.885 +02:00 [DBG] Connection id "0HMH2M30L2N0K" started.
2022-04-20 11:33:48.888 +02:00 [DBG] Connection id "0HMH2M30L2N0L" accepted.
2022-04-20 11:33:48.898 +02:00 [DBG] Connection id "0HMH2M30L2N0K" received FIN.
2022-04-20 11:33:48.905 +02:00 [DBG] Connection id "0HMH2M30L2N0L" started.
2022-04-20 11:33:48.907 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|182_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-04-20 11:33:48.919 +02:00 [DBG] Connection id "0HMH2M30L2N0K" stopped.
2022-04-20 11:33:48.920 +02:00 [DBG] Connection "0HMH2M30L2N0L" established using the following protocol: "Tls12"
2022-04-20 11:33:48.921 +02:00 [DBG] Connection id "0HMH2M30L2N0K" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-04-20 11:33:48.934 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:5001/api/cities/3/pointsofinterest application/json 117
2022-04-20 11:33:48.937 +02:00 [DBG] POST requests are not supported
2022-04-20 11:33:48.983 +02:00 [DBG] 1 candidate(s) found for the request path '/api/cities/3/pointsofinterest'
2022-04-20 11:33:48.993 +02:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/3/pointsofinterest'
2022-04-20 11:33:48.996 +02:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2022-04-20 11:33:49.000 +02:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2022-04-20 11:33:49.012 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-04-20 11:33:49.070 +02:00 [INF] Route matched with {action = "CreatePointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.Application.Dto.PointOfInterestDto] CreatePointOfInterest(Int32, CityInfo.Application.Dto.PointOfInterestForCreationDto) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2022-04-20 11:33:49.074 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-04-20 11:33:49.076 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-04-20 11:33:49.077 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-04-20 11:33:49.080 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-04-20 11:33:49.081 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-04-20 11:33:49.084 +02:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2022-04-20 11:33:49.246 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2022-04-20 11:33:49.476 +02:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2022-04-20 11:33:49.487 +02:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2022-04-20 11:33:49.495 +02:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2022-04-20 11:33:49.499 +02:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2022-04-20 11:33:49.501 +02:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2022-04-20 11:33:49.503 +02:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2022-04-20 11:33:49.508 +02:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2022-04-20 11:33:49.512 +02:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.Application.Dto.PointOfInterestForCreationDto' ...
2022-04-20 11:33:49.518 +02:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.Application.Dto.PointOfInterestForCreationDto' using the name '' in request data ...
2022-04-20 11:33:49.527 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2022-04-20 11:33:49.530 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2022-04-20 11:33:49.545 +02:00 [DBG] Connection id "0HMH2M30L2N0L", Request id "0HMH2M30L2N0L:00000002": started reading request body.
2022-04-20 11:33:49.547 +02:00 [DBG] Connection id "0HMH2M30L2N0L", Request id "0HMH2M30L2N0L:00000002": done reading request body.
2022-04-20 11:33:49.719 +02:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.Application.Dto.PointOfInterestForCreationDto'.
2022-04-20 11:33:49.721 +02:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.Application.Dto.PointOfInterestForCreationDto'.
2022-04-20 11:33:49.724 +02:00 [DBG] Attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.Application.Dto.PointOfInterestForCreationDto' ...
2022-04-20 11:33:49.738 +02:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.Application.Dto.PointOfInterestForCreationDto'.
2022-04-20 11:33:59.145 +02:00 [INF] Entity Framework Core 5.0.15 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: None
2022-04-20 11:33:59.203 +02:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(c => c.Id == __cityId_0)'
2022-04-20 11:33:59.477 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                Projection Mapping:
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.Infrastructure.DbContexts.CityInfoContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2022-04-20 11:33:59.528 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-04-20 11:33:59.681 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (148ms).
2022-04-20 11:33:59.693 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-04-20 11:33:59.726 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API\CityInfo.db'.
2022-04-20 11:33:59.753 +02:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2022-04-20 11:33:59.809 +02:00 [INF] Executed DbCommand (58ms) [Parameters=[@__cityId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2022-04-20 11:33:59.830 +02:00 [DBG] A data reader was disposed.
2022-04-20 11:33:59.838 +02:00 [DBG] Closing connection to database 'main' on server 'C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API\CityInfo.db'.
2022-04-20 11:33:59.848 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-04-20 11:34:17.481 +02:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Where(c => c.Id == __cityId_0)
    .FirstOrDefault()'
2022-04-20 11:34:17.526 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2], }
            SELECT TOP(1) c.Id, c.Description, c.Name
            FROM Cities AS c
            WHERE c.Id == @__cityId_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        CityInfo.Infrastructure.DbContexts.CityInfoContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2022-04-20 11:34:17.537 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-04-20 11:34:17.539 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-04-20 11:34:17.546 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-04-20 11:34:17.550 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API\CityInfo.db'.
2022-04-20 11:34:17.554 +02:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2022-04-20 11:34:17.570 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[@__cityId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2022-04-20 11:34:17.601 +02:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-04-20 11:34:17.658 +02:00 [DBG] A data reader was disposed.
2022-04-20 11:34:17.660 +02:00 [DBG] Closing connection to database 'main' on server 'C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API\CityInfo.db'.
2022-04-20 11:34:17.673 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-04-20 11:35:10.590 +02:00 [DBG] Connection id "0HMH2M30L2N0J" received FIN.
2022-04-20 11:35:10.605 +02:00 [DBG] Connection id "0HMH2M30L2N0J" is closed. The last processed stream ID was 17.
2022-04-20 11:35:10.598 +02:00 [DBG] Connection id "0HMH2M30L2N0J" is closing.
2022-04-20 11:35:10.607 +02:00 [DBG] Connection id "0HMH2M30L2N0J" sending FIN because: "The client closed the connection."
2022-04-20 11:35:10.607 +02:00 [DBG] SaveChanges starting for 'CityInfoContext'.
2022-04-20 11:35:10.614 +02:00 [DBG] Connection id "0HMH2M30L2N0J" stopped.
2022-04-20 11:35:10.618 +02:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2022-04-20 11:35:10.647 +02:00 [DBG] 1 entities were added and 0 entities were removed from navigation 'City.PointOfInterest'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-04-20 11:35:10.682 +02:00 [DBG] 'CityInfoContext' generated a temporary value for the property 'Id.PointOfInterest'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-04-20 11:35:10.713 +02:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-04-20 11:35:10.718 +02:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2022-04-20 11:35:10.748 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-04-20 11:35:10.751 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API\CityInfo.db'.
2022-04-20 11:35:10.755 +02:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2022-04-20 11:35:10.769 +02:00 [DBG] Began transaction with isolation level 'Serializable'.
2022-04-20 11:35:10.876 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-04-20 11:35:10.877 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-04-20 11:35:10.879 +02:00 [DBG] Executing DbCommand [Parameters=[@p0='?', @p1='?' (Size = 62), @p2='?' (Size = 13)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "PointsOfInterest" ("CityId", "Description", "Name")
VALUES (@p0, @p1, @p2);
SELECT "Id"
FROM "PointsOfInterest"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-04-20 11:35:10.884 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?', @p1='?' (Size = 62), @p2='?' (Size = 13)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "PointsOfInterest" ("CityId", "Description", "Name")
VALUES (@p0, @p1, @p2);
SELECT "Id"
FROM "PointsOfInterest"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-04-20 11:35:10.915 +02:00 [DBG] The foreign key property 'PointOfInterest.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2022-04-20 11:35:10.923 +02:00 [DBG] A data reader was disposed.
2022-04-20 11:35:10.927 +02:00 [DBG] Committing transaction.
2022-04-20 11:35:10.938 +02:00 [DBG] Committed transaction.
2022-04-20 11:35:10.944 +02:00 [DBG] Closing connection to database 'main' on server 'C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API\CityInfo.db'.
2022-04-20 11:35:10.952 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-04-20 11:35:10.966 +02:00 [DBG] Disposing transaction.
2022-04-20 11:35:10.981 +02:00 [DBG] An entity of type 'PointOfInterest' tracked by 'CityInfoContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-04-20 11:35:10.989 +02:00 [DBG] SaveChanges completed for 'CityInfoContext' with 1 entities written to the database.
2022-04-20 11:35:38.722 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-04-20 11:35:38.750 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (27ms).
2022-04-20 11:35:38.753 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-04-20 11:35:38.755 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API\CityInfo.db'.
2022-04-20 11:35:38.758 +02:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2022-04-20 11:35:38.766 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__cityId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2022-04-20 11:35:38.771 +02:00 [DBG] A data reader was disposed.
2022-04-20 11:35:38.772 +02:00 [DBG] Closing connection to database 'main' on server 'C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API\CityInfo.db'.
2022-04-20 11:35:38.789 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-04-20 11:35:38.801 +02:00 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .Where(p => p.CityId == __cityId_0 && p.Id == __pointOfInterestId_1)
    .FirstOrDefault()'
2022-04-20 11:35:38.813 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<PointOfInterest>(
    asyncEnumerable: new SingleQueryingEnumerable<PointOfInterest>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string) MaxLength(200), 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3], }
            SELECT TOP(1) p.Id, p.CityId, p.Description, p.Name
            FROM PointsOfInterest AS p
            WHERE (p.CityId == @__cityId_0) && (p.Id == @__pointOfInterestId_1)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterest>, 
        CityInfo.Infrastructure.DbContexts.CityInfoContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2022-04-20 11:35:38.822 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-04-20 11:35:38.828 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2022-04-20 11:35:38.830 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-04-20 11:35:38.839 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API\CityInfo.db'.
2022-04-20 11:35:38.844 +02:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?', @__pointOfInterestId_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointOfInterestId_1)
LIMIT 1
2022-04-20 11:35:38.852 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__cityId_0='?', @__pointOfInterestId_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointOfInterestId_1)
LIMIT 1
2022-04-20 11:35:38.856 +02:00 [DBG] A data reader was disposed.
2022-04-20 11:35:38.863 +02:00 [DBG] Closing connection to database 'main' on server 'C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API\CityInfo.db'.
2022-04-20 11:35:38.867 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-04-20 11:35:38.871 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2022-04-20 11:35:38.879 +02:00 [DBG] No information found on request to perform content negotiation.
2022-04-20 11:35:38.880 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-04-20 11:35:38.882 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-04-20 11:35:38.884 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-04-20 11:35:38.886 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[CityInfo.Application.Dto.PointOfInterestDto, CityInfo.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Runtime.CompilerServices.IAsyncStateMachine, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2022-04-20 11:35:38.971 +02:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API) in 109880.7178ms
2022-04-20 11:35:38.976 +02:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2022-04-20 11:35:38.980 +02:00 [ERR] An unhandled exception has occurred while executing the request.
Newtonsoft.Json.JsonSerializationException: Self referencing loop detected for property 'target' with type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[CityInfo.Application.Dto.PointOfInterestDto,System.Runtime.CompilerServices.IAsyncStateMachine]'. Path 'moveNextAction'.
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.CheckForCircularReference(JsonWriter writer, Object value, JsonProperty property, JsonContract contract, JsonContainerContract containerContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.CalculatePropertyValues(JsonWriter writer, Object value, JsonContainerContract contract, JsonProperty member, JsonProperty property, JsonContract& memberContract, Object& memberValue)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeObject(JsonWriter writer, Object value, JsonObjectContract contract, JsonProperty member, JsonContainerContract collectionContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeValue(JsonWriter writer, Object value, JsonContract valueContract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeObject(JsonWriter writer, Object value, JsonObjectContract contract, JsonProperty member, JsonContainerContract collectionContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeValue(JsonWriter writer, Object value, JsonContract valueContract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.Serialize(JsonWriter jsonWriter, Object value, Type objectType)
   at Newtonsoft.Json.JsonSerializer.SerializeInternal(JsonWriter jsonWriter, Object value, Type objectType)
   at Newtonsoft.Json.JsonSerializer.Serialize(JsonWriter jsonWriter, Object value)
   at Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|29_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2022-04-20 11:35:39.114 +02:00 [DBG] Connection id "0HMH2M30L2N0L" completed keep alive response.
2022-04-20 11:35:39.118 +02:00 [DBG] 'CityInfoContext' disposed.
2022-04-20 11:35:39.123 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:5001/api/cities/3/pointsofinterest application/json 117 - 500 - text/plain 110189.0779ms
2022-04-20 11:36:14.202 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/cities/3/pointsofinterest/7 - -
2022-04-20 11:36:14.204 +02:00 [DBG] The request path  does not match the path filter
2022-04-20 11:36:14.207 +02:00 [DBG] 1 candidate(s) found for the request path '/api/cities/3/pointsofinterest/7'
2022-04-20 11:36:14.209 +02:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest/{pointofinterestid}' is valid for the request path '/api/cities/3/pointsofinterest/7'
2022-04-20 11:36:14.215 +02:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)'
2022-04-20 11:36:14.217 +02:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)'
2022-04-20 11:36:14.257 +02:00 [INF] Route matched with {action = "GetPointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.Application.Dto.PointOfInterestDto] GetPointOfInterest(Int32, Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2022-04-20 11:36:14.260 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-04-20 11:36:14.262 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-04-20 11:36:14.265 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-04-20 11:36:14.269 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-04-20 11:36:14.271 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-04-20 11:36:14.272 +02:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2022-04-20 11:36:14.275 +02:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2022-04-20 11:36:14.277 +02:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2022-04-20 11:36:14.278 +02:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2022-04-20 11:36:14.279 +02:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2022-04-20 11:36:14.281 +02:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2022-04-20 11:36:14.288 +02:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2022-04-20 11:36:14.290 +02:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2022-04-20 11:36:14.292 +02:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' ...
2022-04-20 11:36:14.293 +02:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' using the name 'pointOfInterestId' in request data ...
2022-04-20 11:36:14.295 +02:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2022-04-20 11:36:14.300 +02:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2022-04-20 11:36:14.301 +02:00 [DBG] Attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32' ...
2022-04-20 11:36:14.303 +02:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32'.
2022-04-20 11:36:14.338 +02:00 [INF] Entity Framework Core 5.0.15 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: None
2022-04-20 11:36:14.341 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-04-20 11:36:14.342 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-04-20 11:36:14.344 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-04-20 11:36:14.348 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API\CityInfo.db'.
2022-04-20 11:36:14.350 +02:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2022-04-20 11:36:14.359 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__cityId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2022-04-20 11:36:14.366 +02:00 [DBG] A data reader was disposed.
2022-04-20 11:36:14.367 +02:00 [DBG] Closing connection to database 'main' on server 'C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API\CityInfo.db'.
2022-04-20 11:36:14.370 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-04-20 11:36:14.372 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-04-20 11:36:14.373 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-04-20 11:36:14.374 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-04-20 11:36:14.380 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API\CityInfo.db'.
2022-04-20 11:36:14.383 +02:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?', @__pointOfInterestId_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointOfInterestId_1)
LIMIT 1
2022-04-20 11:36:14.395 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[@__cityId_0='?', @__pointOfInterestId_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointOfInterestId_1)
LIMIT 1
2022-04-20 11:36:14.401 +02:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-04-20 11:36:14.403 +02:00 [DBG] A data reader was disposed.
2022-04-20 11:36:14.404 +02:00 [DBG] Closing connection to database 'main' on server 'C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API\CityInfo.db'.
2022-04-20 11:36:14.410 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-04-20 11:36:14.412 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2022-04-20 11:36:14.416 +02:00 [DBG] No information found on request to perform content negotiation.
2022-04-20 11:36:14.417 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-04-20 11:36:14.418 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-04-20 11:36:14.419 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-04-20 11:36:14.423 +02:00 [INF] Executing OkObjectResult, writing value of type 'CityInfo.Application.Dto.PointOfInterestDto'.
2022-04-20 11:36:14.440 +02:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API) in 167.2138ms
2022-04-20 11:36:14.442 +02:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)'
2022-04-20 11:36:14.445 +02:00 [DBG] Connection id "0HMH2M30L2N0L" completed keep alive response.
2022-04-20 11:36:14.447 +02:00 [DBG] 'CityInfoContext' disposed.
2022-04-20 11:36:14.449 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/cities/3/pointsofinterest/7 - - - 200 111 application/json;+charset=utf-8 246.5354ms
2022-04-20 11:36:29.742 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/cities/1/pointsofinterest - -
2022-04-20 11:36:29.762 +02:00 [DBG] The request path  does not match the path filter
2022-04-20 11:36:29.766 +02:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest'
2022-04-20 11:36:29.768 +02:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetAllPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/1/pointsofinterest'
2022-04-20 11:36:29.771 +02:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetAllPointsOfInterest (CityInfo.API)'
2022-04-20 11:36:29.790 +02:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetAllPointsOfInterest (CityInfo.API)'
2022-04-20 11:36:29.797 +02:00 [INF] Route matched with {action = "GetAllPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.Application.Dto.PointOfInterestDto]] GetAllPointsOfInterest(Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2022-04-20 11:36:29.807 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-04-20 11:36:29.810 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-04-20 11:36:29.812 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-04-20 11:36:29.816 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-04-20 11:36:29.818 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-04-20 11:36:29.823 +02:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2022-04-20 11:36:29.832 +02:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2022-04-20 11:36:29.837 +02:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2022-04-20 11:36:29.839 +02:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2022-04-20 11:36:29.842 +02:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2022-04-20 11:36:29.844 +02:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2022-04-20 11:36:29.845 +02:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2022-04-20 11:36:29.847 +02:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2022-04-20 11:36:29.864 +02:00 [INF] Entity Framework Core 5.0.15 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: None
2022-04-20 11:36:29.869 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-04-20 11:36:29.871 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-04-20 11:36:29.874 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-04-20 11:36:29.878 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API\CityInfo.db'.
2022-04-20 11:36:29.880 +02:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2022-04-20 11:36:29.892 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@__cityId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2022-04-20 11:36:29.897 +02:00 [DBG] A data reader was disposed.
2022-04-20 11:36:29.898 +02:00 [DBG] Closing connection to database 'main' on server 'C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API\CityInfo.db'.
2022-04-20 11:36:29.907 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-04-20 11:36:29.917 +02:00 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .Where(prop => prop.CityId == __cityId_0)'
2022-04-20 11:36:29.924 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<PointOfInterest>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string) MaxLength(200), 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3], }
        SELECT p.Id, p.CityId, p.Description, p.Name
        FROM PointsOfInterest AS p
        WHERE p.CityId == @__cityId_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterest>, 
    CityInfo.Infrastructure.DbContexts.CityInfoContext, 
    False, 
    False
)'
2022-04-20 11:36:29.928 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-04-20 11:36:29.929 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-04-20 11:36:29.933 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-04-20 11:36:29.936 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API\CityInfo.db'.
2022-04-20 11:36:29.938 +02:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE "p"."CityId" = @__cityId_0
2022-04-20 11:36:29.943 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__cityId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE "p"."CityId" = @__cityId_0
2022-04-20 11:36:29.946 +02:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-04-20 11:36:29.952 +02:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-04-20 11:36:29.954 +02:00 [DBG] A data reader was disposed.
2022-04-20 11:36:29.955 +02:00 [DBG] Closing connection to database 'main' on server 'C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API\CityInfo.db'.
2022-04-20 11:36:29.959 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-04-20 11:36:29.978 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2022-04-20 11:36:29.983 +02:00 [DBG] No information found on request to perform content negotiation.
2022-04-20 11:36:29.984 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-04-20 11:36:29.985 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-04-20 11:36:29.986 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-04-20 11:36:29.988 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.Application.Dto.PointOfInterestDto, CityInfo.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-04-20 11:36:30.006 +02:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetAllPointsOfInterest (CityInfo.API) in 182.7846ms
2022-04-20 11:36:30.012 +02:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetAllPointsOfInterest (CityInfo.API)'
2022-04-20 11:36:30.017 +02:00 [DBG] Connection id "0HMH2M30L2N0L" completed keep alive response.
2022-04-20 11:36:30.018 +02:00 [DBG] 'CityInfoContext' disposed.
2022-04-20 11:36:30.020 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/cities/1/pointsofinterest - - - 200 204 application/json;+charset=utf-8 277.7217ms
2022-04-20 12:07:20.258 +02:00 [DBG] Hosting starting
2022-04-20 12:07:20.815 +02:00 [DBG] Using development certificate: CN=localhost (Thumbprint: A40C6697D0C21C2C32B35E9E8F9AD3269C88392E)
2022-04-20 12:07:20.884 +02:00 [INF] Now listening on: https://localhost:5001
2022-04-20 12:07:20.895 +02:00 [INF] Now listening on: http://localhost:5000
2022-04-20 12:07:20.897 +02:00 [DBG] Loaded hosting startup assembly CityInfo.API
2022-04-20 12:07:20.899 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2022-04-20 12:07:20.901 +02:00 [INF] Hosting environment: Development
2022-04-20 12:07:20.902 +02:00 [INF] Content root path: C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API
2022-04-20 12:07:20.903 +02:00 [DBG] Hosting started
2022-04-20 12:07:21.166 +02:00 [DBG] Connection id "0HMH2MM7HIPM6" received FIN.
2022-04-20 12:07:21.166 +02:00 [DBG] Connection id "0HMH2MM7HIPM5" received FIN.
2022-04-20 12:07:21.186 +02:00 [DBG] Connection id "0HMH2MM7HIPM6" accepted.
2022-04-20 12:07:21.186 +02:00 [DBG] Connection id "0HMH2MM7HIPM5" accepted.
2022-04-20 12:07:21.189 +02:00 [DBG] Connection id "0HMH2MM7HIPM5" started.
2022-04-20 12:07:21.189 +02:00 [DBG] Connection id "0HMH2MM7HIPM6" started.
2022-04-20 12:07:21.226 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-04-20 12:07:21.226 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-04-20 12:07:21.406 +02:00 [DBG] Connection id "0HMH2MM7HIPM5" stopped.
2022-04-20 12:07:21.406 +02:00 [DBG] Connection id "0HMH2MM7HIPM6" stopped.
2022-04-20 12:07:21.430 +02:00 [DBG] Connection id "0HMH2MM7HIPM6" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-04-20 12:07:21.430 +02:00 [DBG] Connection id "0HMH2MM7HIPM5" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-04-20 12:07:22.117 +02:00 [DBG] Connection id "0HMH2MM7HIPM7" accepted.
2022-04-20 12:07:22.125 +02:00 [DBG] Connection id "0HMH2MM7HIPM7" started.
2022-04-20 12:07:22.241 +02:00 [DBG] Connection "0HMH2MM7HIPM7" established using the following protocol: "Tls12"
2022-04-20 12:07:22.312 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - -
2022-04-20 12:07:22.316 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-04-20 12:07:22.477 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - - - 200 - text/html;charset=utf-8 170.3989ms
2022-04-20 12:07:23.275 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - -
2022-04-20 12:07:23.602 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 326.5014ms
2022-04-20 12:07:30.286 +02:00 [DBG] Connection id "0HMH2MM7HIPM8" accepted.
2022-04-20 12:07:30.288 +02:00 [DBG] Connection id "0HMH2MM7HIPM8" started.
2022-04-20 12:07:30.293 +02:00 [DBG] Connection id "0HMH2MM7HIPM9" accepted.
2022-04-20 12:07:30.325 +02:00 [DBG] Connection id "0HMH2MM7HIPM9" started.
2022-04-20 12:07:30.325 +02:00 [DBG] Connection id "0HMH2MM7HIPM8" received FIN.
2022-04-20 12:07:30.332 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|182_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-04-20 12:07:30.349 +02:00 [DBG] Connection id "0HMH2MM7HIPM8" stopped.
2022-04-20 12:07:30.350 +02:00 [DBG] Connection "0HMH2MM7HIPM9" established using the following protocol: "Tls12"
2022-04-20 12:07:30.351 +02:00 [DBG] Connection id "0HMH2MM7HIPM8" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-04-20 12:07:30.365 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:5001/api/cities/3/pointsofinterest application/json 117
2022-04-20 12:07:30.371 +02:00 [DBG] POST requests are not supported
2022-04-20 12:07:30.419 +02:00 [DBG] 1 candidate(s) found for the request path '/api/cities/3/pointsofinterest'
2022-04-20 12:07:30.427 +02:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/3/pointsofinterest'
2022-04-20 12:07:30.431 +02:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2022-04-20 12:07:30.435 +02:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2022-04-20 12:07:30.449 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-04-20 12:07:30.505 +02:00 [INF] Route matched with {action = "CreatePointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.Application.Dto.PointOfInterestDto] CreatePointOfInterest(Int32, CityInfo.Application.Dto.PointOfInterestForCreationDto) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2022-04-20 12:07:30.510 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-04-20 12:07:30.511 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-04-20 12:07:30.513 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-04-20 12:07:30.515 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-04-20 12:07:30.518 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-04-20 12:07:30.521 +02:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2022-04-20 12:07:30.767 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2022-04-20 12:07:31.001 +02:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2022-04-20 12:07:31.012 +02:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2022-04-20 12:07:31.016 +02:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2022-04-20 12:07:31.020 +02:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2022-04-20 12:07:31.022 +02:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2022-04-20 12:07:31.027 +02:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2022-04-20 12:07:31.032 +02:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2022-04-20 12:07:31.035 +02:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.Application.Dto.PointOfInterestForCreationDto' ...
2022-04-20 12:07:31.039 +02:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.Application.Dto.PointOfInterestForCreationDto' using the name '' in request data ...
2022-04-20 12:07:31.046 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2022-04-20 12:07:31.049 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2022-04-20 12:07:31.059 +02:00 [DBG] Connection id "0HMH2MM7HIPM9", Request id "0HMH2MM7HIPM9:00000002": started reading request body.
2022-04-20 12:07:31.060 +02:00 [DBG] Connection id "0HMH2MM7HIPM9", Request id "0HMH2MM7HIPM9:00000002": done reading request body.
2022-04-20 12:07:31.246 +02:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.Application.Dto.PointOfInterestForCreationDto'.
2022-04-20 12:07:31.249 +02:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.Application.Dto.PointOfInterestForCreationDto'.
2022-04-20 12:07:31.251 +02:00 [DBG] Attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.Application.Dto.PointOfInterestForCreationDto' ...
2022-04-20 12:07:31.261 +02:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.Application.Dto.PointOfInterestForCreationDto'.
2022-04-20 12:07:35.181 +02:00 [INF] Entity Framework Core 5.0.15 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: None
2022-04-20 12:07:35.281 +02:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(c => c.Id == __cityId_0)'
2022-04-20 12:07:35.461 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                Projection Mapping:
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.Infrastructure.DbContexts.CityInfoContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2022-04-20 12:07:35.536 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-04-20 12:07:35.698 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (156ms).
2022-04-20 12:07:35.712 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-04-20 12:07:35.741 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API\CityInfo.db'.
2022-04-20 12:07:35.758 +02:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2022-04-20 12:07:35.792 +02:00 [INF] Executed DbCommand (39ms) [Parameters=[@__cityId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2022-04-20 12:07:35.818 +02:00 [DBG] A data reader was disposed.
2022-04-20 12:07:35.825 +02:00 [DBG] Closing connection to database 'main' on server 'C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API\CityInfo.db'.
2022-04-20 12:07:35.833 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-04-20 12:07:40.302 +02:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Where(c => c.Id == __cityId_0)
    .FirstOrDefault()'
2022-04-20 12:07:40.354 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2], }
            SELECT TOP(1) c.Id, c.Description, c.Name
            FROM Cities AS c
            WHERE c.Id == @__cityId_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        CityInfo.Infrastructure.DbContexts.CityInfoContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2022-04-20 12:07:40.371 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-04-20 12:07:40.372 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-04-20 12:07:40.380 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-04-20 12:07:40.384 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API\CityInfo.db'.
2022-04-20 12:07:40.388 +02:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2022-04-20 12:07:40.399 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__cityId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2022-04-20 12:07:40.435 +02:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-04-20 12:07:40.482 +02:00 [DBG] A data reader was disposed.
2022-04-20 12:07:40.484 +02:00 [DBG] Closing connection to database 'main' on server 'C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API\CityInfo.db'.
2022-04-20 12:07:40.490 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-04-20 12:07:45.276 +02:00 [DBG] SaveChanges starting for 'CityInfoContext'.
2022-04-20 12:07:45.286 +02:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2022-04-20 12:07:45.325 +02:00 [DBG] 1 entities were added and 0 entities were removed from navigation 'City.PointOfInterest'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-04-20 12:07:45.370 +02:00 [DBG] 'CityInfoContext' generated a temporary value for the property 'Id.PointOfInterest'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-04-20 12:07:45.409 +02:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-04-20 12:07:45.413 +02:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2022-04-20 12:07:45.443 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-04-20 12:07:45.446 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API\CityInfo.db'.
2022-04-20 12:07:45.450 +02:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2022-04-20 12:07:45.462 +02:00 [DBG] Began transaction with isolation level 'Serializable'.
2022-04-20 12:07:45.568 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-04-20 12:07:45.570 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-04-20 12:07:45.573 +02:00 [DBG] Executing DbCommand [Parameters=[@p0='?', @p1='?' (Size = 62), @p2='?' (Size = 13)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "PointsOfInterest" ("CityId", "Description", "Name")
VALUES (@p0, @p1, @p2);
SELECT "Id"
FROM "PointsOfInterest"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-04-20 12:07:45.579 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?', @p1='?' (Size = 62), @p2='?' (Size = 13)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "PointsOfInterest" ("CityId", "Description", "Name")
VALUES (@p0, @p1, @p2);
SELECT "Id"
FROM "PointsOfInterest"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-04-20 12:07:45.619 +02:00 [DBG] The foreign key property 'PointOfInterest.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2022-04-20 12:07:45.631 +02:00 [DBG] A data reader was disposed.
2022-04-20 12:07:45.640 +02:00 [DBG] Committing transaction.
2022-04-20 12:07:45.651 +02:00 [DBG] Committed transaction.
2022-04-20 12:07:45.667 +02:00 [DBG] Closing connection to database 'main' on server 'C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API\CityInfo.db'.
2022-04-20 12:07:45.675 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-04-20 12:07:45.687 +02:00 [DBG] Disposing transaction.
2022-04-20 12:07:45.709 +02:00 [DBG] An entity of type 'PointOfInterest' tracked by 'CityInfoContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-04-20 12:07:45.714 +02:00 [DBG] SaveChanges completed for 'CityInfoContext' with 1 entities written to the database.
2022-04-20 12:07:54.841 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-04-20 12:07:54.842 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-04-20 12:07:54.844 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-04-20 12:07:54.848 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API\CityInfo.db'.
2022-04-20 12:07:54.850 +02:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2022-04-20 12:07:54.858 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__cityId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2022-04-20 12:07:54.878 +02:00 [DBG] A data reader was disposed.
2022-04-20 12:07:54.879 +02:00 [DBG] Closing connection to database 'main' on server 'C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API\CityInfo.db'.
2022-04-20 12:07:54.884 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-04-20 12:07:54.895 +02:00 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .Where(p => p.CityId == __cityId_0 && p.Id == __pointOfInterestId_1)
    .FirstOrDefault()'
2022-04-20 12:07:54.917 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<PointOfInterest>(
    asyncEnumerable: new SingleQueryingEnumerable<PointOfInterest>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string) MaxLength(200), 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3], }
            SELECT TOP(1) p.Id, p.CityId, p.Description, p.Name
            FROM PointsOfInterest AS p
            WHERE (p.CityId == @__cityId_0) && (p.Id == @__pointOfInterestId_1)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterest>, 
        CityInfo.Infrastructure.DbContexts.CityInfoContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2022-04-20 12:07:54.929 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-04-20 12:07:54.931 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-04-20 12:07:54.933 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-04-20 12:07:54.940 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API\CityInfo.db'.
2022-04-20 12:07:54.947 +02:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?', @__pointOfInterestId_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointOfInterestId_1)
LIMIT 1
2022-04-20 12:07:54.956 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__cityId_0='?', @__pointOfInterestId_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointOfInterestId_1)
LIMIT 1
2022-04-20 12:07:54.965 +02:00 [DBG] A data reader was disposed.
2022-04-20 12:07:54.966 +02:00 [DBG] Closing connection to database 'main' on server 'C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API\CityInfo.db'.
2022-04-20 12:07:54.974 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-04-20 12:07:56.175 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2022-04-20 12:07:56.183 +02:00 [DBG] No information found on request to perform content negotiation.
2022-04-20 12:07:56.184 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-04-20 12:07:56.186 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-04-20 12:07:56.189 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-04-20 12:07:56.191 +02:00 [INF] Executing CreatedAtRouteResult, writing value of type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[CityInfo.Application.Dto.PointOfInterestDto, CityInfo.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Runtime.CompilerServices.IAsyncStateMachine, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2022-04-20 12:07:56.219 +02:00 [DBG] Found the endpoints ["CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)"] for address Microsoft.AspNetCore.Routing.RouteValuesAddress
2022-04-20 12:07:56.243 +02:00 [DBG] Failed to process the template api/cities/{cityId}/pointsofinterest/{pointofinterestid} for CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API). A required route value is missing, or has a different value from the required default values. Supplied ambient values { "action": "CreatePointOfInterest", "cityId": "3", "controller": "PointsOfInterest" } and { } with default values { "action": "GetPointOfInterest", "controller": "PointsOfInterest" }
2022-04-20 12:07:56.250 +02:00 [DBG] Link generation failed for endpoints ["CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)"]
2022-04-20 12:07:56.260 +02:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API) in 25734.6259ms
2022-04-20 12:07:56.268 +02:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2022-04-20 12:07:56.271 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: No route matches the supplied values.
   at Microsoft.AspNetCore.Mvc.CreatedAtRouteResult.OnFormatting(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor.ExecuteAsyncCore(ActionContext context, ObjectResult result, Type objectType, Object value)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor.ExecuteAsync(ActionContext context, ObjectResult result)
   at Microsoft.AspNetCore.Mvc.ObjectResult.ExecuteResultAsync(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultAsync(IActionResult result)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeNextResultFilterAsync[TFilter,TFilterAsync]()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2022-04-20 12:07:56.324 +02:00 [DBG] Connection id "0HMH2MM7HIPM9" completed keep alive response.
2022-04-20 12:07:56.328 +02:00 [DBG] 'CityInfoContext' disposed.
2022-04-20 12:07:56.331 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:5001/api/cities/3/pointsofinterest application/json 117 - 500 - text/plain 25966.7648ms
2022-04-20 12:52:03.182 +02:00 [DBG] Hosting starting
2022-04-20 12:52:03.739 +02:00 [DBG] Using development certificate: CN=localhost (Thumbprint: A40C6697D0C21C2C32B35E9E8F9AD3269C88392E)
2022-04-20 12:52:03.807 +02:00 [INF] Now listening on: https://localhost:5001
2022-04-20 12:52:03.808 +02:00 [INF] Now listening on: http://localhost:5000
2022-04-20 12:52:03.810 +02:00 [DBG] Loaded hosting startup assembly CityInfo.API
2022-04-20 12:52:03.812 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2022-04-20 12:52:03.813 +02:00 [INF] Hosting environment: Development
2022-04-20 12:52:03.814 +02:00 [INF] Content root path: C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API
2022-04-20 12:52:03.815 +02:00 [DBG] Hosting started
2022-04-20 12:52:04.002 +02:00 [DBG] Connection id "0HMH2NF7336T6" received FIN.
2022-04-20 12:52:04.026 +02:00 [DBG] Connection id "0HMH2NF7336T6" accepted.
2022-04-20 12:52:04.029 +02:00 [DBG] Connection id "0HMH2NF7336T6" started.
2022-04-20 12:52:04.060 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-04-20 12:52:04.222 +02:00 [DBG] Connection id "0HMH2NF7336T6" stopped.
2022-04-20 12:52:04.228 +02:00 [DBG] Connection id "0HMH2NF7336T6" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-04-20 12:52:05.091 +02:00 [DBG] Connection id "0HMH2NF7336T7" accepted.
2022-04-20 12:52:05.100 +02:00 [DBG] Connection id "0HMH2NF7336T7" started.
2022-04-20 12:52:05.230 +02:00 [DBG] Connection "0HMH2NF7336T7" established using the following protocol: "Tls12"
2022-04-20 12:52:05.303 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - -
2022-04-20 12:52:05.307 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-04-20 12:52:05.508 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - - - 200 - text/html;charset=utf-8 210.0604ms
2022-04-20 12:52:06.318 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - -
2022-04-20 12:52:06.524 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 206.0137ms
2022-04-20 12:52:17.189 +02:00 [DBG] Connection id "0HMH2NF7336T8" accepted.
2022-04-20 12:52:17.192 +02:00 [DBG] Connection id "0HMH2NF7336T8" started.
2022-04-20 12:52:17.193 +02:00 [DBG] Connection id "0HMH2NF7336T9" accepted.
2022-04-20 12:52:17.192 +02:00 [DBG] Connection id "0HMH2NF7336T8" received FIN.
2022-04-20 12:52:17.197 +02:00 [DBG] Connection id "0HMH2NF7336T9" started.
2022-04-20 12:52:17.200 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|182_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-04-20 12:52:17.210 +02:00 [DBG] Connection "0HMH2NF7336T9" established using the following protocol: "Tls12"
2022-04-20 12:52:17.211 +02:00 [DBG] Connection id "0HMH2NF7336T8" stopped.
2022-04-20 12:52:17.214 +02:00 [DBG] Connection id "0HMH2NF7336T8" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-04-20 12:52:17.224 +02:00 [INF] Request starting HTTP/1.1 PUT https://localhost:5001/api/cities/1/pointsofinterest/1 application/json 122
2022-04-20 12:52:17.229 +02:00 [DBG] PUT requests are not supported
2022-04-20 12:52:17.285 +02:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/1'
2022-04-20 12:52:17.288 +02:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2022-04-20 12:52:17.292 +02:00 [INF] Executing endpoint '405 HTTP Method Not Supported'
2022-04-20 12:52:17.294 +02:00 [INF] Executed endpoint '405 HTTP Method Not Supported'
2022-04-20 12:52:17.300 +02:00 [DBG] Connection id "0HMH2NF7336T9" completed keep alive response.
2022-04-20 12:52:17.301 +02:00 [INF] Request finished HTTP/1.1 PUT https://localhost:5001/api/cities/1/pointsofinterest/1 application/json 122 - 405 0 - 77.5731ms
2022-04-20 12:52:17.304 +02:00 [DBG] Connection id "0HMH2NF7336T9", Request id "0HMH2NF7336T9:00000002": started reading request body.
2022-04-20 12:52:17.307 +02:00 [DBG] Connection id "0HMH2NF7336T9", Request id "0HMH2NF7336T9:00000002": done reading request body.
2022-04-20 12:54:26.775 +02:00 [DBG] Hosting starting
2022-04-20 12:54:27.488 +02:00 [DBG] Using development certificate: CN=localhost (Thumbprint: A40C6697D0C21C2C32B35E9E8F9AD3269C88392E)
2022-04-20 12:54:27.561 +02:00 [INF] Now listening on: https://localhost:5001
2022-04-20 12:54:27.570 +02:00 [INF] Now listening on: http://localhost:5000
2022-04-20 12:54:27.572 +02:00 [DBG] Loaded hosting startup assembly CityInfo.API
2022-04-20 12:54:27.573 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2022-04-20 12:54:27.575 +02:00 [INF] Hosting environment: Development
2022-04-20 12:54:27.576 +02:00 [INF] Content root path: C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API
2022-04-20 12:54:27.577 +02:00 [DBG] Hosting started
2022-04-20 12:54:28.058 +02:00 [DBG] Connection id "0HMH2NGI0T0VO" received FIN.
2022-04-20 12:54:28.058 +02:00 [DBG] Connection id "0HMH2NGI0T0VN" received FIN.
2022-04-20 12:54:28.062 +02:00 [DBG] Connection id "0HMH2NGI0T0VO" accepted.
2022-04-20 12:54:28.062 +02:00 [DBG] Connection id "0HMH2NGI0T0VN" accepted.
2022-04-20 12:54:28.065 +02:00 [DBG] Connection id "0HMH2NGI0T0VO" started.
2022-04-20 12:54:28.065 +02:00 [DBG] Connection id "0HMH2NGI0T0VN" started.
2022-04-20 12:54:28.130 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-04-20 12:54:28.130 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-04-20 12:54:28.333 +02:00 [DBG] Connection id "0HMH2NGI0T0VO" stopped.
2022-04-20 12:54:28.333 +02:00 [DBG] Connection id "0HMH2NGI0T0VN" stopped.
2022-04-20 12:54:28.353 +02:00 [DBG] Connection id "0HMH2NGI0T0VN" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-04-20 12:54:28.353 +02:00 [DBG] Connection id "0HMH2NGI0T0VO" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-04-20 12:54:29.019 +02:00 [DBG] Connection id "0HMH2NGI0T0VP" accepted.
2022-04-20 12:54:29.021 +02:00 [DBG] Connection id "0HMH2NGI0T0VP" started.
2022-04-20 12:54:29.196 +02:00 [DBG] Connection "0HMH2NGI0T0VP" established using the following protocol: "Tls12"
2022-04-20 12:54:29.281 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - -
2022-04-20 12:54:29.287 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-04-20 12:54:29.464 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - - - 200 - text/html;charset=utf-8 189.3908ms
2022-04-20 12:54:29.985 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - -
2022-04-20 12:54:30.260 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 274.5596ms
2022-04-20 12:54:34.204 +02:00 [DBG] Connection id "0HMH2NGI0T0VQ" accepted.
2022-04-20 12:54:34.204 +02:00 [DBG] Connection id "0HMH2NGI0T0VR" received FIN.
2022-04-20 12:54:34.206 +02:00 [DBG] Connection id "0HMH2NGI0T0VQ" started.
2022-04-20 12:54:34.208 +02:00 [DBG] Connection id "0HMH2NGI0T0VS" accepted.
2022-04-20 12:54:34.212 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-04-20 12:54:34.214 +02:00 [DBG] Connection id "0HMH2NGI0T0VS" started.
2022-04-20 12:54:34.223 +02:00 [DBG] Connection id "0HMH2NGI0T0VQ" stopped.
2022-04-20 12:54:34.226 +02:00 [DBG] Connection id "0HMH2NGI0T0VQ" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-04-20 12:54:34.232 +02:00 [DBG] Connection "0HMH2NGI0T0VS" established using the following protocol: "Tls12"
2022-04-20 12:54:34.249 +02:00 [INF] Request starting HTTP/1.1 PUT https://localhost:5001/api/cities/1/pointsofinterest/1 application/json 122
2022-04-20 12:54:34.256 +02:00 [DBG] PUT requests are not supported
2022-04-20 12:54:34.320 +02:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/1'
2022-04-20 12:54:34.330 +02:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.UpdatePointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest/{pointofinterestid}' is valid for the request path '/api/cities/1/pointsofinterest/1'
2022-04-20 12:54:34.334 +02:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.UpdatePointOfInterest (CityInfo.API)'
2022-04-20 12:54:34.340 +02:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.UpdatePointOfInterest (CityInfo.API)'
2022-04-20 12:54:34.358 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-04-20 12:54:34.425 +02:00 [INF] Route matched with {action = "UpdatePointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult UpdatePointOfInterest(Int32, Int32, CityInfo.Application.Dto.PointOfInterestForUpdateDto) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2022-04-20 12:54:34.428 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-04-20 12:54:34.430 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-04-20 12:54:34.431 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-04-20 12:54:34.435 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-04-20 12:54:34.441 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-04-20 12:54:34.446 +02:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2022-04-20 12:54:34.673 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2022-04-20 12:54:34.978 +02:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2022-04-20 12:54:34.993 +02:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2022-04-20 12:54:34.997 +02:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2022-04-20 12:54:35.002 +02:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2022-04-20 12:54:35.005 +02:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2022-04-20 12:54:35.008 +02:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2022-04-20 12:54:35.015 +02:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2022-04-20 12:54:35.020 +02:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' ...
2022-04-20 12:54:35.022 +02:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' using the name 'pointOfInterestId' in request data ...
2022-04-20 12:54:35.026 +02:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2022-04-20 12:54:35.028 +02:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2022-04-20 12:54:35.030 +02:00 [DBG] Attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32' ...
2022-04-20 12:54:35.038 +02:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32'.
2022-04-20 12:54:35.042 +02:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.Application.Dto.PointOfInterestForUpdateDto' ...
2022-04-20 12:54:35.047 +02:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.Application.Dto.PointOfInterestForUpdateDto' using the name '' in request data ...
2022-04-20 12:54:35.061 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2022-04-20 12:54:35.071 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2022-04-20 12:54:35.081 +02:00 [DBG] Connection id "0HMH2NGI0T0VS", Request id "0HMH2NGI0T0VS:00000002": started reading request body.
2022-04-20 12:54:35.083 +02:00 [DBG] Connection id "0HMH2NGI0T0VS", Request id "0HMH2NGI0T0VS:00000002": done reading request body.
2022-04-20 12:54:35.250 +02:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.Application.Dto.PointOfInterestForUpdateDto'.
2022-04-20 12:54:35.253 +02:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.Application.Dto.PointOfInterestForUpdateDto'.
2022-04-20 12:54:35.255 +02:00 [DBG] Attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.Application.Dto.PointOfInterestForUpdateDto' ...
2022-04-20 12:54:35.267 +02:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.Application.Dto.PointOfInterestForUpdateDto'.
2022-04-20 12:54:36.389 +02:00 [INF] Entity Framework Core 5.0.15 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: None
2022-04-20 12:54:36.434 +02:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(c => c.Id == __cityId_0)'
2022-04-20 12:54:36.630 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                Projection Mapping:
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.Infrastructure.DbContexts.CityInfoContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2022-04-20 12:54:36.702 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-04-20 12:54:36.869 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (162ms).
2022-04-20 12:54:36.881 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-04-20 12:54:36.909 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API\CityInfo.db'.
2022-04-20 12:54:36.932 +02:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2022-04-20 12:54:36.989 +02:00 [INF] Executed DbCommand (56ms) [Parameters=[@__cityId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2022-04-20 12:54:37.009 +02:00 [DBG] A data reader was disposed.
2022-04-20 12:54:37.018 +02:00 [DBG] Closing connection to database 'main' on server 'C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API\CityInfo.db'.
2022-04-20 12:54:37.026 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-04-20 12:54:37.034 +02:00 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .Where(p => p.CityId == __cityId_0 && p.Id == __pointOfInterestId_1)
    .FirstOrDefault()'
2022-04-20 12:54:37.095 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<PointOfInterest>(
    asyncEnumerable: new SingleQueryingEnumerable<PointOfInterest>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string) MaxLength(200), 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3], }
            SELECT TOP(1) p.Id, p.CityId, p.Description, p.Name
            FROM PointsOfInterest AS p
            WHERE (p.CityId == @__cityId_0) && (p.Id == @__pointOfInterestId_1)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterest>, 
        CityInfo.Infrastructure.DbContexts.CityInfoContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2022-04-20 12:54:37.107 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-04-20 12:54:37.109 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-04-20 12:54:37.110 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-04-20 12:54:37.113 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API\CityInfo.db'.
2022-04-20 12:54:37.115 +02:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?', @__pointOfInterestId_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointOfInterestId_1)
LIMIT 1
2022-04-20 12:54:37.124 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__cityId_0='?', @__pointOfInterestId_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointOfInterestId_1)
LIMIT 1
2022-04-20 12:54:37.143 +02:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-04-20 12:54:37.180 +02:00 [DBG] A data reader was disposed.
2022-04-20 12:54:37.181 +02:00 [DBG] Closing connection to database 'main' on server 'C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API\CityInfo.db'.
2022-04-20 12:54:37.184 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-04-20 12:54:37.200 +02:00 [DBG] SaveChanges starting for 'CityInfoContext'.
2022-04-20 12:54:37.206 +02:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2022-04-20 12:54:37.221 +02:00 [DBG] The unchanged property 'PointOfInterest.Description' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2022-04-20 12:54:37.235 +02:00 [DBG] An entity of type 'PointOfInterest' tracked by 'CityInfoContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-04-20 12:54:37.239 +02:00 [DBG] The unchanged property 'PointOfInterest.Name' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2022-04-20 12:54:37.246 +02:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2022-04-20 12:54:37.270 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-04-20 12:54:37.272 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API\CityInfo.db'.
2022-04-20 12:54:37.277 +02:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2022-04-20 12:54:37.285 +02:00 [DBG] Began transaction with isolation level 'Serializable'.
2022-04-20 12:54:37.342 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-04-20 12:54:37.344 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-04-20 12:54:37.347 +02:00 [DBG] Executing DbCommand [Parameters=[@p2='?', @p0='?' (Size = 59), @p1='?' (Size = 22)], CommandType='"Text"', CommandTimeout='30']
UPDATE "PointsOfInterest" SET "Description" = @p0, "Name" = @p1
WHERE "Id" = @p2;
SELECT changes();
2022-04-20 12:54:37.353 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@p2='?', @p0='?' (Size = 59), @p1='?' (Size = 22)], CommandType='"Text"', CommandTimeout='30']
UPDATE "PointsOfInterest" SET "Description" = @p0, "Name" = @p1
WHERE "Id" = @p2;
SELECT changes();
2022-04-20 12:54:37.369 +02:00 [DBG] A data reader was disposed.
2022-04-20 12:54:37.378 +02:00 [DBG] Committing transaction.
2022-04-20 12:54:37.394 +02:00 [DBG] Committed transaction.
2022-04-20 12:54:37.398 +02:00 [DBG] Closing connection to database 'main' on server 'C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API\CityInfo.db'.
2022-04-20 12:54:37.409 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-04-20 12:54:37.414 +02:00 [DBG] Disposing transaction.
2022-04-20 12:54:37.425 +02:00 [DBG] An entity of type 'PointOfInterest' tracked by 'CityInfoContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-04-20 12:54:37.430 +02:00 [DBG] SaveChanges completed for 'CityInfoContext' with 1 entities written to the database.
2022-04-20 12:54:37.440 +02:00 [INF] Executing HttpStatusCodeResult, setting HTTP status code 204
2022-04-20 12:54:37.447 +02:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.UpdatePointOfInterest (CityInfo.API) in 2996.96ms
2022-04-20 12:54:37.452 +02:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.UpdatePointOfInterest (CityInfo.API)'
2022-04-20 12:54:37.454 +02:00 [DBG] Connection id "0HMH2NGI0T0VS" completed keep alive response.
2022-04-20 12:54:37.457 +02:00 [DBG] 'CityInfoContext' disposed.
2022-04-20 12:54:37.461 +02:00 [INF] Request finished HTTP/1.1 PUT https://localhost:5001/api/cities/1/pointsofinterest/1 application/json 122 - 204 - - 3212.0115ms
2022-04-20 12:54:57.610 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/cities/1/pointsofinterest/1 application/json 122
2022-04-20 12:54:57.618 +02:00 [DBG] The request path  does not match the path filter
2022-04-20 12:54:57.624 +02:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/1'
2022-04-20 12:54:57.625 +02:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest/{pointofinterestid}' is valid for the request path '/api/cities/1/pointsofinterest/1'
2022-04-20 12:54:57.630 +02:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)'
2022-04-20 12:54:57.633 +02:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)'
2022-04-20 12:54:57.644 +02:00 [INF] Route matched with {action = "GetPointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.Application.Dto.PointOfInterestDto] GetPointOfInterest(Int32, Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2022-04-20 12:54:57.649 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-04-20 12:54:57.651 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-04-20 12:54:57.658 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-04-20 12:54:57.661 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-04-20 12:54:57.663 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-04-20 12:54:57.666 +02:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2022-04-20 12:54:57.677 +02:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2022-04-20 12:54:57.680 +02:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2022-04-20 12:54:57.681 +02:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2022-04-20 12:54:57.686 +02:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2022-04-20 12:54:57.688 +02:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2022-04-20 12:54:57.690 +02:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2022-04-20 12:54:57.692 +02:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2022-04-20 12:54:57.694 +02:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' ...
2022-04-20 12:54:57.696 +02:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' using the name 'pointOfInterestId' in request data ...
2022-04-20 12:54:57.702 +02:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2022-04-20 12:54:57.704 +02:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2022-04-20 12:54:57.707 +02:00 [DBG] Attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32' ...
2022-04-20 12:54:57.708 +02:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32'.
2022-04-20 12:54:57.744 +02:00 [INF] Entity Framework Core 5.0.15 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: None
2022-04-20 12:54:57.750 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-04-20 12:54:57.751 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-04-20 12:54:57.752 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-04-20 12:54:57.755 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API\CityInfo.db'.
2022-04-20 12:54:57.757 +02:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2022-04-20 12:54:57.764 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__cityId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2022-04-20 12:54:57.769 +02:00 [DBG] A data reader was disposed.
2022-04-20 12:54:57.770 +02:00 [DBG] Closing connection to database 'main' on server 'C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API\CityInfo.db'.
2022-04-20 12:54:57.774 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-04-20 12:54:57.783 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-04-20 12:54:57.785 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-04-20 12:54:57.789 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-04-20 12:54:57.794 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API\CityInfo.db'.
2022-04-20 12:54:57.797 +02:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?', @__pointOfInterestId_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointOfInterestId_1)
LIMIT 1
2022-04-20 12:54:57.810 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[@__cityId_0='?', @__pointOfInterestId_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointOfInterestId_1)
LIMIT 1
2022-04-20 12:54:57.816 +02:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-04-20 12:54:57.821 +02:00 [DBG] A data reader was disposed.
2022-04-20 12:54:57.832 +02:00 [DBG] Closing connection to database 'main' on server 'C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API\CityInfo.db'.
2022-04-20 12:54:57.852 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-04-20 12:54:57.930 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2022-04-20 12:54:57.961 +02:00 [DBG] No information found on request to perform content negotiation.
2022-04-20 12:54:57.963 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-04-20 12:54:57.970 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-04-20 12:54:57.976 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-04-20 12:54:57.986 +02:00 [INF] Executing OkObjectResult, writing value of type 'CityInfo.Application.Dto.PointOfInterestDto'.
2022-04-20 12:54:58.048 +02:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API) in 382.2755ms
2022-04-20 12:54:58.051 +02:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)'
2022-04-20 12:54:58.052 +02:00 [DBG] Connection id "0HMH2NGI0T0VS" completed keep alive response.
2022-04-20 12:54:58.054 +02:00 [DBG] 'CityInfoContext' disposed.
2022-04-20 12:54:58.057 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/cities/1/pointsofinterest/1 application/json 122 - 200 116 application/json;+charset=utf-8 446.9254ms
2022-04-20 12:54:58.058 +02:00 [DBG] Connection id "0HMH2NGI0T0VS", Request id "0HMH2NGI0T0VS:00000003": started reading request body.
2022-04-20 12:54:58.062 +02:00 [DBG] Connection id "0HMH2NGI0T0VS", Request id "0HMH2NGI0T0VS:00000003": done reading request body.
2022-04-20 13:04:09.850 +02:00 [DBG] Hosting starting
2022-04-20 13:04:10.372 +02:00 [DBG] Using development certificate: CN=localhost (Thumbprint: A40C6697D0C21C2C32B35E9E8F9AD3269C88392E)
2022-04-20 13:04:10.441 +02:00 [INF] Now listening on: https://localhost:5001
2022-04-20 13:04:10.455 +02:00 [INF] Now listening on: http://localhost:5000
2022-04-20 13:04:10.469 +02:00 [DBG] Loaded hosting startup assembly CityInfo.API
2022-04-20 13:04:10.478 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2022-04-20 13:04:10.495 +02:00 [INF] Hosting environment: Development
2022-04-20 13:04:10.498 +02:00 [INF] Content root path: C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API
2022-04-20 13:04:10.500 +02:00 [DBG] Hosting started
2022-04-20 13:04:10.538 +02:00 [DBG] Connection id "0HMH2NLVJSQHA" received FIN.
2022-04-20 13:04:10.539 +02:00 [DBG] Connection id "0HMH2NLVJSQHA" accepted.
2022-04-20 13:04:10.543 +02:00 [DBG] Connection id "0HMH2NLVJSQHA" started.
2022-04-20 13:04:10.575 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-04-20 13:04:10.773 +02:00 [DBG] Connection id "0HMH2NLVJSQHA" stopped.
2022-04-20 13:04:10.783 +02:00 [DBG] Connection id "0HMH2NLVJSQHA" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-04-20 13:04:11.137 +02:00 [DBG] Connection id "0HMH2NLVJSQHB" accepted.
2022-04-20 13:04:11.197 +02:00 [DBG] Connection id "0HMH2NLVJSQHB" started.
2022-04-20 13:04:11.467 +02:00 [DBG] Connection "0HMH2NLVJSQHB" established using the following protocol: "Tls12"
2022-04-20 13:04:11.555 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - -
2022-04-20 13:04:11.559 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-04-20 13:04:11.722 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - - - 200 - text/html;charset=utf-8 170.8856ms
2022-04-20 13:04:12.398 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - -
2022-04-20 13:04:12.735 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 336.5696ms
2022-04-20 13:04:31.406 +02:00 [DBG] Connection id "0HMH2NLVJSQHC" accepted.
2022-04-20 13:04:31.412 +02:00 [DBG] Connection id "0HMH2NLVJSQHC" received FIN.
2022-04-20 13:04:31.413 +02:00 [DBG] Connection id "0HMH2NLVJSQHC" started.
2022-04-20 13:04:31.413 +02:00 [DBG] Connection id "0HMH2NLVJSQHD" accepted.
2022-04-20 13:04:31.417 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-04-20 13:04:31.418 +02:00 [DBG] Connection id "0HMH2NLVJSQHD" started.
2022-04-20 13:04:31.423 +02:00 [DBG] Connection id "0HMH2NLVJSQHC" stopped.
2022-04-20 13:04:31.435 +02:00 [DBG] Connection id "0HMH2NLVJSQHC" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-04-20 13:04:31.437 +02:00 [DBG] Connection "0HMH2NLVJSQHD" established using the following protocol: "Tls12"
2022-04-20 13:04:31.448 +02:00 [INF] Request starting HTTP/1.1 PATCH https://localhost:5001/api/cities/1/pointsofinterest/1 application/json 106
2022-04-20 13:04:31.454 +02:00 [DBG] PATCH requests are not supported
2022-04-20 13:04:31.501 +02:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/1'
2022-04-20 13:04:31.511 +02:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.PartiallUpdatePointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest/{pointofinterestid}' is valid for the request path '/api/cities/1/pointsofinterest/1'
2022-04-20 13:04:31.515 +02:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.PartiallUpdatePointOfInterest (CityInfo.API)'
2022-04-20 13:04:31.518 +02:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.PartiallUpdatePointOfInterest (CityInfo.API)'
2022-04-20 13:04:31.536 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-04-20 13:04:31.613 +02:00 [INF] Route matched with {action = "PartiallUpdatePointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult PartiallUpdatePointOfInterest(Int32, Int32, Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[CityInfo.Application.Dto.PointOfInterestForUpdateDto]) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2022-04-20 13:04:31.619 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-04-20 13:04:31.621 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-04-20 13:04:31.623 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-04-20 13:04:31.626 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-04-20 13:04:31.629 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-04-20 13:04:31.637 +02:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2022-04-20 13:04:31.803 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2022-04-20 13:04:32.034 +02:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2022-04-20 13:04:32.044 +02:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2022-04-20 13:04:32.047 +02:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2022-04-20 13:04:32.050 +02:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2022-04-20 13:04:32.051 +02:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2022-04-20 13:04:32.052 +02:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2022-04-20 13:04:32.060 +02:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2022-04-20 13:04:32.063 +02:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' ...
2022-04-20 13:04:32.065 +02:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' using the name 'pointOfInterestId' in request data ...
2022-04-20 13:04:32.067 +02:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2022-04-20 13:04:32.068 +02:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2022-04-20 13:04:32.071 +02:00 [DBG] Attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32' ...
2022-04-20 13:04:32.074 +02:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32'.
2022-04-20 13:04:32.075 +02:00 [DBG] Attempting to bind parameter 'patchDocumentDto' of type 'Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[CityInfo.Application.Dto.PointOfInterestForUpdateDto]' ...
2022-04-20 13:04:32.077 +02:00 [DBG] Attempting to bind parameter 'patchDocumentDto' of type 'Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[CityInfo.Application.Dto.PointOfInterestForUpdateDto]' using the name '' in request data ...
2022-04-20 13:04:32.080 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2022-04-20 13:04:32.083 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2022-04-20 13:04:32.091 +02:00 [DBG] Connection id "0HMH2NLVJSQHD", Request id "0HMH2NLVJSQHD:00000002": started reading request body.
2022-04-20 13:04:32.092 +02:00 [DBG] Connection id "0HMH2NLVJSQHD", Request id "0HMH2NLVJSQHD:00000002": done reading request body.
2022-04-20 13:04:32.432 +02:00 [DBG] Done attempting to bind parameter 'patchDocumentDto' of type 'Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[CityInfo.Application.Dto.PointOfInterestForUpdateDto]'.
2022-04-20 13:04:32.434 +02:00 [DBG] Done attempting to bind parameter 'patchDocumentDto' of type 'Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[CityInfo.Application.Dto.PointOfInterestForUpdateDto]'.
2022-04-20 13:04:32.437 +02:00 [DBG] Attempting to validate the bound parameter 'patchDocumentDto' of type 'Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[CityInfo.Application.Dto.PointOfInterestForUpdateDto]' ...
2022-04-20 13:04:32.445 +02:00 [DBG] Done attempting to validate the bound parameter 'patchDocumentDto' of type 'Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[CityInfo.Application.Dto.PointOfInterestForUpdateDto]'.
2022-04-20 13:04:33.479 +02:00 [INF] Entity Framework Core 5.0.15 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: None
2022-04-20 13:04:33.525 +02:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(c => c.Id == __cityId_0)'
2022-04-20 13:04:33.720 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                Projection Mapping:
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.Infrastructure.DbContexts.CityInfoContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2022-04-20 13:04:33.792 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-04-20 13:04:33.962 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (165ms).
2022-04-20 13:04:33.974 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-04-20 13:04:34.002 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API\CityInfo.db'.
2022-04-20 13:04:34.018 +02:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2022-04-20 13:04:34.065 +02:00 [INF] Executed DbCommand (42ms) [Parameters=[@__cityId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2022-04-20 13:04:34.092 +02:00 [DBG] A data reader was disposed.
2022-04-20 13:04:34.102 +02:00 [DBG] Closing connection to database 'main' on server 'C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API\CityInfo.db'.
2022-04-20 13:04:34.115 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-04-20 13:04:34.123 +02:00 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .Where(p => p.CityId == __cityId_0 && p.Id == __pointOfInterestId_1)
    .FirstOrDefault()'
2022-04-20 13:04:34.177 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<PointOfInterest>(
    asyncEnumerable: new SingleQueryingEnumerable<PointOfInterest>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string) MaxLength(200), 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3], }
            SELECT TOP(1) p.Id, p.CityId, p.Description, p.Name
            FROM PointsOfInterest AS p
            WHERE (p.CityId == @__cityId_0) && (p.Id == @__pointOfInterestId_1)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterest>, 
        CityInfo.Infrastructure.DbContexts.CityInfoContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2022-04-20 13:04:34.193 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-04-20 13:04:34.194 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-04-20 13:04:34.196 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-04-20 13:04:34.199 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API\CityInfo.db'.
2022-04-20 13:04:34.200 +02:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?', @__pointOfInterestId_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointOfInterestId_1)
LIMIT 1
2022-04-20 13:04:34.211 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@__cityId_0='?', @__pointOfInterestId_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointOfInterestId_1)
LIMIT 1
2022-04-20 13:04:34.228 +02:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-04-20 13:04:34.329 +02:00 [DBG] A data reader was disposed.
2022-04-20 13:04:34.337 +02:00 [DBG] Closing connection to database 'main' on server 'C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API\CityInfo.db'.
2022-04-20 13:04:34.350 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-04-20 13:04:34.396 +02:00 [DBG] SaveChanges starting for 'CityInfoContext'.
2022-04-20 13:04:34.401 +02:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2022-04-20 13:04:34.416 +02:00 [DBG] The unchanged property 'PointOfInterest.Name' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2022-04-20 13:04:34.430 +02:00 [DBG] An entity of type 'PointOfInterest' tracked by 'CityInfoContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-04-20 13:04:34.438 +02:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2022-04-20 13:04:34.466 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-04-20 13:04:34.469 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API\CityInfo.db'.
2022-04-20 13:04:34.475 +02:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2022-04-20 13:04:34.485 +02:00 [DBG] Began transaction with isolation level 'Serializable'.
2022-04-20 13:04:34.562 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-04-20 13:04:34.563 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-04-20 13:04:34.565 +02:00 [DBG] Executing DbCommand [Parameters=[@p1='?', @p0='?' (Size = 27)], CommandType='"Text"', CommandTimeout='30']
UPDATE "PointsOfInterest" SET "Name" = @p0
WHERE "Id" = @p1;
SELECT changes();
2022-04-20 13:04:34.570 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@p1='?', @p0='?' (Size = 27)], CommandType='"Text"', CommandTimeout='30']
UPDATE "PointsOfInterest" SET "Name" = @p0
WHERE "Id" = @p1;
SELECT changes();
2022-04-20 13:04:34.580 +02:00 [DBG] A data reader was disposed.
2022-04-20 13:04:34.587 +02:00 [DBG] Committing transaction.
2022-04-20 13:04:34.601 +02:00 [DBG] Committed transaction.
2022-04-20 13:04:34.605 +02:00 [DBG] Closing connection to database 'main' on server 'C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API\CityInfo.db'.
2022-04-20 13:04:34.615 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-04-20 13:04:34.620 +02:00 [DBG] Disposing transaction.
2022-04-20 13:04:34.630 +02:00 [DBG] An entity of type 'PointOfInterest' tracked by 'CityInfoContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-04-20 13:04:34.636 +02:00 [DBG] SaveChanges completed for 'CityInfoContext' with 1 entities written to the database.
2022-04-20 13:04:34.643 +02:00 [INF] Executing HttpStatusCodeResult, setting HTTP status code 204
2022-04-20 13:04:34.651 +02:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.PartiallUpdatePointOfInterest (CityInfo.API) in 3008.6616ms
2022-04-20 13:04:34.653 +02:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.PartiallUpdatePointOfInterest (CityInfo.API)'
2022-04-20 13:04:34.656 +02:00 [DBG] Connection id "0HMH2NLVJSQHD" completed keep alive response.
2022-04-20 13:04:34.662 +02:00 [DBG] 'CityInfoContext' disposed.
2022-04-20 13:04:34.667 +02:00 [INF] Request finished HTTP/1.1 PATCH https://localhost:5001/api/cities/1/pointsofinterest/1 application/json 106 - 204 - - 3218.8033ms
2022-04-20 13:04:42.046 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/cities/1/pointsofinterest/1 application/json 106
2022-04-20 13:04:42.048 +02:00 [DBG] The request path  does not match the path filter
2022-04-20 13:04:42.050 +02:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/1'
2022-04-20 13:04:42.051 +02:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest/{pointofinterestid}' is valid for the request path '/api/cities/1/pointsofinterest/1'
2022-04-20 13:04:42.054 +02:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)'
2022-04-20 13:04:42.056 +02:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)'
2022-04-20 13:04:42.060 +02:00 [INF] Route matched with {action = "GetPointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.Application.Dto.PointOfInterestDto] GetPointOfInterest(Int32, Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2022-04-20 13:04:42.062 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-04-20 13:04:42.065 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-04-20 13:04:42.067 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-04-20 13:04:42.072 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-04-20 13:04:42.075 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-04-20 13:04:42.077 +02:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2022-04-20 13:04:42.079 +02:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2022-04-20 13:04:42.081 +02:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2022-04-20 13:04:42.082 +02:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2022-04-20 13:04:42.086 +02:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2022-04-20 13:04:42.089 +02:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2022-04-20 13:04:42.091 +02:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2022-04-20 13:04:42.093 +02:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2022-04-20 13:04:42.094 +02:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' ...
2022-04-20 13:04:42.096 +02:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' using the name 'pointOfInterestId' in request data ...
2022-04-20 13:04:42.097 +02:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2022-04-20 13:04:42.099 +02:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2022-04-20 13:04:42.103 +02:00 [DBG] Attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32' ...
2022-04-20 13:04:42.105 +02:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32'.
2022-04-20 13:04:42.151 +02:00 [INF] Entity Framework Core 5.0.15 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: None
2022-04-20 13:04:42.159 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-04-20 13:04:42.161 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-04-20 13:04:42.163 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-04-20 13:04:42.173 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API\CityInfo.db'.
2022-04-20 13:04:42.175 +02:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2022-04-20 13:04:42.187 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@__cityId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2022-04-20 13:04:42.191 +02:00 [DBG] A data reader was disposed.
2022-04-20 13:04:42.192 +02:00 [DBG] Closing connection to database 'main' on server 'C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API\CityInfo.db'.
2022-04-20 13:04:42.200 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-04-20 13:04:42.203 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-04-20 13:04:42.204 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-04-20 13:04:42.209 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-04-20 13:04:42.225 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API\CityInfo.db'.
2022-04-20 13:04:42.237 +02:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?', @__pointOfInterestId_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointOfInterestId_1)
LIMIT 1
2022-04-20 13:04:42.257 +02:00 [INF] Executed DbCommand (20ms) [Parameters=[@__cityId_0='?', @__pointOfInterestId_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointOfInterestId_1)
LIMIT 1
2022-04-20 13:04:42.268 +02:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-04-20 13:04:42.271 +02:00 [DBG] A data reader was disposed.
2022-04-20 13:04:42.272 +02:00 [DBG] Closing connection to database 'main' on server 'C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API\CityInfo.db'.
2022-04-20 13:04:42.294 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-04-20 13:04:42.310 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2022-04-20 13:04:42.320 +02:00 [DBG] No information found on request to perform content negotiation.
2022-04-20 13:04:42.323 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-04-20 13:04:42.326 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-04-20 13:04:42.331 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-04-20 13:04:42.333 +02:00 [INF] Executing OkObjectResult, writing value of type 'CityInfo.Application.Dto.PointOfInterestDto'.
2022-04-20 13:04:42.391 +02:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API) in 314.6888ms
2022-04-20 13:04:42.394 +02:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)'
2022-04-20 13:04:42.395 +02:00 [DBG] Connection id "0HMH2NLVJSQHD" completed keep alive response.
2022-04-20 13:04:42.397 +02:00 [DBG] 'CityInfoContext' disposed.
2022-04-20 13:04:42.399 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/cities/1/pointsofinterest/1 application/json 106 - 200 121 application/json;+charset=utf-8 352.5444ms
2022-04-20 13:04:42.402 +02:00 [DBG] Connection id "0HMH2NLVJSQHD", Request id "0HMH2NLVJSQHD:00000003": started reading request body.
2022-04-20 13:04:42.406 +02:00 [DBG] Connection id "0HMH2NLVJSQHD", Request id "0HMH2NLVJSQHD:00000003": done reading request body.
2022-04-20 13:14:47.057 +02:00 [DBG] Hosting starting
2022-04-20 13:14:47.583 +02:00 [DBG] Using development certificate: CN=localhost (Thumbprint: A40C6697D0C21C2C32B35E9E8F9AD3269C88392E)
2022-04-20 13:14:47.654 +02:00 [INF] Now listening on: https://localhost:5001
2022-04-20 13:14:47.655 +02:00 [INF] Now listening on: http://localhost:5000
2022-04-20 13:14:47.657 +02:00 [DBG] Loaded hosting startup assembly CityInfo.API
2022-04-20 13:14:47.658 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2022-04-20 13:14:47.659 +02:00 [INF] Hosting environment: Development
2022-04-20 13:14:47.660 +02:00 [INF] Content root path: C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API
2022-04-20 13:14:47.662 +02:00 [DBG] Hosting started
2022-04-20 13:14:47.904 +02:00 [DBG] Connection id "0HMH2NRTI9EBU" accepted.
2022-04-20 13:14:47.904 +02:00 [DBG] Connection id "0HMH2NRTI9EBU" received FIN.
2022-04-20 13:14:47.904 +02:00 [DBG] Connection id "0HMH2NRTI9EBV" accepted.
2022-04-20 13:14:47.907 +02:00 [DBG] Connection id "0HMH2NRTI9EBV" received FIN.
2022-04-20 13:14:47.909 +02:00 [DBG] Connection id "0HMH2NRTI9EBV" started.
2022-04-20 13:14:47.908 +02:00 [DBG] Connection id "0HMH2NRTI9EBU" started.
2022-04-20 13:14:47.944 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-04-20 13:14:47.944 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-04-20 13:14:48.101 +02:00 [DBG] Connection id "0HMH2NRTI9EBV" stopped.
2022-04-20 13:14:48.101 +02:00 [DBG] Connection id "0HMH2NRTI9EBU" stopped.
2022-04-20 13:14:48.113 +02:00 [DBG] Connection id "0HMH2NRTI9EBV" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-04-20 13:14:48.113 +02:00 [DBG] Connection id "0HMH2NRTI9EBU" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-04-20 13:14:48.686 +02:00 [DBG] Connection id "0HMH2NRTI9EC0" accepted.
2022-04-20 13:14:48.694 +02:00 [DBG] Connection id "0HMH2NRTI9EC0" started.
2022-04-20 13:14:48.799 +02:00 [DBG] Connection "0HMH2NRTI9EC0" established using the following protocol: "Tls12"
2022-04-20 13:14:48.875 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - -
2022-04-20 13:14:48.879 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-04-20 13:14:49.123 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - - - 200 - text/html;charset=utf-8 250.6722ms
2022-04-20 13:14:49.857 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - -
2022-04-20 13:14:50.091 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 233.8236ms
2022-04-20 13:14:57.568 +02:00 [DBG] Connection id "0HMH2NRTI9EC1" accepted.
2022-04-20 13:14:57.569 +02:00 [DBG] Connection id "0HMH2NRTI9EC1" received FIN.
2022-04-20 13:14:57.570 +02:00 [DBG] Connection id "0HMH2NRTI9EC1" started.
2022-04-20 13:14:57.571 +02:00 [DBG] Connection id "0HMH2NRTI9EC2" accepted.
2022-04-20 13:14:57.575 +02:00 [DBG] Connection id "0HMH2NRTI9EC2" started.
2022-04-20 13:14:57.576 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-04-20 13:14:57.589 +02:00 [DBG] Connection id "0HMH2NRTI9EC1" stopped.
2022-04-20 13:14:57.590 +02:00 [DBG] Connection id "0HMH2NRTI9EC1" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-04-20 13:14:57.591 +02:00 [DBG] Connection "0HMH2NRTI9EC2" established using the following protocol: "Tls12"
2022-04-20 13:14:57.606 +02:00 [INF] Request starting HTTP/1.1 DELETE https://localhost:5001/api/cities/1/pointsofinterest/1 - -
2022-04-20 13:14:57.612 +02:00 [DBG] DELETE requests are not supported
2022-04-20 13:14:57.667 +02:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/1'
2022-04-20 13:14:57.676 +02:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.DeletePointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest/{pointOfInterestId}' is valid for the request path '/api/cities/1/pointsofinterest/1'
2022-04-20 13:14:57.680 +02:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.DeletePointOfInterest (CityInfo.API)'
2022-04-20 13:14:57.684 +02:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.DeletePointOfInterest (CityInfo.API)'
2022-04-20 13:14:57.698 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-04-20 13:14:57.759 +02:00 [INF] Route matched with {action = "DeletePointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult DeletePointOfInterest(Int32, Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2022-04-20 13:14:57.763 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-04-20 13:14:57.765 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-04-20 13:14:57.767 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-04-20 13:14:57.772 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-04-20 13:14:57.776 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-04-20 13:14:57.779 +02:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2022-04-20 13:14:57.972 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2022-04-20 13:14:58.422 +02:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2022-04-20 13:14:58.435 +02:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2022-04-20 13:14:58.439 +02:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2022-04-20 13:14:58.442 +02:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2022-04-20 13:14:58.444 +02:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2022-04-20 13:14:58.446 +02:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2022-04-20 13:14:58.453 +02:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2022-04-20 13:14:58.456 +02:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' ...
2022-04-20 13:14:58.458 +02:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' using the name 'pointOfInterestId' in request data ...
2022-04-20 13:14:58.460 +02:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2022-04-20 13:14:58.461 +02:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2022-04-20 13:14:58.463 +02:00 [DBG] Attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32' ...
2022-04-20 13:14:58.468 +02:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32'.
2022-04-20 13:14:59.409 +02:00 [INF] Entity Framework Core 5.0.15 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: None
2022-04-20 13:14:59.451 +02:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(c => c.Id == __cityId_0)'
2022-04-20 13:14:59.638 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                Projection Mapping:
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.Infrastructure.DbContexts.CityInfoContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2022-04-20 13:14:59.691 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-04-20 13:14:59.860 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (165ms).
2022-04-20 13:14:59.872 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-04-20 13:14:59.900 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API\CityInfo.db'.
2022-04-20 13:14:59.919 +02:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2022-04-20 13:14:59.973 +02:00 [INF] Executed DbCommand (48ms) [Parameters=[@__cityId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2022-04-20 13:14:59.995 +02:00 [DBG] A data reader was disposed.
2022-04-20 13:15:00.005 +02:00 [DBG] Closing connection to database 'main' on server 'C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API\CityInfo.db'.
2022-04-20 13:15:00.022 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-04-20 13:15:00.035 +02:00 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .Where(p => p.CityId == __cityId_0 && p.Id == __pointOfInterestId_1)
    .FirstOrDefault()'
2022-04-20 13:15:00.094 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<PointOfInterest>(
    asyncEnumerable: new SingleQueryingEnumerable<PointOfInterest>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string) MaxLength(200), 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3], }
            SELECT TOP(1) p.Id, p.CityId, p.Description, p.Name
            FROM PointsOfInterest AS p
            WHERE (p.CityId == @__cityId_0) && (p.Id == @__pointOfInterestId_1)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterest>, 
        CityInfo.Infrastructure.DbContexts.CityInfoContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2022-04-20 13:15:00.108 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-04-20 13:15:00.109 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-04-20 13:15:00.110 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-04-20 13:15:00.113 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API\CityInfo.db'.
2022-04-20 13:15:00.114 +02:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?', @__pointOfInterestId_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointOfInterestId_1)
LIMIT 1
2022-04-20 13:15:00.121 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__cityId_0='?', @__pointOfInterestId_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointOfInterestId_1)
LIMIT 1
2022-04-20 13:15:00.141 +02:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-04-20 13:15:00.189 +02:00 [DBG] A data reader was disposed.
2022-04-20 13:15:00.190 +02:00 [DBG] Closing connection to database 'main' on server 'C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API\CityInfo.db'.
2022-04-20 13:15:00.195 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-04-20 13:15:00.220 +02:00 [DBG] An entity of type 'PointOfInterest' tracked by 'CityInfoContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-04-20 13:15:00.236 +02:00 [DBG] SaveChanges starting for 'CityInfoContext'.
2022-04-20 13:15:00.242 +02:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2022-04-20 13:15:00.267 +02:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2022-04-20 13:15:00.300 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-04-20 13:15:00.306 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API\CityInfo.db'.
2022-04-20 13:15:00.311 +02:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2022-04-20 13:15:00.319 +02:00 [DBG] Began transaction with isolation level 'Serializable'.
2022-04-20 13:15:00.386 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-04-20 13:15:00.387 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-04-20 13:15:00.390 +02:00 [DBG] Executing DbCommand [Parameters=[@p0='?'], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "PointsOfInterest"
WHERE "Id" = @p0;
SELECT changes();
2022-04-20 13:15:00.395 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?'], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "PointsOfInterest"
WHERE "Id" = @p0;
SELECT changes();
2022-04-20 13:15:00.411 +02:00 [DBG] A data reader was disposed.
2022-04-20 13:15:00.416 +02:00 [DBG] Committing transaction.
2022-04-20 13:15:00.428 +02:00 [DBG] Committed transaction.
2022-04-20 13:15:00.434 +02:00 [DBG] Closing connection to database 'main' on server 'C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API\CityInfo.db'.
2022-04-20 13:15:00.442 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-04-20 13:15:00.447 +02:00 [DBG] Disposing transaction.
2022-04-20 13:15:00.459 +02:00 [DBG] An entity of type 'PointOfInterest' tracked by 'CityInfoContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-04-20 13:15:00.463 +02:00 [DBG] SaveChanges completed for 'CityInfoContext' with 1 entities written to the database.
2022-04-20 13:15:00.474 +02:00 [INF] Executing HttpStatusCodeResult, setting HTTP status code 204
2022-04-20 13:15:00.484 +02:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.DeletePointOfInterest (CityInfo.API) in 2697.5063ms
2022-04-20 13:15:00.487 +02:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.DeletePointOfInterest (CityInfo.API)'
2022-04-20 13:15:00.491 +02:00 [DBG] Connection id "0HMH2NRTI9EC2" completed keep alive response.
2022-04-20 13:15:00.495 +02:00 [DBG] 'CityInfoContext' disposed.
2022-04-20 13:15:00.501 +02:00 [INF] Request finished HTTP/1.1 DELETE https://localhost:5001/api/cities/1/pointsofinterest/1 - - - 204 - - 2895.0307ms
2022-04-20 13:15:06.548 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/cities/1/pointsofinterest/1 - -
2022-04-20 13:15:06.550 +02:00 [DBG] The request path  does not match the path filter
2022-04-20 13:15:06.552 +02:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/1'
2022-04-20 13:15:06.553 +02:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest/{pointofinterestid}' is valid for the request path '/api/cities/1/pointsofinterest/1'
2022-04-20 13:15:06.558 +02:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)'
2022-04-20 13:15:06.560 +02:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)'
2022-04-20 13:15:06.564 +02:00 [INF] Route matched with {action = "GetPointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.Application.Dto.PointOfInterestDto] GetPointOfInterest(Int32, Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2022-04-20 13:15:06.567 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-04-20 13:15:06.568 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-04-20 13:15:06.570 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-04-20 13:15:06.576 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-04-20 13:15:06.578 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-04-20 13:15:06.580 +02:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2022-04-20 13:15:06.583 +02:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2022-04-20 13:15:06.585 +02:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2022-04-20 13:15:06.587 +02:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2022-04-20 13:15:06.592 +02:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2022-04-20 13:15:06.594 +02:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2022-04-20 13:15:06.596 +02:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2022-04-20 13:15:06.598 +02:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2022-04-20 13:15:06.600 +02:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' ...
2022-04-20 13:15:06.602 +02:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' using the name 'pointOfInterestId' in request data ...
2022-04-20 13:15:06.610 +02:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2022-04-20 13:15:06.612 +02:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2022-04-20 13:15:06.614 +02:00 [DBG] Attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32' ...
2022-04-20 13:15:06.616 +02:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32'.
2022-04-20 13:15:06.671 +02:00 [INF] Entity Framework Core 5.0.15 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: None
2022-04-20 13:15:06.679 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-04-20 13:15:06.685 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2022-04-20 13:15:06.686 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-04-20 13:15:06.689 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API\CityInfo.db'.
2022-04-20 13:15:06.692 +02:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2022-04-20 13:15:06.702 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__cityId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2022-04-20 13:15:06.710 +02:00 [DBG] A data reader was disposed.
2022-04-20 13:15:06.720 +02:00 [DBG] Closing connection to database 'main' on server 'C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API\CityInfo.db'.
2022-04-20 13:15:06.729 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-04-20 13:15:06.740 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-04-20 13:15:06.742 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2022-04-20 13:15:06.747 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-04-20 13:15:06.751 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API\CityInfo.db'.
2022-04-20 13:15:06.753 +02:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?', @__pointOfInterestId_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointOfInterestId_1)
LIMIT 1
2022-04-20 13:15:06.767 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__cityId_0='?', @__pointOfInterestId_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointOfInterestId_1)
LIMIT 1
2022-04-20 13:15:06.772 +02:00 [DBG] A data reader was disposed.
2022-04-20 13:15:06.774 +02:00 [DBG] Closing connection to database 'main' on server 'C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API\CityInfo.db'.
2022-04-20 13:15:06.787 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-04-20 13:15:06.793 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2022-04-20 13:15:06.801 +02:00 [DBG] No information found on request to perform content negotiation.
2022-04-20 13:15:06.803 +02:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml"]'.
2022-04-20 13:15:06.811 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2022-04-20 13:15:06.814 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2022-04-20 13:15:07.014 +02:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API) in 434.126ms
2022-04-20 13:15:07.016 +02:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)'
2022-04-20 13:15:07.018 +02:00 [DBG] Connection id "0HMH2NRTI9EC2" completed keep alive response.
2022-04-20 13:15:07.019 +02:00 [DBG] 'CityInfoContext' disposed.
2022-04-20 13:15:07.021 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/cities/1/pointsofinterest/1 - - - 404 161 application/problem+json;+charset=utf-8 472.9626ms
2022-04-20 13:15:29.405 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/cities/1/pointsofinterest - -
2022-04-20 13:15:29.417 +02:00 [DBG] The request path  does not match the path filter
2022-04-20 13:15:29.418 +02:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest'
2022-04-20 13:15:29.420 +02:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetAllPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/1/pointsofinterest'
2022-04-20 13:15:29.423 +02:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetAllPointsOfInterest (CityInfo.API)'
2022-04-20 13:15:29.427 +02:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetAllPointsOfInterest (CityInfo.API)'
2022-04-20 13:15:29.432 +02:00 [INF] Route matched with {action = "GetAllPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.Application.Dto.PointOfInterestDto]] GetAllPointsOfInterest(Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2022-04-20 13:15:29.436 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-04-20 13:15:29.438 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-04-20 13:15:29.445 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-04-20 13:15:29.453 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-04-20 13:15:29.459 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-04-20 13:15:29.463 +02:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2022-04-20 13:15:29.467 +02:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2022-04-20 13:15:29.470 +02:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2022-04-20 13:15:29.480 +02:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2022-04-20 13:15:29.482 +02:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2022-04-20 13:15:29.484 +02:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2022-04-20 13:15:29.486 +02:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2022-04-20 13:15:29.491 +02:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2022-04-20 13:15:29.504 +02:00 [INF] Entity Framework Core 5.0.15 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: None
2022-04-20 13:15:29.509 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-04-20 13:15:29.510 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-04-20 13:15:29.512 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-04-20 13:15:29.515 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API\CityInfo.db'.
2022-04-20 13:15:29.517 +02:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2022-04-20 13:15:29.528 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@__cityId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2022-04-20 13:15:29.541 +02:00 [DBG] A data reader was disposed.
2022-04-20 13:15:29.542 +02:00 [DBG] Closing connection to database 'main' on server 'C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API\CityInfo.db'.
2022-04-20 13:15:29.546 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-04-20 13:15:29.562 +02:00 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .Where(prop => prop.CityId == __cityId_0)'
2022-04-20 13:15:29.573 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<PointOfInterest>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string) MaxLength(200), 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3], }
        SELECT p.Id, p.CityId, p.Description, p.Name
        FROM PointsOfInterest AS p
        WHERE p.CityId == @__cityId_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterest>, 
    CityInfo.Infrastructure.DbContexts.CityInfoContext, 
    False, 
    False
)'
2022-04-20 13:15:29.578 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-04-20 13:15:29.579 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-04-20 13:15:29.586 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-04-20 13:15:29.591 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API\CityInfo.db'.
2022-04-20 13:15:29.593 +02:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE "p"."CityId" = @__cityId_0
2022-04-20 13:15:29.606 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[@__cityId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE "p"."CityId" = @__cityId_0
2022-04-20 13:15:29.610 +02:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-04-20 13:15:29.615 +02:00 [DBG] A data reader was disposed.
2022-04-20 13:15:29.616 +02:00 [DBG] Closing connection to database 'main' on server 'C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API\CityInfo.db'.
2022-04-20 13:15:29.620 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-04-20 13:15:29.647 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2022-04-20 13:15:29.655 +02:00 [DBG] No information found on request to perform content negotiation.
2022-04-20 13:15:29.657 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-04-20 13:15:29.661 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-04-20 13:15:29.663 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-04-20 13:15:29.666 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.Application.Dto.PointOfInterestDto, CityInfo.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-04-20 13:15:29.688 +02:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetAllPointsOfInterest (CityInfo.API) in 224.9641ms
2022-04-20 13:15:29.695 +02:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetAllPointsOfInterest (CityInfo.API)'
2022-04-20 13:15:29.697 +02:00 [DBG] Connection id "0HMH2NRTI9EC2" completed keep alive response.
2022-04-20 13:15:29.698 +02:00 [DBG] 'CityInfoContext' disposed.
2022-04-20 13:15:29.699 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/cities/1/pointsofinterest - - - 200 108 application/json;+charset=utf-8 293.8879ms
2022-04-20 14:15:50.292 +02:00 [DBG] Hosting starting
2022-04-20 14:15:51.065 +02:00 [DBG] Using development certificate: CN=localhost (Thumbprint: A40C6697D0C21C2C32B35E9E8F9AD3269C88392E)
2022-04-20 14:15:51.125 +02:00 [INF] Now listening on: https://localhost:5001
2022-04-20 14:15:51.132 +02:00 [INF] Now listening on: http://localhost:5000
2022-04-20 14:15:51.134 +02:00 [DBG] Loaded hosting startup assembly CityInfo.API
2022-04-20 14:15:51.135 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2022-04-20 14:15:51.138 +02:00 [INF] Hosting environment: Development
2022-04-20 14:15:51.139 +02:00 [INF] Content root path: C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API
2022-04-20 14:15:51.140 +02:00 [DBG] Hosting started
2022-04-20 14:15:51.497 +02:00 [DBG] Connection id "0HMH2OU1CT0Q0" accepted.
2022-04-20 14:15:51.497 +02:00 [DBG] Connection id "0HMH2OU1CT0PV" accepted.
2022-04-20 14:15:51.501 +02:00 [DBG] Connection id "0HMH2OU1CT0Q0" started.
2022-04-20 14:15:51.502 +02:00 [DBG] Connection id "0HMH2OU1CT0PV" started.
2022-04-20 14:15:51.502 +02:00 [DBG] Connection id "0HMH2OU1CT0Q0" received FIN.
2022-04-20 14:15:51.502 +02:00 [DBG] Connection id "0HMH2OU1CT0PV" received FIN.
2022-04-20 14:15:51.539 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-04-20 14:15:51.539 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-04-20 14:15:51.671 +02:00 [DBG] Connection id "0HMH2OU1CT0PV" stopped.
2022-04-20 14:15:51.671 +02:00 [DBG] Connection id "0HMH2OU1CT0Q0" stopped.
2022-04-20 14:15:51.686 +02:00 [DBG] Connection id "0HMH2OU1CT0PV" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-04-20 14:15:51.686 +02:00 [DBG] Connection id "0HMH2OU1CT0Q0" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-04-20 14:15:52.727 +02:00 [DBG] Connection id "0HMH2OU1CT0Q1" accepted.
2022-04-20 14:15:52.730 +02:00 [DBG] Connection id "0HMH2OU1CT0Q1" started.
2022-04-20 14:15:52.833 +02:00 [DBG] Connection "0HMH2OU1CT0Q1" established using the following protocol: "Tls12"
2022-04-20 14:15:52.906 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - -
2022-04-20 14:15:52.910 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-04-20 14:15:53.048 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - - - 200 - text/html;charset=utf-8 144.9745ms
2022-04-20 14:15:53.769 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - -
2022-04-20 14:15:54.019 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 249.5358ms
2022-04-20 14:16:03.829 +02:00 [DBG] Connection id "0HMH2OU1CT0Q2" accepted.
2022-04-20 14:16:03.830 +02:00 [DBG] Connection id "0HMH2OU1CT0Q2" received FIN.
2022-04-20 14:16:03.834 +02:00 [DBG] Connection id "0HMH2OU1CT0Q2" started.
2022-04-20 14:16:03.836 +02:00 [DBG] Connection id "0HMH2OU1CT0Q3" accepted.
2022-04-20 14:16:03.841 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-04-20 14:16:03.842 +02:00 [DBG] Connection id "0HMH2OU1CT0Q3" started.
2022-04-20 14:16:03.848 +02:00 [DBG] Connection id "0HMH2OU1CT0Q2" stopped.
2022-04-20 14:16:03.851 +02:00 [DBG] Connection id "0HMH2OU1CT0Q2" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-04-20 14:16:03.864 +02:00 [DBG] Connection "0HMH2OU1CT0Q3" established using the following protocol: "Tls12"
2022-04-20 14:16:03.887 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:5001/api/cities/3/pointsofinterest application/json 117
2022-04-20 14:16:03.893 +02:00 [DBG] POST requests are not supported
2022-04-20 14:16:03.949 +02:00 [DBG] 1 candidate(s) found for the request path '/api/cities/3/pointsofinterest'
2022-04-20 14:16:03.956 +02:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/3/pointsofinterest'
2022-04-20 14:16:03.960 +02:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2022-04-20 14:16:03.964 +02:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2022-04-20 14:16:03.977 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-04-20 14:16:04.029 +02:00 [INF] Route matched with {action = "CreatePointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.Application.Dto.PointOfInterestDto] CreatePointOfInterest(Int32, CityInfo.Application.Dto.PointOfInterestForCreationDto) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2022-04-20 14:16:04.035 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-04-20 14:16:04.037 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-04-20 14:16:04.038 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-04-20 14:16:04.041 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-04-20 14:16:04.045 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-04-20 14:16:04.049 +02:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2022-04-20 14:16:04.236 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2022-04-20 14:16:04.468 +02:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2022-04-20 14:16:04.478 +02:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2022-04-20 14:16:04.486 +02:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2022-04-20 14:16:04.490 +02:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2022-04-20 14:16:04.492 +02:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2022-04-20 14:16:04.495 +02:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2022-04-20 14:16:04.500 +02:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2022-04-20 14:16:04.503 +02:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.Application.Dto.PointOfInterestForCreationDto' ...
2022-04-20 14:16:04.509 +02:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.Application.Dto.PointOfInterestForCreationDto' using the name '' in request data ...
2022-04-20 14:16:04.516 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2022-04-20 14:16:04.518 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2022-04-20 14:16:04.530 +02:00 [DBG] Connection id "0HMH2OU1CT0Q3", Request id "0HMH2OU1CT0Q3:00000002": started reading request body.
2022-04-20 14:16:04.534 +02:00 [DBG] Connection id "0HMH2OU1CT0Q3", Request id "0HMH2OU1CT0Q3:00000002": done reading request body.
2022-04-20 14:16:04.725 +02:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.Application.Dto.PointOfInterestForCreationDto'.
2022-04-20 14:16:04.727 +02:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.Application.Dto.PointOfInterestForCreationDto'.
2022-04-20 14:16:04.730 +02:00 [DBG] Attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.Application.Dto.PointOfInterestForCreationDto' ...
2022-04-20 14:16:04.741 +02:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.Application.Dto.PointOfInterestForCreationDto'.
2022-04-20 14:16:09.812 +02:00 [INF] Entity Framework Core 5.0.15 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: None
2022-04-20 14:16:09.868 +02:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(c => c.Id == __cityId_0)'
2022-04-20 14:16:10.194 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                Projection Mapping:
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.Infrastructure.DbContexts.CityInfoContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2022-04-20 14:16:10.265 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-04-20 14:16:10.421 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (152ms).
2022-04-20 14:16:10.431 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-04-20 14:16:10.461 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API\CityInfo.db'.
2022-04-20 14:16:10.477 +02:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2022-04-20 14:16:10.511 +02:00 [INF] Executed DbCommand (36ms) [Parameters=[@__cityId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2022-04-20 14:16:10.524 +02:00 [DBG] A data reader was disposed.
2022-04-20 14:16:10.529 +02:00 [DBG] Closing connection to database 'main' on server 'C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API\CityInfo.db'.
2022-04-20 14:16:10.540 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-04-20 14:16:14.245 +02:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Where(c => c.Id == __cityId_0)
    .FirstOrDefault()'
2022-04-20 14:16:14.299 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2], }
            SELECT TOP(1) c.Id, c.Description, c.Name
            FROM Cities AS c
            WHERE c.Id == @__cityId_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        CityInfo.Infrastructure.DbContexts.CityInfoContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2022-04-20 14:16:14.321 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-04-20 14:16:14.323 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2022-04-20 14:16:14.326 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-04-20 14:16:14.328 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API\CityInfo.db'.
2022-04-20 14:16:14.331 +02:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2022-04-20 14:16:14.349 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[@__cityId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2022-04-20 14:16:14.383 +02:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-04-20 14:16:14.440 +02:00 [DBG] A data reader was disposed.
2022-04-20 14:16:14.446 +02:00 [DBG] Closing connection to database 'main' on server 'C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API\CityInfo.db'.
2022-04-20 14:16:14.450 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-04-20 14:16:15.652 +02:00 [DBG] SaveChanges starting for 'CityInfoContext'.
2022-04-20 14:16:15.656 +02:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2022-04-20 14:16:15.682 +02:00 [DBG] 1 entities were added and 0 entities were removed from navigation 'City.PointOfInterest'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-04-20 14:16:15.720 +02:00 [DBG] 'CityInfoContext' generated a temporary value for the property 'Id.PointOfInterest'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-04-20 14:16:15.751 +02:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-04-20 14:16:15.755 +02:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2022-04-20 14:16:15.781 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-04-20 14:16:15.786 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API\CityInfo.db'.
2022-04-20 14:16:15.792 +02:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2022-04-20 14:16:15.803 +02:00 [DBG] Began transaction with isolation level 'Serializable'.
2022-04-20 14:16:15.898 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-04-20 14:16:15.906 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (7ms).
2022-04-20 14:16:15.911 +02:00 [DBG] Executing DbCommand [Parameters=[@p0='?', @p1='?' (Size = 62), @p2='?' (Size = 13)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "PointsOfInterest" ("CityId", "Description", "Name")
VALUES (@p0, @p1, @p2);
SELECT "Id"
FROM "PointsOfInterest"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-04-20 14:16:15.924 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[@p0='?', @p1='?' (Size = 62), @p2='?' (Size = 13)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "PointsOfInterest" ("CityId", "Description", "Name")
VALUES (@p0, @p1, @p2);
SELECT "Id"
FROM "PointsOfInterest"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-04-20 14:16:15.973 +02:00 [DBG] The foreign key property 'PointOfInterest.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2022-04-20 14:16:15.998 +02:00 [DBG] A data reader was disposed.
2022-04-20 14:16:16.002 +02:00 [DBG] Committing transaction.
2022-04-20 14:16:16.013 +02:00 [DBG] Committed transaction.
2022-04-20 14:16:16.021 +02:00 [DBG] Closing connection to database 'main' on server 'C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API\CityInfo.db'.
2022-04-20 14:16:16.034 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-04-20 14:16:16.040 +02:00 [DBG] Disposing transaction.
2022-04-20 14:16:16.056 +02:00 [DBG] An entity of type 'PointOfInterest' tracked by 'CityInfoContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-04-20 14:16:16.060 +02:00 [DBG] SaveChanges completed for 'CityInfoContext' with 1 entities written to the database.
2022-04-20 14:16:20.281 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2022-04-20 14:16:20.288 +02:00 [DBG] No information found on request to perform content negotiation.
2022-04-20 14:16:20.289 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-04-20 14:16:20.290 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-04-20 14:16:20.292 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-04-20 14:16:20.294 +02:00 [INF] Executing CreatedAtRouteResult, writing value of type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[CityInfo.Application.Dto.PointOfInterestDto, CityInfo.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Runtime.CompilerServices.IAsyncStateMachine, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2022-04-20 14:16:20.319 +02:00 [DBG] Found the endpoints ["CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)"] for address Microsoft.AspNetCore.Routing.RouteValuesAddress
2022-04-20 14:16:20.342 +02:00 [DBG] Failed to process the template api/cities/{cityId}/pointsofinterest/{pointofinterestid} for CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API). A required route value is missing, or has a different value from the required default values. Supplied ambient values { "action": "CreatePointOfInterest", "cityId": "3", "controller": "PointsOfInterest" } and { } with default values { "action": "GetPointOfInterest", "controller": "PointsOfInterest" }
2022-04-20 14:16:20.353 +02:00 [DBG] Link generation failed for endpoints ["CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)"]
2022-04-20 14:16:20.366 +02:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API) in 16310.1882ms
2022-04-20 14:16:20.373 +02:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2022-04-20 14:16:20.376 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: No route matches the supplied values.
   at Microsoft.AspNetCore.Mvc.CreatedAtRouteResult.OnFormatting(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor.ExecuteAsyncCore(ActionContext context, ObjectResult result, Type objectType, Object value)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor.ExecuteAsync(ActionContext context, ObjectResult result)
   at Microsoft.AspNetCore.Mvc.ObjectResult.ExecuteResultAsync(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultAsync(IActionResult result)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeNextResultFilterAsync[TFilter,TFilterAsync]()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2022-04-20 14:16:20.455 +02:00 [DBG] Connection id "0HMH2OU1CT0Q3" completed keep alive response.
2022-04-20 14:16:20.462 +02:00 [DBG] 'CityInfoContext' disposed.
2022-04-20 14:16:20.475 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:5001/api/cities/3/pointsofinterest application/json 117 - 500 - text/plain 16588.0317ms
2022-04-20 15:23:04.738 +02:00 [DBG] Hosting starting
2022-04-20 15:23:05.344 +02:00 [DBG] Using development certificate: CN=localhost (Thumbprint: A40C6697D0C21C2C32B35E9E8F9AD3269C88392E)
2022-04-20 15:23:05.419 +02:00 [INF] Now listening on: https://localhost:5001
2022-04-20 15:23:05.421 +02:00 [INF] Now listening on: http://localhost:5000
2022-04-20 15:23:05.423 +02:00 [DBG] Loaded hosting startup assembly CityInfo.API
2022-04-20 15:23:05.424 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2022-04-20 15:23:05.425 +02:00 [INF] Hosting environment: Development
2022-04-20 15:23:05.426 +02:00 [INF] Content root path: C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API
2022-04-20 15:23:05.427 +02:00 [DBG] Hosting started
2022-04-20 15:23:05.631 +02:00 [DBG] Connection id "0HMH2Q3JLGVOT" received FIN.
2022-04-20 15:23:05.631 +02:00 [DBG] Connection id "0HMH2Q3JLGVOU" received FIN.
2022-04-20 15:23:05.653 +02:00 [DBG] Connection id "0HMH2Q3JLGVOT" accepted.
2022-04-20 15:23:05.653 +02:00 [DBG] Connection id "0HMH2Q3JLGVOU" accepted.
2022-04-20 15:23:05.657 +02:00 [DBG] Connection id "0HMH2Q3JLGVOT" started.
2022-04-20 15:23:05.657 +02:00 [DBG] Connection id "0HMH2Q3JLGVOU" started.
2022-04-20 15:23:05.697 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-04-20 15:23:05.697 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-04-20 15:23:05.857 +02:00 [DBG] Connection id "0HMH2Q3JLGVOU" stopped.
2022-04-20 15:23:05.857 +02:00 [DBG] Connection id "0HMH2Q3JLGVOT" stopped.
2022-04-20 15:23:05.869 +02:00 [DBG] Connection id "0HMH2Q3JLGVOT" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-04-20 15:23:05.870 +02:00 [DBG] Connection id "0HMH2Q3JLGVOU" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-04-20 15:23:07.166 +02:00 [DBG] Connection id "0HMH2Q3JLGVOV" accepted.
2022-04-20 15:23:07.168 +02:00 [DBG] Connection id "0HMH2Q3JLGVOV" started.
2022-04-20 15:23:07.338 +02:00 [DBG] Connection "0HMH2Q3JLGVOV" established using the following protocol: "Tls12"
2022-04-20 15:23:07.419 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - -
2022-04-20 15:23:07.423 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-04-20 15:23:07.735 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - - - 200 - text/html;charset=utf-8 316.8456ms
2022-04-20 15:23:08.419 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - -
2022-04-20 15:23:08.656 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 237.2740ms
2022-04-20 15:23:29.011 +02:00 [DBG] Connection id "0HMH2Q3JLGVP0" accepted.
2022-04-20 15:23:29.013 +02:00 [DBG] Connection id "0HMH2Q3JLGVP0" started.
2022-04-20 15:23:29.014 +02:00 [DBG] Connection id "0HMH2Q3JLGVP1" accepted.
2022-04-20 15:23:29.025 +02:00 [DBG] Connection id "0HMH2Q3JLGVP0" received FIN.
2022-04-20 15:23:29.028 +02:00 [DBG] Connection id "0HMH2Q3JLGVP1" started.
2022-04-20 15:23:29.036 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|182_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-04-20 15:23:29.051 +02:00 [DBG] Connection "0HMH2Q3JLGVP1" established using the following protocol: "Tls12"
2022-04-20 15:23:29.051 +02:00 [DBG] Connection id "0HMH2Q3JLGVP0" stopped.
2022-04-20 15:23:29.061 +02:00 [DBG] Connection id "0HMH2Q3JLGVP0" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-04-20 15:23:29.076 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:5001/api/cities/3/pointsofinterest application/json 117
2022-04-20 15:23:29.082 +02:00 [DBG] POST requests are not supported
2022-04-20 15:23:29.168 +02:00 [DBG] 1 candidate(s) found for the request path '/api/cities/3/pointsofinterest'
2022-04-20 15:23:29.182 +02:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/3/pointsofinterest'
2022-04-20 15:23:29.187 +02:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2022-04-20 15:23:29.192 +02:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2022-04-20 15:23:29.214 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-04-20 15:23:29.285 +02:00 [INF] Route matched with {action = "CreatePointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.Application.Dto.PointOfInterestDto] CreatePointOfInterest(Int32, CityInfo.Application.Dto.PointOfInterestForCreationDto) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2022-04-20 15:23:29.291 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-04-20 15:23:29.294 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-04-20 15:23:29.298 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-04-20 15:23:29.306 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-04-20 15:23:29.308 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-04-20 15:23:29.311 +02:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2022-04-20 15:23:29.507 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2022-04-20 15:23:29.831 +02:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2022-04-20 15:23:29.841 +02:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2022-04-20 15:23:29.847 +02:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2022-04-20 15:23:29.855 +02:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2022-04-20 15:23:29.857 +02:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2022-04-20 15:23:29.859 +02:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2022-04-20 15:23:29.862 +02:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2022-04-20 15:23:29.867 +02:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.Application.Dto.PointOfInterestForCreationDto' ...
2022-04-20 15:23:29.874 +02:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.Application.Dto.PointOfInterestForCreationDto' using the name '' in request data ...
2022-04-20 15:23:29.878 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2022-04-20 15:23:29.883 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2022-04-20 15:23:29.892 +02:00 [DBG] Connection id "0HMH2Q3JLGVP1", Request id "0HMH2Q3JLGVP1:00000002": started reading request body.
2022-04-20 15:23:29.895 +02:00 [DBG] Connection id "0HMH2Q3JLGVP1", Request id "0HMH2Q3JLGVP1:00000002": done reading request body.
2022-04-20 15:23:30.138 +02:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.Application.Dto.PointOfInterestForCreationDto'.
2022-04-20 15:23:30.140 +02:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.Application.Dto.PointOfInterestForCreationDto'.
2022-04-20 15:23:30.142 +02:00 [DBG] Attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.Application.Dto.PointOfInterestForCreationDto' ...
2022-04-20 15:23:30.156 +02:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.Application.Dto.PointOfInterestForCreationDto'.
2022-04-20 15:23:31.403 +02:00 [INF] Entity Framework Core 5.0.15 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: None
2022-04-20 15:23:31.489 +02:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(c => c.Id == __cityId_0)'
2022-04-20 15:23:32.009 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                Projection Mapping:
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.Infrastructure.DbContexts.CityInfoContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2022-04-20 15:23:32.076 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-04-20 15:23:32.267 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (191ms).
2022-04-20 15:23:32.282 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-04-20 15:23:32.311 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API\CityInfo.db'.
2022-04-20 15:23:32.331 +02:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2022-04-20 15:23:32.387 +02:00 [INF] Executed DbCommand (52ms) [Parameters=[@__cityId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2022-04-20 15:23:32.410 +02:00 [DBG] A data reader was disposed.
2022-04-20 15:23:32.421 +02:00 [DBG] Closing connection to database 'main' on server 'C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API\CityInfo.db'.
2022-04-20 15:23:32.435 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-04-20 15:23:32.468 +02:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Where(c => c.Id == __cityId_0)
    .FirstOrDefault()'
2022-04-20 15:23:32.553 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2], }
            SELECT TOP(1) c.Id, c.Description, c.Name
            FROM Cities AS c
            WHERE c.Id == @__cityId_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        CityInfo.Infrastructure.DbContexts.CityInfoContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2022-04-20 15:23:32.594 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-04-20 15:23:32.608 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (14ms).
2022-04-20 15:23:32.611 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-04-20 15:23:32.614 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API\CityInfo.db'.
2022-04-20 15:23:32.617 +02:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2022-04-20 15:23:32.628 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@__cityId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2022-04-20 15:23:32.652 +02:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-04-20 15:23:32.708 +02:00 [DBG] A data reader was disposed.
2022-04-20 15:23:32.709 +02:00 [DBG] Closing connection to database 'main' on server 'C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API\CityInfo.db'.
2022-04-20 15:23:32.717 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-04-20 15:23:32.731 +02:00 [DBG] SaveChanges starting for 'CityInfoContext'.
2022-04-20 15:23:32.754 +02:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2022-04-20 15:23:32.861 +02:00 [DBG] 1 entities were added and 0 entities were removed from navigation 'City.PointOfInterest'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-04-20 15:23:32.934 +02:00 [DBG] 'CityInfoContext' generated a temporary value for the property 'Id.PointOfInterest'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-04-20 15:23:32.971 +02:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-04-20 15:23:32.983 +02:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2022-04-20 15:23:33.024 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-04-20 15:23:33.040 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API\CityInfo.db'.
2022-04-20 15:23:33.045 +02:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2022-04-20 15:23:33.078 +02:00 [DBG] Began transaction with isolation level 'Serializable'.
2022-04-20 15:23:33.153 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-04-20 15:23:33.154 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-04-20 15:23:33.157 +02:00 [DBG] Executing DbCommand [Parameters=[@p0='?', @p1='?' (Size = 62), @p2='?' (Size = 13)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "PointsOfInterest" ("CityId", "Description", "Name")
VALUES (@p0, @p1, @p2);
SELECT "Id"
FROM "PointsOfInterest"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-04-20 15:23:33.164 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?', @p1='?' (Size = 62), @p2='?' (Size = 13)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "PointsOfInterest" ("CityId", "Description", "Name")
VALUES (@p0, @p1, @p2);
SELECT "Id"
FROM "PointsOfInterest"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-04-20 15:23:33.219 +02:00 [DBG] The foreign key property 'PointOfInterest.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2022-04-20 15:23:33.238 +02:00 [DBG] A data reader was disposed.
2022-04-20 15:23:33.252 +02:00 [DBG] Committing transaction.
2022-04-20 15:23:33.278 +02:00 [DBG] Committed transaction.
2022-04-20 15:23:33.284 +02:00 [DBG] Closing connection to database 'main' on server 'C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API\CityInfo.db'.
2022-04-20 15:23:33.303 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-04-20 15:23:33.311 +02:00 [DBG] Disposing transaction.
2022-04-20 15:23:33.329 +02:00 [DBG] An entity of type 'PointOfInterest' tracked by 'CityInfoContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-04-20 15:23:33.335 +02:00 [DBG] SaveChanges completed for 'CityInfoContext' with 1 entities written to the database.
2022-04-20 15:23:33.340 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2022-04-20 15:23:33.351 +02:00 [DBG] No information found on request to perform content negotiation.
2022-04-20 15:23:33.353 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-04-20 15:23:33.355 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-04-20 15:23:33.357 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-04-20 15:23:33.359 +02:00 [INF] Executing CreatedAtRouteResult, writing value of type 'System.Threading.Tasks.Task`1[[CityInfo.Application.Dto.PointOfInterestDto, CityInfo.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-04-20 15:23:33.387 +02:00 [DBG] Found the endpoints ["CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)"] for address Microsoft.AspNetCore.Routing.RouteValuesAddress
2022-04-20 15:23:33.413 +02:00 [DBG] Failed to process the template api/cities/{cityId}/pointsofinterest/{pointofinterestid} for CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API). A required route value is missing, or has a different value from the required default values. Supplied ambient values { "action": "CreatePointOfInterest", "cityId": "3", "controller": "PointsOfInterest" } and { } with default values { "action": "GetPointOfInterest", "controller": "PointsOfInterest" }
2022-04-20 15:23:33.419 +02:00 [DBG] Link generation failed for endpoints ["CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)"]
2022-04-20 15:23:33.437 +02:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API) in 4120.4671ms
2022-04-20 15:23:33.443 +02:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2022-04-20 15:23:33.453 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: No route matches the supplied values.
   at Microsoft.AspNetCore.Mvc.CreatedAtRouteResult.OnFormatting(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor.ExecuteAsyncCore(ActionContext context, ObjectResult result, Type objectType, Object value)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor.ExecuteAsync(ActionContext context, ObjectResult result)
   at Microsoft.AspNetCore.Mvc.ObjectResult.ExecuteResultAsync(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultAsync(IActionResult result)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeNextResultFilterAsync[TFilter,TFilterAsync]()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2022-04-20 15:23:33.518 +02:00 [DBG] Connection id "0HMH2Q3JLGVP1" completed keep alive response.
2022-04-20 15:23:33.525 +02:00 [DBG] 'CityInfoContext' disposed.
2022-04-20 15:23:33.531 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:5001/api/cities/3/pointsofinterest application/json 117 - 500 - text/plain 4454.2230ms
2022-04-20 15:23:55.674 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/cities/3/pointsofinterest application/json 117
2022-04-20 15:23:55.678 +02:00 [DBG] The request path  does not match the path filter
2022-04-20 15:23:55.682 +02:00 [DBG] 1 candidate(s) found for the request path '/api/cities/3/pointsofinterest'
2022-04-20 15:23:55.685 +02:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetAllPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/3/pointsofinterest'
2022-04-20 15:23:55.694 +02:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetAllPointsOfInterest (CityInfo.API)'
2022-04-20 15:23:55.703 +02:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetAllPointsOfInterest (CityInfo.API)'
2022-04-20 15:23:55.712 +02:00 [INF] Route matched with {action = "GetAllPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.Application.Dto.PointOfInterestDto]] GetAllPointsOfInterest(Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2022-04-20 15:23:55.723 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-04-20 15:23:55.729 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-04-20 15:23:55.733 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-04-20 15:23:55.737 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-04-20 15:23:55.745 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-04-20 15:23:55.750 +02:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2022-04-20 15:23:55.760 +02:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2022-04-20 15:23:55.764 +02:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2022-04-20 15:23:55.768 +02:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2022-04-20 15:23:55.773 +02:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2022-04-20 15:23:55.776 +02:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2022-04-20 15:23:55.778 +02:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2022-04-20 15:23:55.779 +02:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2022-04-20 15:23:55.826 +02:00 [INF] Entity Framework Core 5.0.15 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: None
2022-04-20 15:23:55.834 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-04-20 15:23:55.835 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-04-20 15:23:55.837 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-04-20 15:23:55.846 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API\CityInfo.db'.
2022-04-20 15:23:55.851 +02:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2022-04-20 15:23:55.857 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__cityId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2022-04-20 15:23:55.861 +02:00 [DBG] A data reader was disposed.
2022-04-20 15:23:55.866 +02:00 [DBG] Closing connection to database 'main' on server 'C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API\CityInfo.db'.
2022-04-20 15:23:55.872 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-04-20 15:23:55.887 +02:00 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .Where(prop => prop.CityId == __cityId_0)'
2022-04-20 15:23:55.900 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<PointOfInterest>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string) MaxLength(200), 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3], }
        SELECT p.Id, p.CityId, p.Description, p.Name
        FROM PointsOfInterest AS p
        WHERE p.CityId == @__cityId_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterest>, 
    CityInfo.Infrastructure.DbContexts.CityInfoContext, 
    False, 
    False
)'
2022-04-20 15:23:55.905 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-04-20 15:23:55.908 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2022-04-20 15:23:55.910 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-04-20 15:23:55.913 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API\CityInfo.db'.
2022-04-20 15:23:55.916 +02:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE "p"."CityId" = @__cityId_0
2022-04-20 15:23:55.924 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__cityId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE "p"."CityId" = @__cityId_0
2022-04-20 15:23:55.930 +02:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-04-20 15:23:55.932 +02:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-04-20 15:23:55.934 +02:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-04-20 15:23:55.938 +02:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-04-20 15:23:55.943 +02:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-04-20 15:23:55.946 +02:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-04-20 15:23:55.949 +02:00 [DBG] A data reader was disposed.
2022-04-20 15:23:55.950 +02:00 [DBG] Closing connection to database 'main' on server 'C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API\CityInfo.db'.
2022-04-20 15:23:55.957 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-04-20 15:23:55.975 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2022-04-20 15:23:55.980 +02:00 [DBG] No information found on request to perform content negotiation.
2022-04-20 15:23:55.981 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-04-20 15:23:55.988 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-04-20 15:23:55.995 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-04-20 15:23:56.002 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.Application.Dto.PointOfInterestDto, CityInfo.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-04-20 15:23:56.084 +02:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetAllPointsOfInterest (CityInfo.API) in 334.201ms
2022-04-20 15:23:56.087 +02:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetAllPointsOfInterest (CityInfo.API)'
2022-04-20 15:23:56.092 +02:00 [DBG] Connection id "0HMH2Q3JLGVP1" completed keep alive response.
2022-04-20 15:23:56.094 +02:00 [DBG] 'CityInfoContext' disposed.
2022-04-20 15:23:56.097 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/cities/3/pointsofinterest application/json 117 - 200 621 application/json;+charset=utf-8 422.6069ms
2022-04-20 15:23:56.099 +02:00 [DBG] Connection id "0HMH2Q3JLGVP1", Request id "0HMH2Q3JLGVP1:00000003": started reading request body.
2022-04-20 15:23:56.100 +02:00 [DBG] Connection id "0HMH2Q3JLGVP1", Request id "0HMH2Q3JLGVP1:00000003": done reading request body.
2022-04-20 15:24:12.228 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:5001/api/cities/3/pointsofinterest application/json 117
2022-04-20 15:24:12.232 +02:00 [DBG] POST requests are not supported
2022-04-20 15:24:12.235 +02:00 [DBG] 1 candidate(s) found for the request path '/api/cities/3/pointsofinterest'
2022-04-20 15:24:12.238 +02:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/3/pointsofinterest'
2022-04-20 15:24:12.241 +02:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2022-04-20 15:24:12.243 +02:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2022-04-20 15:24:12.245 +02:00 [INF] Route matched with {action = "CreatePointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.Application.Dto.PointOfInterestDto] CreatePointOfInterest(Int32, CityInfo.Application.Dto.PointOfInterestForCreationDto) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2022-04-20 15:24:12.248 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-04-20 15:24:12.250 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-04-20 15:24:12.258 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-04-20 15:24:12.263 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-04-20 15:24:12.264 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-04-20 15:24:12.266 +02:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2022-04-20 15:24:12.274 +02:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2022-04-20 15:24:12.276 +02:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2022-04-20 15:24:12.277 +02:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2022-04-20 15:24:12.281 +02:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2022-04-20 15:24:12.286 +02:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2022-04-20 15:24:12.288 +02:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2022-04-20 15:24:12.289 +02:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2022-04-20 15:24:12.291 +02:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.Application.Dto.PointOfInterestForCreationDto' ...
2022-04-20 15:24:12.293 +02:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.Application.Dto.PointOfInterestForCreationDto' using the name '' in request data ...
2022-04-20 15:24:12.295 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2022-04-20 15:24:12.297 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2022-04-20 15:24:12.302 +02:00 [DBG] Connection id "0HMH2Q3JLGVP1", Request id "0HMH2Q3JLGVP1:00000004": started reading request body.
2022-04-20 15:24:12.305 +02:00 [DBG] Connection id "0HMH2Q3JLGVP1", Request id "0HMH2Q3JLGVP1:00000004": done reading request body.
2022-04-20 15:24:12.309 +02:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.Application.Dto.PointOfInterestForCreationDto'.
2022-04-20 15:24:12.311 +02:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.Application.Dto.PointOfInterestForCreationDto'.
2022-04-20 15:24:12.315 +02:00 [DBG] Attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.Application.Dto.PointOfInterestForCreationDto' ...
2022-04-20 15:24:12.319 +02:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.Application.Dto.PointOfInterestForCreationDto'.
2022-04-20 15:24:12.334 +02:00 [INF] Entity Framework Core 5.0.15 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: None
2022-04-20 15:24:12.339 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-04-20 15:24:12.340 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-04-20 15:24:12.342 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-04-20 15:24:12.346 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API\CityInfo.db'.
2022-04-20 15:24:12.348 +02:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2022-04-20 15:24:12.365 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[@__cityId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2022-04-20 15:24:12.370 +02:00 [DBG] A data reader was disposed.
2022-04-20 15:24:12.372 +02:00 [DBG] Closing connection to database 'main' on server 'C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API\CityInfo.db'.
2022-04-20 15:24:12.383 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-04-20 15:24:12.387 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-04-20 15:24:12.389 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-04-20 15:24:12.391 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-04-20 15:24:12.399 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API\CityInfo.db'.
2022-04-20 15:24:12.401 +02:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2022-04-20 15:24:12.418 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[@__cityId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2022-04-20 15:24:12.425 +02:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-04-20 15:24:12.428 +02:00 [DBG] A data reader was disposed.
2022-04-20 15:24:12.431 +02:00 [DBG] Closing connection to database 'main' on server 'C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API\CityInfo.db'.
2022-04-20 15:24:12.437 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-04-20 15:24:12.441 +02:00 [DBG] SaveChanges starting for 'CityInfoContext'.
2022-04-20 15:24:12.443 +02:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2022-04-20 15:24:12.445 +02:00 [DBG] 1 entities were added and 0 entities were removed from navigation 'City.PointOfInterest'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-04-20 15:24:12.448 +02:00 [DBG] 'CityInfoContext' generated a temporary value for the property 'Id.PointOfInterest'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-04-20 15:24:12.450 +02:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-04-20 15:24:12.453 +02:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2022-04-20 15:24:12.460 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-04-20 15:24:12.465 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API\CityInfo.db'.
2022-04-20 15:24:12.467 +02:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2022-04-20 15:24:12.476 +02:00 [DBG] Began transaction with isolation level 'Serializable'.
2022-04-20 15:24:12.480 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-04-20 15:24:12.483 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2022-04-20 15:24:12.489 +02:00 [DBG] Executing DbCommand [Parameters=[@p0='?', @p1='?' (Size = 62), @p2='?' (Size = 13)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "PointsOfInterest" ("CityId", "Description", "Name")
VALUES (@p0, @p1, @p2);
SELECT "Id"
FROM "PointsOfInterest"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-04-20 15:24:12.493 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?', @p1='?' (Size = 62), @p2='?' (Size = 13)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "PointsOfInterest" ("CityId", "Description", "Name")
VALUES (@p0, @p1, @p2);
SELECT "Id"
FROM "PointsOfInterest"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-04-20 15:24:12.498 +02:00 [DBG] The foreign key property 'PointOfInterest.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2022-04-20 15:24:12.506 +02:00 [DBG] A data reader was disposed.
2022-04-20 15:24:12.508 +02:00 [DBG] Committing transaction.
2022-04-20 15:24:12.522 +02:00 [DBG] Committed transaction.
2022-04-20 15:24:12.523 +02:00 [DBG] Closing connection to database 'main' on server 'C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API\CityInfo.db'.
2022-04-20 15:24:12.536 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-04-20 15:24:12.539 +02:00 [DBG] Disposing transaction.
2022-04-20 15:24:12.541 +02:00 [DBG] An entity of type 'PointOfInterest' tracked by 'CityInfoContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-04-20 15:24:12.544 +02:00 [DBG] SaveChanges completed for 'CityInfoContext' with 1 entities written to the database.
2022-04-20 15:24:12.546 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2022-04-20 15:24:12.554 +02:00 [DBG] No information found on request to perform content negotiation.
2022-04-20 15:24:12.556 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-04-20 15:24:12.559 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-04-20 15:24:12.560 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-04-20 15:24:12.562 +02:00 [INF] Executing CreatedAtRouteResult, writing value of type 'System.Threading.Tasks.Task`1[[CityInfo.Application.Dto.PointOfInterestDto, CityInfo.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-04-20 15:24:12.569 +02:00 [DBG] Found the endpoints ["CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)"] for address Microsoft.AspNetCore.Routing.RouteValuesAddress
2022-04-20 15:24:12.571 +02:00 [DBG] Failed to process the template api/cities/{cityId}/pointsofinterest/{pointofinterestid} for CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API). A required route value is missing, or has a different value from the required default values. Supplied ambient values { "action": "CreatePointOfInterest", "cityId": "3", "controller": "PointsOfInterest" } and { } with default values { "action": "GetPointOfInterest", "controller": "PointsOfInterest" }
2022-04-20 15:24:12.575 +02:00 [DBG] Link generation failed for endpoints ["CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)"]
2022-04-20 15:24:12.587 +02:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API) in 320.9034ms
2022-04-20 15:24:12.594 +02:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2022-04-20 15:24:12.599 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: No route matches the supplied values.
   at Microsoft.AspNetCore.Mvc.CreatedAtRouteResult.OnFormatting(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor.ExecuteAsyncCore(ActionContext context, ObjectResult result, Type objectType, Object value)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor.ExecuteAsync(ActionContext context, ObjectResult result)
   at Microsoft.AspNetCore.Mvc.ObjectResult.ExecuteResultAsync(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultAsync(IActionResult result)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeNextResultFilterAsync[TFilter,TFilterAsync]()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2022-04-20 15:24:12.625 +02:00 [DBG] Connection id "0HMH2Q3JLGVP1" completed keep alive response.
2022-04-20 15:24:12.633 +02:00 [DBG] 'CityInfoContext' disposed.
2022-04-20 15:24:12.637 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:5001/api/cities/3/pointsofinterest application/json 117 - 500 - text/plain 408.8767ms
2022-04-20 15:29:01.023 +02:00 [DBG] Hosting starting
2022-04-20 15:29:01.543 +02:00 [DBG] Using development certificate: CN=localhost (Thumbprint: A40C6697D0C21C2C32B35E9E8F9AD3269C88392E)
2022-04-20 15:29:01.603 +02:00 [INF] Now listening on: https://localhost:5001
2022-04-20 15:29:01.605 +02:00 [INF] Now listening on: http://localhost:5000
2022-04-20 15:29:01.606 +02:00 [DBG] Loaded hosting startup assembly CityInfo.API
2022-04-20 15:29:01.608 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2022-04-20 15:29:01.608 +02:00 [INF] Hosting environment: Development
2022-04-20 15:29:01.609 +02:00 [INF] Content root path: C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API
2022-04-20 15:29:01.611 +02:00 [DBG] Hosting started
2022-04-20 15:29:01.883 +02:00 [DBG] Connection id "0HMH2Q6TQREL3" accepted.
2022-04-20 15:29:01.883 +02:00 [DBG] Connection id "0HMH2Q6TQREL4" accepted.
2022-04-20 15:29:01.888 +02:00 [DBG] Connection id "0HMH2Q6TQREL3" received FIN.
2022-04-20 15:29:01.888 +02:00 [DBG] Connection id "0HMH2Q6TQREL4" received FIN.
2022-04-20 15:29:01.890 +02:00 [DBG] Connection id "0HMH2Q6TQREL3" started.
2022-04-20 15:29:01.890 +02:00 [DBG] Connection id "0HMH2Q6TQREL4" started.
2022-04-20 15:29:01.933 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-04-20 15:29:01.933 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-04-20 15:29:02.036 +02:00 [DBG] Connection id "0HMH2Q6TQREL3" stopped.
2022-04-20 15:29:02.036 +02:00 [DBG] Connection id "0HMH2Q6TQREL4" stopped.
2022-04-20 15:29:02.042 +02:00 [DBG] Connection id "0HMH2Q6TQREL4" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-04-20 15:29:02.042 +02:00 [DBG] Connection id "0HMH2Q6TQREL3" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-04-20 15:29:02.587 +02:00 [DBG] Connection id "0HMH2Q6TQREL5" accepted.
2022-04-20 15:29:02.623 +02:00 [DBG] Connection id "0HMH2Q6TQREL5" started.
2022-04-20 15:29:02.763 +02:00 [DBG] Connection "0HMH2Q6TQREL5" established using the following protocol: "Tls12"
2022-04-20 15:29:03.133 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - -
2022-04-20 15:29:03.150 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-04-20 15:29:03.691 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - - - 200 - text/html;charset=utf-8 563.0444ms
2022-04-20 15:29:04.127 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - -
2022-04-20 15:29:04.527 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 399.3492ms
2022-04-20 15:29:34.633 +02:00 [DBG] Connection id "0HMH2Q6TQREL6" accepted.
2022-04-20 15:29:34.640 +02:00 [DBG] Connection id "0HMH2Q6TQREL6" received FIN.
2022-04-20 15:29:34.641 +02:00 [DBG] Connection id "0HMH2Q6TQREL6" started.
2022-04-20 15:29:34.642 +02:00 [DBG] Connection id "0HMH2Q6TQREL7" accepted.
2022-04-20 15:29:34.659 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-04-20 15:29:34.660 +02:00 [DBG] Connection id "0HMH2Q6TQREL7" started.
2022-04-20 15:29:34.671 +02:00 [DBG] Connection id "0HMH2Q6TQREL6" stopped.
2022-04-20 15:29:34.677 +02:00 [DBG] Connection id "0HMH2Q6TQREL6" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-04-20 15:29:34.691 +02:00 [DBG] Connection "0HMH2Q6TQREL7" established using the following protocol: "Tls12"
2022-04-20 15:29:34.705 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:5001/api/cities/3/pointsofinterest application/json 117
2022-04-20 15:29:34.710 +02:00 [DBG] POST requests are not supported
2022-04-20 15:29:34.783 +02:00 [DBG] 1 candidate(s) found for the request path '/api/cities/3/pointsofinterest'
2022-04-20 15:29:34.793 +02:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/3/pointsofinterest'
2022-04-20 15:29:34.801 +02:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2022-04-20 15:29:34.811 +02:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2022-04-20 15:29:34.836 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-04-20 15:29:34.932 +02:00 [INF] Route matched with {action = "CreatePointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.Application.Dto.PointOfInterestDto] CreatePointOfInterest(Int32, CityInfo.Application.Dto.PointOfInterestForCreationDto) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2022-04-20 15:29:34.937 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-04-20 15:29:34.939 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-04-20 15:29:34.944 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-04-20 15:29:34.951 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-04-20 15:29:34.953 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-04-20 15:29:34.956 +02:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2022-04-20 15:29:35.145 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2022-04-20 15:29:35.457 +02:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2022-04-20 15:29:35.468 +02:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2022-04-20 15:29:35.477 +02:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2022-04-20 15:29:35.485 +02:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2022-04-20 15:29:35.487 +02:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2022-04-20 15:29:35.490 +02:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2022-04-20 15:29:35.495 +02:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2022-04-20 15:29:35.503 +02:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.Application.Dto.PointOfInterestForCreationDto' ...
2022-04-20 15:29:35.508 +02:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.Application.Dto.PointOfInterestForCreationDto' using the name '' in request data ...
2022-04-20 15:29:35.517 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2022-04-20 15:29:35.520 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2022-04-20 15:29:35.540 +02:00 [DBG] Connection id "0HMH2Q6TQREL7", Request id "0HMH2Q6TQREL7:00000002": started reading request body.
2022-04-20 15:29:35.543 +02:00 [DBG] Connection id "0HMH2Q6TQREL7", Request id "0HMH2Q6TQREL7:00000002": done reading request body.
2022-04-20 15:29:35.720 +02:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.Application.Dto.PointOfInterestForCreationDto'.
2022-04-20 15:29:35.725 +02:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.Application.Dto.PointOfInterestForCreationDto'.
2022-04-20 15:29:35.731 +02:00 [DBG] Attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.Application.Dto.PointOfInterestForCreationDto' ...
2022-04-20 15:29:35.745 +02:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.Application.Dto.PointOfInterestForCreationDto'.
2022-04-20 15:29:53.330 +02:00 [INF] Entity Framework Core 5.0.15 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: None
2022-04-20 15:29:53.376 +02:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(c => c.Id == __cityId_0)'
2022-04-20 15:29:53.675 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                Projection Mapping:
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.Infrastructure.DbContexts.CityInfoContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2022-04-20 15:29:53.746 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-04-20 15:29:53.940 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (189ms).
2022-04-20 15:29:53.953 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-04-20 15:29:53.983 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API\CityInfo.db'.
2022-04-20 15:29:54.001 +02:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2022-04-20 15:29:54.047 +02:00 [INF] Executed DbCommand (48ms) [Parameters=[@__cityId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2022-04-20 15:29:54.060 +02:00 [DBG] A data reader was disposed.
2022-04-20 15:29:54.068 +02:00 [DBG] Closing connection to database 'main' on server 'C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API\CityInfo.db'.
2022-04-20 15:29:54.077 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-04-20 15:30:08.487 +02:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Where(c => c.Id == __cityId_0)
    .FirstOrDefault()'
2022-04-20 15:30:08.532 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2], }
            SELECT TOP(1) c.Id, c.Description, c.Name
            FROM Cities AS c
            WHERE c.Id == @__cityId_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        CityInfo.Infrastructure.DbContexts.CityInfoContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2022-04-20 15:30:08.550 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-04-20 15:30:08.553 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2022-04-20 15:30:08.556 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-04-20 15:30:08.562 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API\CityInfo.db'.
2022-04-20 15:30:08.565 +02:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2022-04-20 15:30:08.571 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__cityId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2022-04-20 15:30:08.607 +02:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-04-20 15:30:08.662 +02:00 [DBG] A data reader was disposed.
2022-04-20 15:30:08.666 +02:00 [DBG] Closing connection to database 'main' on server 'C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API\CityInfo.db'.
2022-04-20 15:30:08.670 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-04-20 15:30:11.170 +02:00 [DBG] SaveChanges starting for 'CityInfoContext'.
2022-04-20 15:30:11.175 +02:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2022-04-20 15:30:11.198 +02:00 [DBG] 1 entities were added and 0 entities were removed from navigation 'City.PointOfInterest'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-04-20 15:30:11.242 +02:00 [DBG] 'CityInfoContext' generated a temporary value for the property 'Id.PointOfInterest'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-04-20 15:30:11.279 +02:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-04-20 15:30:11.284 +02:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2022-04-20 15:30:11.308 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-04-20 15:30:11.310 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API\CityInfo.db'.
2022-04-20 15:30:11.315 +02:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2022-04-20 15:30:11.324 +02:00 [DBG] Began transaction with isolation level 'Serializable'.
2022-04-20 15:30:11.394 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-04-20 15:30:11.395 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-04-20 15:30:11.397 +02:00 [DBG] Executing DbCommand [Parameters=[@p0='?', @p1='?' (Size = 62), @p2='?' (Size = 13)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "PointsOfInterest" ("CityId", "Description", "Name")
VALUES (@p0, @p1, @p2);
SELECT "Id"
FROM "PointsOfInterest"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-04-20 15:30:11.403 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?', @p1='?' (Size = 62), @p2='?' (Size = 13)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "PointsOfInterest" ("CityId", "Description", "Name")
VALUES (@p0, @p1, @p2);
SELECT "Id"
FROM "PointsOfInterest"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-04-20 15:30:11.430 +02:00 [DBG] The foreign key property 'PointOfInterest.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2022-04-20 15:30:11.438 +02:00 [DBG] A data reader was disposed.
2022-04-20 15:30:11.443 +02:00 [DBG] Committing transaction.
2022-04-20 15:30:11.453 +02:00 [DBG] Committed transaction.
2022-04-20 15:30:11.460 +02:00 [DBG] Closing connection to database 'main' on server 'C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API\CityInfo.db'.
2022-04-20 15:30:11.468 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-04-20 15:30:11.475 +02:00 [DBG] Disposing transaction.
2022-04-20 15:30:11.488 +02:00 [DBG] An entity of type 'PointOfInterest' tracked by 'CityInfoContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-04-20 15:30:11.492 +02:00 [DBG] SaveChanges completed for 'CityInfoContext' with 1 entities written to the database.
2022-04-20 15:30:26.046 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2022-04-20 15:30:26.054 +02:00 [DBG] No information found on request to perform content negotiation.
2022-04-20 15:30:26.055 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-04-20 15:30:26.057 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-04-20 15:30:26.059 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-04-20 15:30:26.061 +02:00 [INF] Executing CreatedAtRouteResult, writing value of type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[CityInfo.Application.Dto.PointOfInterestDto, CityInfo.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Runtime.CompilerServices.IAsyncStateMachine, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2022-04-20 15:30:26.090 +02:00 [DBG] Found the endpoints ["CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)"] for address Microsoft.AspNetCore.Routing.RouteValuesAddress
2022-04-20 15:30:26.126 +02:00 [DBG] Failed to process the template api/cities/{cityId}/pointsofinterest/{pointofinterestid} for CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API). A required route value is missing, or has a different value from the required default values. Supplied ambient values { "action": "CreatePointOfInterest", "cityId": "3", "controller": "PointsOfInterest" } and { } with default values { "action": "GetPointOfInterest", "controller": "PointsOfInterest" }
2022-04-20 15:30:26.154 +02:00 [DBG] Link generation failed for endpoints ["CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)"]
2022-04-20 15:30:26.179 +02:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API) in 51206.7907ms
2022-04-20 15:30:26.185 +02:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2022-04-20 15:30:26.197 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: No route matches the supplied values.
   at Microsoft.AspNetCore.Mvc.CreatedAtRouteResult.OnFormatting(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor.ExecuteAsyncCore(ActionContext context, ObjectResult result, Type objectType, Object value)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor.ExecuteAsync(ActionContext context, ObjectResult result)
   at Microsoft.AspNetCore.Mvc.ObjectResult.ExecuteResultAsync(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultAsync(IActionResult result)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeNextResultFilterAsync[TFilter,TFilterAsync]()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2022-04-20 15:30:26.327 +02:00 [DBG] Connection id "0HMH2Q6TQREL7" completed keep alive response.
2022-04-20 15:30:26.335 +02:00 [DBG] 'CityInfoContext' disposed.
2022-04-20 15:30:26.353 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:5001/api/cities/3/pointsofinterest application/json 117 - 500 - text/plain 51648.2410ms
2022-04-20 15:30:55.443 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:5001/api/cities/3/pointsofinterest application/json 117
2022-04-20 15:30:55.457 +02:00 [DBG] POST requests are not supported
2022-04-20 15:30:55.461 +02:00 [DBG] 1 candidate(s) found for the request path '/api/cities/3/pointsofinterest'
2022-04-20 15:30:55.470 +02:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/3/pointsofinterest'
2022-04-20 15:30:55.476 +02:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2022-04-20 15:30:55.480 +02:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2022-04-20 15:30:55.493 +02:00 [INF] Route matched with {action = "CreatePointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.Application.Dto.PointOfInterestDto] CreatePointOfInterest(Int32, CityInfo.Application.Dto.PointOfInterestForCreationDto) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2022-04-20 15:30:55.561 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-04-20 15:30:55.569 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-04-20 15:30:55.574 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-04-20 15:30:55.577 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-04-20 15:30:55.582 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-04-20 15:30:55.585 +02:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2022-04-20 15:30:55.597 +02:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2022-04-20 15:30:55.601 +02:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2022-04-20 15:30:55.603 +02:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2022-04-20 15:30:55.605 +02:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2022-04-20 15:30:55.607 +02:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2022-04-20 15:30:55.610 +02:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2022-04-20 15:30:55.613 +02:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2022-04-20 15:30:55.615 +02:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.Application.Dto.PointOfInterestForCreationDto' ...
2022-04-20 15:30:55.620 +02:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.Application.Dto.PointOfInterestForCreationDto' using the name '' in request data ...
2022-04-20 15:30:55.625 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2022-04-20 15:30:55.628 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2022-04-20 15:30:55.630 +02:00 [DBG] Connection id "0HMH2Q6TQREL7", Request id "0HMH2Q6TQREL7:00000003": started reading request body.
2022-04-20 15:30:55.632 +02:00 [DBG] Connection id "0HMH2Q6TQREL7", Request id "0HMH2Q6TQREL7:00000003": done reading request body.
2022-04-20 15:30:55.635 +02:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.Application.Dto.PointOfInterestForCreationDto'.
2022-04-20 15:30:55.644 +02:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.Application.Dto.PointOfInterestForCreationDto'.
2022-04-20 15:30:55.649 +02:00 [DBG] Attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.Application.Dto.PointOfInterestForCreationDto' ...
2022-04-20 15:30:55.652 +02:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.Application.Dto.PointOfInterestForCreationDto'.
2022-04-20 15:30:55.698 +02:00 [INF] Entity Framework Core 5.0.15 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: None
2022-04-20 15:30:55.704 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-04-20 15:30:55.705 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-04-20 15:30:55.706 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-04-20 15:30:55.709 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API\CityInfo.db'.
2022-04-20 15:30:55.711 +02:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2022-04-20 15:30:55.724 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__cityId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2022-04-20 15:30:55.728 +02:00 [DBG] A data reader was disposed.
2022-04-20 15:30:55.731 +02:00 [DBG] Closing connection to database 'main' on server 'C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API\CityInfo.db'.
2022-04-20 15:30:55.735 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-04-20 15:30:55.738 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-04-20 15:30:55.740 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-04-20 15:30:55.743 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-04-20 15:30:55.752 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API\CityInfo.db'.
2022-04-20 15:30:55.755 +02:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2022-04-20 15:30:55.772 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[@__cityId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2022-04-20 15:30:55.780 +02:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-04-20 15:30:55.783 +02:00 [DBG] A data reader was disposed.
2022-04-20 15:30:55.784 +02:00 [DBG] Closing connection to database 'main' on server 'C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API\CityInfo.db'.
2022-04-20 15:30:55.787 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-04-20 15:30:55.789 +02:00 [DBG] SaveChanges starting for 'CityInfoContext'.
2022-04-20 15:30:55.797 +02:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2022-04-20 15:30:55.800 +02:00 [DBG] 1 entities were added and 0 entities were removed from navigation 'City.PointOfInterest'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-04-20 15:30:55.804 +02:00 [DBG] 'CityInfoContext' generated a temporary value for the property 'Id.PointOfInterest'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-04-20 15:30:55.806 +02:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-04-20 15:30:55.811 +02:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2022-04-20 15:30:55.815 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-04-20 15:30:55.820 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API\CityInfo.db'.
2022-04-20 15:30:55.823 +02:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2022-04-20 15:30:55.828 +02:00 [DBG] Began transaction with isolation level 'Serializable'.
2022-04-20 15:30:55.830 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-04-20 15:30:55.831 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-04-20 15:30:55.832 +02:00 [DBG] Executing DbCommand [Parameters=[@p0='?', @p1='?' (Size = 62), @p2='?' (Size = 13)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "PointsOfInterest" ("CityId", "Description", "Name")
VALUES (@p0, @p1, @p2);
SELECT "Id"
FROM "PointsOfInterest"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-04-20 15:30:55.836 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?', @p1='?' (Size = 62), @p2='?' (Size = 13)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "PointsOfInterest" ("CityId", "Description", "Name")
VALUES (@p0, @p1, @p2);
SELECT "Id"
FROM "PointsOfInterest"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-04-20 15:30:55.847 +02:00 [DBG] The foreign key property 'PointOfInterest.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2022-04-20 15:30:55.849 +02:00 [DBG] A data reader was disposed.
2022-04-20 15:30:55.850 +02:00 [DBG] Committing transaction.
2022-04-20 15:30:55.869 +02:00 [DBG] Committed transaction.
2022-04-20 15:30:55.870 +02:00 [DBG] Closing connection to database 'main' on server 'C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API\CityInfo.db'.
2022-04-20 15:30:55.877 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-04-20 15:30:55.878 +02:00 [DBG] Disposing transaction.
2022-04-20 15:30:55.880 +02:00 [DBG] An entity of type 'PointOfInterest' tracked by 'CityInfoContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-04-20 15:30:55.882 +02:00 [DBG] SaveChanges completed for 'CityInfoContext' with 1 entities written to the database.
2022-04-20 15:31:45.577 +02:00 [DBG] Hosting starting
2022-04-20 15:31:46.038 +02:00 [DBG] Using development certificate: CN=localhost (Thumbprint: A40C6697D0C21C2C32B35E9E8F9AD3269C88392E)
2022-04-20 15:31:46.101 +02:00 [INF] Now listening on: https://localhost:5001
2022-04-20 15:31:46.110 +02:00 [INF] Now listening on: http://localhost:5000
2022-04-20 15:31:46.115 +02:00 [DBG] Loaded hosting startup assembly CityInfo.API
2022-04-20 15:31:46.116 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2022-04-20 15:31:46.117 +02:00 [INF] Hosting environment: Development
2022-04-20 15:31:46.118 +02:00 [INF] Content root path: C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API
2022-04-20 15:31:46.119 +02:00 [DBG] Hosting started
2022-04-20 15:31:46.198 +02:00 [DBG] Connection id "0HMH2Q8EQ25CM" received FIN.
2022-04-20 15:31:46.216 +02:00 [DBG] Connection id "0HMH2Q8EQ25CM" accepted.
2022-04-20 15:31:46.218 +02:00 [DBG] Connection id "0HMH2Q8EQ25CM" started.
2022-04-20 15:31:46.258 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-04-20 15:31:46.407 +02:00 [DBG] Connection id "0HMH2Q8EQ25CM" stopped.
2022-04-20 15:31:46.421 +02:00 [DBG] Connection id "0HMH2Q8EQ25CM" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-04-20 15:31:46.948 +02:00 [DBG] Connection id "0HMH2Q8EQ25CN" accepted.
2022-04-20 15:31:47.001 +02:00 [DBG] Connection id "0HMH2Q8EQ25CN" started.
2022-04-20 15:31:47.117 +02:00 [DBG] Connection "0HMH2Q8EQ25CN" established using the following protocol: "Tls12"
2022-04-20 15:31:47.458 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - -
2022-04-20 15:31:47.466 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-04-20 15:31:47.774 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - - - 200 - text/html;charset=utf-8 324.3689ms
2022-04-20 15:31:48.151 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - -
2022-04-20 15:31:48.549 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 398.1553ms
2022-04-20 15:31:58.050 +02:00 [DBG] Connection id "0HMH2Q8EQ25CO" accepted.
2022-04-20 15:31:58.052 +02:00 [DBG] Connection id "0HMH2Q8EQ25CO" received FIN.
2022-04-20 15:31:58.053 +02:00 [DBG] Connection id "0HMH2Q8EQ25CP" accepted.
2022-04-20 15:31:58.053 +02:00 [DBG] Connection id "0HMH2Q8EQ25CO" started.
2022-04-20 15:31:58.057 +02:00 [DBG] Connection id "0HMH2Q8EQ25CP" started.
2022-04-20 15:31:58.060 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-04-20 15:31:58.088 +02:00 [DBG] Connection "0HMH2Q8EQ25CP" established using the following protocol: "Tls12"
2022-04-20 15:31:58.094 +02:00 [DBG] Connection id "0HMH2Q8EQ25CO" stopped.
2022-04-20 15:31:58.099 +02:00 [DBG] Connection id "0HMH2Q8EQ25CO" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-04-20 15:31:58.117 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:5001/api/cities/3/pointsofinterest application/json 117
2022-04-20 15:31:58.193 +02:00 [DBG] POST requests are not supported
2022-04-20 15:31:58.331 +02:00 [DBG] 1 candidate(s) found for the request path '/api/cities/3/pointsofinterest'
2022-04-20 15:31:58.344 +02:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/3/pointsofinterest'
2022-04-20 15:31:58.349 +02:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2022-04-20 15:31:58.357 +02:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2022-04-20 15:31:58.378 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-04-20 15:31:58.458 +02:00 [INF] Route matched with {action = "CreatePointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.Application.Dto.PointOfInterestDto] CreatePointOfInterest(Int32, CityInfo.Application.Dto.PointOfInterestForCreationDto) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2022-04-20 15:31:58.464 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-04-20 15:31:58.468 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-04-20 15:31:58.472 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-04-20 15:31:58.476 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-04-20 15:31:58.481 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-04-20 15:31:58.485 +02:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2022-04-20 15:31:58.814 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2022-04-20 15:31:59.127 +02:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2022-04-20 15:31:59.140 +02:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2022-04-20 15:31:59.147 +02:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2022-04-20 15:31:59.154 +02:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2022-04-20 15:31:59.155 +02:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2022-04-20 15:31:59.157 +02:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2022-04-20 15:31:59.174 +02:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2022-04-20 15:31:59.183 +02:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.Application.Dto.PointOfInterestForCreationDto' ...
2022-04-20 15:31:59.187 +02:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.Application.Dto.PointOfInterestForCreationDto' using the name '' in request data ...
2022-04-20 15:31:59.197 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2022-04-20 15:31:59.202 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2022-04-20 15:31:59.211 +02:00 [DBG] Connection id "0HMH2Q8EQ25CP", Request id "0HMH2Q8EQ25CP:00000002": started reading request body.
2022-04-20 15:31:59.213 +02:00 [DBG] Connection id "0HMH2Q8EQ25CP", Request id "0HMH2Q8EQ25CP:00000002": done reading request body.
2022-04-20 15:31:59.409 +02:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.Application.Dto.PointOfInterestForCreationDto'.
2022-04-20 15:31:59.411 +02:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.Application.Dto.PointOfInterestForCreationDto'.
2022-04-20 15:31:59.413 +02:00 [DBG] Attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.Application.Dto.PointOfInterestForCreationDto' ...
2022-04-20 15:31:59.428 +02:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.Application.Dto.PointOfInterestForCreationDto'.
2022-04-20 15:32:00.584 +02:00 [INF] Entity Framework Core 5.0.15 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: None
2022-04-20 15:32:00.640 +02:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(c => c.Id == __cityId_0)'
2022-04-20 15:32:00.860 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                Projection Mapping:
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.Infrastructure.DbContexts.CityInfoContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2022-04-20 15:32:00.924 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-04-20 15:32:01.110 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (182ms).
2022-04-20 15:32:01.129 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-04-20 15:32:01.165 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API\CityInfo.db'.
2022-04-20 15:32:01.203 +02:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2022-04-20 15:32:01.259 +02:00 [INF] Executed DbCommand (56ms) [Parameters=[@__cityId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2022-04-20 15:32:01.280 +02:00 [DBG] A data reader was disposed.
2022-04-20 15:32:01.289 +02:00 [DBG] Closing connection to database 'main' on server 'C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API\CityInfo.db'.
2022-04-20 15:32:01.309 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-04-20 15:32:01.341 +02:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Where(c => c.Id == __cityId_0)
    .FirstOrDefault()'
2022-04-20 15:32:01.404 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2], }
            SELECT TOP(1) c.Id, c.Description, c.Name
            FROM Cities AS c
            WHERE c.Id == @__cityId_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        CityInfo.Infrastructure.DbContexts.CityInfoContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2022-04-20 15:32:01.421 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-04-20 15:32:01.423 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2022-04-20 15:32:01.425 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-04-20 15:32:01.431 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API\CityInfo.db'.
2022-04-20 15:32:01.433 +02:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2022-04-20 15:32:01.439 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__cityId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2022-04-20 15:32:01.465 +02:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-04-20 15:32:01.513 +02:00 [DBG] A data reader was disposed.
2022-04-20 15:32:01.515 +02:00 [DBG] Closing connection to database 'main' on server 'C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API\CityInfo.db'.
2022-04-20 15:32:01.522 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-04-20 15:32:01.530 +02:00 [DBG] SaveChanges starting for 'CityInfoContext'.
2022-04-20 15:32:01.534 +02:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2022-04-20 15:32:01.572 +02:00 [DBG] 1 entities were added and 0 entities were removed from navigation 'City.PointOfInterest'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-04-20 15:32:01.617 +02:00 [DBG] 'CityInfoContext' generated a temporary value for the property 'Id.PointOfInterest'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-04-20 15:32:01.657 +02:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-04-20 15:32:01.662 +02:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2022-04-20 15:32:01.686 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-04-20 15:32:01.691 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API\CityInfo.db'.
2022-04-20 15:32:01.699 +02:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2022-04-20 15:32:01.709 +02:00 [DBG] Began transaction with isolation level 'Serializable'.
2022-04-20 15:32:01.781 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-04-20 15:32:01.782 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-04-20 15:32:01.784 +02:00 [DBG] Executing DbCommand [Parameters=[@p0='?', @p1='?' (Size = 62), @p2='?' (Size = 13)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "PointsOfInterest" ("CityId", "Description", "Name")
VALUES (@p0, @p1, @p2);
SELECT "Id"
FROM "PointsOfInterest"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-04-20 15:32:01.789 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?', @p1='?' (Size = 62), @p2='?' (Size = 13)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "PointsOfInterest" ("CityId", "Description", "Name")
VALUES (@p0, @p1, @p2);
SELECT "Id"
FROM "PointsOfInterest"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-04-20 15:32:01.833 +02:00 [DBG] The foreign key property 'PointOfInterest.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2022-04-20 15:32:01.847 +02:00 [DBG] A data reader was disposed.
2022-04-20 15:32:01.855 +02:00 [DBG] Committing transaction.
2022-04-20 15:32:01.865 +02:00 [DBG] Committed transaction.
2022-04-20 15:32:01.874 +02:00 [DBG] Closing connection to database 'main' on server 'C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API\CityInfo.db'.
2022-04-20 15:32:01.885 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-04-20 15:32:01.890 +02:00 [DBG] Disposing transaction.
2022-04-20 15:32:01.905 +02:00 [DBG] An entity of type 'PointOfInterest' tracked by 'CityInfoContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-04-20 15:32:01.912 +02:00 [DBG] SaveChanges completed for 'CityInfoContext' with 1 entities written to the database.
2022-04-20 15:32:27.119 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2022-04-20 15:32:27.127 +02:00 [DBG] No information found on request to perform content negotiation.
2022-04-20 15:32:27.128 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-04-20 15:32:27.130 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-04-20 15:32:27.133 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-04-20 15:32:27.135 +02:00 [INF] Executing CreatedAtRouteResult, writing value of type 'CityInfo.Application.Dto.PointOfInterestDto'.
2022-04-20 15:32:27.158 +02:00 [DBG] Found the endpoints ["CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)"] for address Microsoft.AspNetCore.Routing.RouteValuesAddress
2022-04-20 15:32:27.184 +02:00 [DBG] Failed to process the template api/cities/{cityId}/pointsofinterest/{pointofinterestid} for CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API). A required route value is missing, or has a different value from the required default values. Supplied ambient values { "action": "CreatePointOfInterest", "cityId": "3", "controller": "PointsOfInterest" } and { } with default values { "action": "GetPointOfInterest", "controller": "PointsOfInterest" }
2022-04-20 15:32:27.198 +02:00 [DBG] Link generation failed for endpoints ["CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)"]
2022-04-20 15:32:27.213 +02:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API) in 28722.2347ms
2022-04-20 15:32:27.226 +02:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2022-04-20 15:32:27.233 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: No route matches the supplied values.
   at Microsoft.AspNetCore.Mvc.CreatedAtRouteResult.OnFormatting(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor.ExecuteAsyncCore(ActionContext context, ObjectResult result, Type objectType, Object value)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor.ExecuteAsync(ActionContext context, ObjectResult result)
   at Microsoft.AspNetCore.Mvc.ObjectResult.ExecuteResultAsync(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultAsync(IActionResult result)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeNextResultFilterAsync[TFilter,TFilterAsync]()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2022-04-20 15:32:27.283 +02:00 [DBG] Connection id "0HMH2Q8EQ25CP" completed keep alive response.
2022-04-20 15:32:27.287 +02:00 [DBG] 'CityInfoContext' disposed.
2022-04-20 15:32:27.292 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:5001/api/cities/3/pointsofinterest application/json 117 - 500 - text/plain 29175.1564ms
2022-04-20 15:33:57.723 +02:00 [DBG] Hosting starting
2022-04-20 15:33:58.479 +02:00 [DBG] Using development certificate: CN=localhost (Thumbprint: A40C6697D0C21C2C32B35E9E8F9AD3269C88392E)
2022-04-20 15:33:58.601 +02:00 [INF] Now listening on: https://localhost:5001
2022-04-20 15:33:58.602 +02:00 [INF] Now listening on: http://localhost:5000
2022-04-20 15:33:58.603 +02:00 [DBG] Loaded hosting startup assembly CityInfo.API
2022-04-20 15:33:58.605 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2022-04-20 15:33:58.606 +02:00 [INF] Hosting environment: Development
2022-04-20 15:33:58.607 +02:00 [INF] Content root path: C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API
2022-04-20 15:33:58.608 +02:00 [DBG] Hosting started
2022-04-20 15:33:58.815 +02:00 [DBG] Connection id "0HMH2Q9MAKTFE" received FIN.
2022-04-20 15:33:58.815 +02:00 [DBG] Connection id "0HMH2Q9MAKTFE" accepted.
2022-04-20 15:33:58.819 +02:00 [DBG] Connection id "0HMH2Q9MAKTFE" started.
2022-04-20 15:33:58.857 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-04-20 15:33:59.028 +02:00 [DBG] Connection id "0HMH2Q9MAKTFE" stopped.
2022-04-20 15:33:59.033 +02:00 [DBG] Connection id "0HMH2Q9MAKTFE" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-04-20 15:33:59.751 +02:00 [DBG] Connection id "0HMH2Q9MAKTFF" accepted.
2022-04-20 15:33:59.872 +02:00 [DBG] Connection id "0HMH2Q9MAKTFF" started.
2022-04-20 15:34:00.030 +02:00 [DBG] Connection "0HMH2Q9MAKTFF" established using the following protocol: "Tls12"
2022-04-20 15:34:00.216 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - -
2022-04-20 15:34:00.223 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-04-20 15:34:00.962 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - - - 200 - text/html;charset=utf-8 755.6764ms
2022-04-20 15:34:01.389 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - -
2022-04-20 15:34:02.109 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 720.1502ms
2022-04-20 15:34:06.012 +02:00 [DBG] Connection id "0HMH2Q9MAKTFG" accepted.
2022-04-20 15:34:06.016 +02:00 [DBG] Connection id "0HMH2Q9MAKTFG" started.
2022-04-20 15:34:06.016 +02:00 [DBG] Connection id "0HMH2Q9MAKTFH" accepted.
2022-04-20 15:34:06.016 +02:00 [DBG] Connection id "0HMH2Q9MAKTFG" received FIN.
2022-04-20 15:34:06.041 +02:00 [DBG] Connection id "0HMH2Q9MAKTFH" started.
2022-04-20 15:34:06.046 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|182_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-04-20 15:34:06.074 +02:00 [DBG] Connection id "0HMH2Q9MAKTFG" stopped.
2022-04-20 15:34:06.079 +02:00 [DBG] Connection id "0HMH2Q9MAKTFG" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-04-20 15:34:06.089 +02:00 [DBG] Connection "0HMH2Q9MAKTFH" established using the following protocol: "Tls12"
2022-04-20 15:34:06.109 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:5001/api/cities/3/pointsofinterest application/json 117
2022-04-20 15:34:06.117 +02:00 [DBG] POST requests are not supported
2022-04-20 15:34:06.220 +02:00 [DBG] 1 candidate(s) found for the request path '/api/cities/3/pointsofinterest'
2022-04-20 15:34:06.240 +02:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/3/pointsofinterest'
2022-04-20 15:34:06.245 +02:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2022-04-20 15:34:06.254 +02:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2022-04-20 15:34:06.281 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-04-20 15:34:06.367 +02:00 [INF] Route matched with {action = "CreatePointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.Application.Dto.PointOfInterestDto] CreatePointOfInterest(Int32, CityInfo.Application.Dto.PointOfInterestForCreationDto) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2022-04-20 15:34:06.378 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-04-20 15:34:06.380 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-04-20 15:34:06.383 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-04-20 15:34:06.387 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-04-20 15:34:06.389 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-04-20 15:34:06.398 +02:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2022-04-20 15:34:06.609 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2022-04-20 15:34:06.913 +02:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2022-04-20 15:34:06.926 +02:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2022-04-20 15:34:06.930 +02:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2022-04-20 15:34:06.936 +02:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2022-04-20 15:34:06.937 +02:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2022-04-20 15:34:06.939 +02:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2022-04-20 15:34:06.942 +02:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2022-04-20 15:34:06.945 +02:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.Application.Dto.PointOfInterestForCreationDto' ...
2022-04-20 15:34:06.954 +02:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.Application.Dto.PointOfInterestForCreationDto' using the name '' in request data ...
2022-04-20 15:34:06.956 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2022-04-20 15:34:06.958 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2022-04-20 15:34:06.967 +02:00 [DBG] Connection id "0HMH2Q9MAKTFH", Request id "0HMH2Q9MAKTFH:00000002": started reading request body.
2022-04-20 15:34:06.969 +02:00 [DBG] Connection id "0HMH2Q9MAKTFH", Request id "0HMH2Q9MAKTFH:00000002": done reading request body.
2022-04-20 15:34:07.203 +02:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.Application.Dto.PointOfInterestForCreationDto'.
2022-04-20 15:34:07.206 +02:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.Application.Dto.PointOfInterestForCreationDto'.
2022-04-20 15:34:07.209 +02:00 [DBG] Attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.Application.Dto.PointOfInterestForCreationDto' ...
2022-04-20 15:34:07.231 +02:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.Application.Dto.PointOfInterestForCreationDto'.
2022-04-20 15:34:08.459 +02:00 [INF] Entity Framework Core 5.0.15 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: None
2022-04-20 15:34:08.545 +02:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(c => c.Id == __cityId_0)'
2022-04-20 15:34:08.791 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                Projection Mapping:
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.Infrastructure.DbContexts.CityInfoContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2022-04-20 15:34:08.853 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-04-20 15:34:09.064 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (208ms).
2022-04-20 15:34:09.080 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-04-20 15:34:09.112 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API\CityInfo.db'.
2022-04-20 15:34:09.136 +02:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2022-04-20 15:34:09.186 +02:00 [INF] Executed DbCommand (53ms) [Parameters=[@__cityId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2022-04-20 15:34:09.213 +02:00 [DBG] A data reader was disposed.
2022-04-20 15:34:09.219 +02:00 [DBG] Closing connection to database 'main' on server 'C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API\CityInfo.db'.
2022-04-20 15:34:09.240 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-04-20 15:34:09.268 +02:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Where(c => c.Id == __cityId_0)
    .FirstOrDefault()'
2022-04-20 15:34:09.363 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2], }
            SELECT TOP(1) c.Id, c.Description, c.Name
            FROM Cities AS c
            WHERE c.Id == @__cityId_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        CityInfo.Infrastructure.DbContexts.CityInfoContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2022-04-20 15:34:09.418 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-04-20 15:34:09.419 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-04-20 15:34:09.428 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-04-20 15:34:09.434 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API\CityInfo.db'.
2022-04-20 15:34:09.439 +02:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2022-04-20 15:34:09.448 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__cityId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2022-04-20 15:34:09.469 +02:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-04-20 15:34:09.511 +02:00 [DBG] A data reader was disposed.
2022-04-20 15:34:09.512 +02:00 [DBG] Closing connection to database 'main' on server 'C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API\CityInfo.db'.
2022-04-20 15:34:09.516 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-04-20 15:34:09.523 +02:00 [DBG] SaveChanges starting for 'CityInfoContext'.
2022-04-20 15:34:09.530 +02:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2022-04-20 15:34:09.561 +02:00 [DBG] 1 entities were added and 0 entities were removed from navigation 'City.PointOfInterest'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-04-20 15:34:09.607 +02:00 [DBG] 'CityInfoContext' generated a temporary value for the property 'Id.PointOfInterest'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-04-20 15:34:09.641 +02:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-04-20 15:34:09.646 +02:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2022-04-20 15:34:09.671 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-04-20 15:34:09.676 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API\CityInfo.db'.
2022-04-20 15:34:09.683 +02:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2022-04-20 15:34:09.693 +02:00 [DBG] Began transaction with isolation level 'Serializable'.
2022-04-20 15:34:09.760 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-04-20 15:34:09.761 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-04-20 15:34:09.763 +02:00 [DBG] Executing DbCommand [Parameters=[@p0='?', @p1='?' (Size = 62), @p2='?' (Size = 13)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "PointsOfInterest" ("CityId", "Description", "Name")
VALUES (@p0, @p1, @p2);
SELECT "Id"
FROM "PointsOfInterest"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-04-20 15:34:09.768 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?', @p1='?' (Size = 62), @p2='?' (Size = 13)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "PointsOfInterest" ("CityId", "Description", "Name")
VALUES (@p0, @p1, @p2);
SELECT "Id"
FROM "PointsOfInterest"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-04-20 15:34:09.815 +02:00 [DBG] The foreign key property 'PointOfInterest.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2022-04-20 15:34:09.832 +02:00 [DBG] A data reader was disposed.
2022-04-20 15:34:09.840 +02:00 [DBG] Committing transaction.
2022-04-20 15:34:09.863 +02:00 [DBG] Committed transaction.
2022-04-20 15:34:09.875 +02:00 [DBG] Closing connection to database 'main' on server 'C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API\CityInfo.db'.
2022-04-20 15:34:09.887 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-04-20 15:34:09.893 +02:00 [DBG] Disposing transaction.
2022-04-20 15:34:09.912 +02:00 [DBG] An entity of type 'PointOfInterest' tracked by 'CityInfoContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-04-20 15:34:09.917 +02:00 [DBG] SaveChanges completed for 'CityInfoContext' with 1 entities written to the database.
2022-04-20 15:34:20.119 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2022-04-20 15:34:20.129 +02:00 [DBG] No information found on request to perform content negotiation.
2022-04-20 15:34:20.131 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-04-20 15:34:20.133 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-04-20 15:34:20.139 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-04-20 15:34:20.145 +02:00 [INF] Executing OkObjectResult, writing value of type 'CityInfo.Application.Dto.PointOfInterestDto'.
2022-04-20 15:34:20.221 +02:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API) in 13818.6793ms
2022-04-20 15:34:20.224 +02:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2022-04-20 15:34:20.226 +02:00 [DBG] Connection id "0HMH2Q9MAKTFH" completed keep alive response.
2022-04-20 15:34:20.230 +02:00 [DBG] 'CityInfoContext' disposed.
2022-04-20 15:34:20.239 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:5001/api/cities/3/pointsofinterest application/json 117 - 200 112 application/json;+charset=utf-8 14130.0932ms
2022-04-20 16:11:20.882 +02:00 [DBG] Hosting starting
2022-04-20 16:11:22.168 +02:00 [DBG] Using development certificate: CN=localhost (Thumbprint: A40C6697D0C21C2C32B35E9E8F9AD3269C88392E)
2022-04-20 16:11:22.298 +02:00 [INF] Now listening on: https://localhost:5001
2022-04-20 16:11:22.307 +02:00 [INF] Now listening on: http://localhost:5000
2022-04-20 16:11:22.310 +02:00 [DBG] Loaded hosting startup assembly CityInfo.API
2022-04-20 16:11:22.313 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2022-04-20 16:11:22.314 +02:00 [INF] Hosting environment: Development
2022-04-20 16:11:22.318 +02:00 [INF] Content root path: C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API
2022-04-20 16:11:22.320 +02:00 [DBG] Hosting started
2022-04-20 16:11:22.976 +02:00 [DBG] Connection id "0HMH2QUJ4N3UF" accepted.
2022-04-20 16:11:22.976 +02:00 [DBG] Connection id "0HMH2QUJ4N3UG" accepted.
2022-04-20 16:11:22.977 +02:00 [DBG] Connection id "0HMH2QUJ4N3UG" received FIN.
2022-04-20 16:11:22.976 +02:00 [DBG] Connection id "0HMH2QUJ4N3UF" received FIN.
2022-04-20 16:11:22.981 +02:00 [DBG] Connection id "0HMH2QUJ4N3UG" started.
2022-04-20 16:11:22.981 +02:00 [DBG] Connection id "0HMH2QUJ4N3UF" started.
2022-04-20 16:11:23.029 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-04-20 16:11:23.029 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-04-20 16:11:23.184 +02:00 [DBG] Connection id "0HMH2QUJ4N3UG" stopped.
2022-04-20 16:11:23.184 +02:00 [DBG] Connection id "0HMH2QUJ4N3UF" stopped.
2022-04-20 16:11:23.208 +02:00 [DBG] Connection id "0HMH2QUJ4N3UG" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-04-20 16:11:23.239 +02:00 [DBG] Connection id "0HMH2QUJ4N3UF" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-04-20 16:11:24.268 +02:00 [DBG] Connection id "0HMH2QUJ4N3UH" accepted.
2022-04-20 16:11:24.270 +02:00 [DBG] Connection id "0HMH2QUJ4N3UH" started.
2022-04-20 16:11:24.440 +02:00 [DBG] Connection "0HMH2QUJ4N3UH" established using the following protocol: "Tls12"
2022-04-20 16:11:24.555 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - -
2022-04-20 16:11:24.562 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-04-20 16:11:24.797 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - - - 200 - text/html;charset=utf-8 249.4462ms
2022-04-20 16:11:25.042 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/swagger-ui.css - -
2022-04-20 16:11:25.267 +02:00 [DBG] The file transmission was cancelled
System.OperationCanceledException: The operation was canceled.
   at System.Threading.CancellationToken.ThrowOperationCanceledException()
   at System.Threading.CancellationToken.ThrowIfCancellationRequested()
   at Microsoft.AspNetCore.Http.SendFileResponseExtensions.SendFileAsyncCore(HttpResponse response, IFileInfo file, Int64 offset, Nullable`1 count, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.StaticFiles.StaticFileContext.SendAsync()
2022-04-20 16:11:25.283 +02:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2022-04-20 16:11:25.285 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/swagger-ui.css - - - 0 142933 text/css 242.4162ms
2022-04-20 16:11:25.301 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - -
2022-04-20 16:11:25.671 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 369.9045ms
2022-04-20 16:11:39.977 +02:00 [DBG] Connection id "0HMH2QUJ4N3UI" accepted.
2022-04-20 16:11:39.984 +02:00 [DBG] Connection id "0HMH2QUJ4N3UI" received FIN.
2022-04-20 16:11:39.986 +02:00 [DBG] Connection id "0HMH2QUJ4N3UI" started.
2022-04-20 16:11:39.988 +02:00 [DBG] Connection id "0HMH2QUJ4N3UJ" accepted.
2022-04-20 16:11:39.994 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-04-20 16:11:39.995 +02:00 [DBG] Connection id "0HMH2QUJ4N3UJ" started.
2022-04-20 16:11:40.009 +02:00 [DBG] Connection id "0HMH2QUJ4N3UI" stopped.
2022-04-20 16:11:40.012 +02:00 [DBG] Connection id "0HMH2QUJ4N3UI" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-04-20 16:11:40.030 +02:00 [DBG] Connection "0HMH2QUJ4N3UJ" established using the following protocol: "Tls12"
2022-04-20 16:11:40.047 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:5001/api/cities/3/pointsofinterest application/json 117
2022-04-20 16:11:40.051 +02:00 [DBG] POST requests are not supported
2022-04-20 16:11:40.130 +02:00 [DBG] 1 candidate(s) found for the request path '/api/cities/3/pointsofinterest'
2022-04-20 16:11:40.139 +02:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/3/pointsofinterest'
2022-04-20 16:11:40.154 +02:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2022-04-20 16:11:40.164 +02:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2022-04-20 16:11:40.184 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-04-20 16:11:40.274 +02:00 [INF] Route matched with {action = "CreatePointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.Application.Dto.PointOfInterestDto] CreatePointOfInterest(Int32, CityInfo.Application.Dto.PointOfInterestForCreationDto) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2022-04-20 16:11:40.279 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-04-20 16:11:40.282 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-04-20 16:11:40.285 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-04-20 16:11:40.288 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-04-20 16:11:40.291 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-04-20 16:11:40.298 +02:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2022-04-20 16:11:40.541 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2022-04-20 16:11:40.609 +02:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2022-04-20 16:11:40.651 +02:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2022-04-20 16:11:40.656 +02:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2022-04-20 16:11:40.661 +02:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2022-04-20 16:11:40.662 +02:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2022-04-20 16:11:40.664 +02:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2022-04-20 16:11:40.675 +02:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2022-04-20 16:11:40.681 +02:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.Application.Dto.PointOfInterestForCreationDto' ...
2022-04-20 16:11:40.685 +02:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.Application.Dto.PointOfInterestForCreationDto' using the name '' in request data ...
2022-04-20 16:11:40.691 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2022-04-20 16:11:40.697 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2022-04-20 16:11:40.726 +02:00 [DBG] Connection id "0HMH2QUJ4N3UJ", Request id "0HMH2QUJ4N3UJ:00000002": started reading request body.
2022-04-20 16:11:40.727 +02:00 [DBG] Connection id "0HMH2QUJ4N3UJ", Request id "0HMH2QUJ4N3UJ:00000002": done reading request body.
2022-04-20 16:11:40.932 +02:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.Application.Dto.PointOfInterestForCreationDto'.
2022-04-20 16:11:40.935 +02:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.Application.Dto.PointOfInterestForCreationDto'.
2022-04-20 16:11:40.939 +02:00 [DBG] Attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.Application.Dto.PointOfInterestForCreationDto' ...
2022-04-20 16:11:40.955 +02:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.Application.Dto.PointOfInterestForCreationDto'.
2022-04-20 16:11:42.276 +02:00 [INF] Entity Framework Core 5.0.15 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: None
2022-04-20 16:11:42.338 +02:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(c => c.Id == __cityId_0)'
2022-04-20 16:11:42.609 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                Projection Mapping:
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.Infrastructure.DbContexts.CityInfoContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2022-04-20 16:11:42.679 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-04-20 16:11:42.882 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (199ms).
2022-04-20 16:11:42.894 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-04-20 16:11:42.929 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API\CityInfo.db'.
2022-04-20 16:11:42.946 +02:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2022-04-20 16:11:43.011 +02:00 [INF] Executed DbCommand (59ms) [Parameters=[@__cityId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2022-04-20 16:11:43.037 +02:00 [DBG] A data reader was disposed.
2022-04-20 16:11:43.055 +02:00 [DBG] Closing connection to database 'main' on server 'C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API\CityInfo.db'.
2022-04-20 16:11:43.076 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-04-20 16:11:43.114 +02:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Where(c => c.Id == __cityId_0)
    .FirstOrDefault()'
2022-04-20 16:11:43.187 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2], }
            SELECT TOP(1) c.Id, c.Description, c.Name
            FROM Cities AS c
            WHERE c.Id == @__cityId_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        CityInfo.Infrastructure.DbContexts.CityInfoContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2022-04-20 16:11:43.216 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-04-20 16:11:43.219 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2022-04-20 16:11:43.222 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-04-20 16:11:43.226 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API\CityInfo.db'.
2022-04-20 16:11:43.228 +02:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2022-04-20 16:11:43.238 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__cityId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2022-04-20 16:11:43.258 +02:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-04-20 16:11:43.301 +02:00 [DBG] A data reader was disposed.
2022-04-20 16:11:43.302 +02:00 [DBG] Closing connection to database 'main' on server 'C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API\CityInfo.db'.
2022-04-20 16:11:43.307 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-04-20 16:11:43.313 +02:00 [DBG] SaveChanges starting for 'CityInfoContext'.
2022-04-20 16:11:43.320 +02:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2022-04-20 16:11:43.359 +02:00 [DBG] 1 entities were added and 0 entities were removed from navigation 'City.PointOfInterest'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-04-20 16:11:43.411 +02:00 [DBG] 'CityInfoContext' generated a temporary value for the property 'Id.PointOfInterest'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-04-20 16:11:43.475 +02:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-04-20 16:11:43.481 +02:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2022-04-20 16:11:43.516 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-04-20 16:11:43.528 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API\CityInfo.db'.
2022-04-20 16:11:43.533 +02:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2022-04-20 16:11:43.551 +02:00 [DBG] Began transaction with isolation level 'Serializable'.
2022-04-20 16:11:43.646 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-04-20 16:11:43.658 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (11ms).
2022-04-20 16:11:43.661 +02:00 [DBG] Executing DbCommand [Parameters=[@p0='?', @p1='?' (Size = 62), @p2='?' (Size = 13)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "PointsOfInterest" ("CityId", "Description", "Name")
VALUES (@p0, @p1, @p2);
SELECT "Id"
FROM "PointsOfInterest"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-04-20 16:11:43.677 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[@p0='?', @p1='?' (Size = 62), @p2='?' (Size = 13)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "PointsOfInterest" ("CityId", "Description", "Name")
VALUES (@p0, @p1, @p2);
SELECT "Id"
FROM "PointsOfInterest"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-04-20 16:11:43.714 +02:00 [DBG] The foreign key property 'PointOfInterest.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2022-04-20 16:11:43.727 +02:00 [DBG] A data reader was disposed.
2022-04-20 16:11:43.732 +02:00 [DBG] Committing transaction.
2022-04-20 16:11:43.750 +02:00 [DBG] Committed transaction.
2022-04-20 16:11:43.755 +02:00 [DBG] Closing connection to database 'main' on server 'C:\Users\CodeTenor\Desktop\C#\APIFundementals\CityInfo\CityInfo.API\CityInfo.db'.
2022-04-20 16:11:43.763 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-04-20 16:11:43.767 +02:00 [DBG] Disposing transaction.
2022-04-20 16:11:43.787 +02:00 [DBG] An entity of type 'PointOfInterest' tracked by 'CityInfoContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-04-20 16:11:43.792 +02:00 [DBG] SaveChanges completed for 'CityInfoContext' with 1 entities written to the database.
